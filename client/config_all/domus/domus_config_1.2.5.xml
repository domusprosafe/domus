<?xml version="1.0" encoding="UTF-8" ?>

<crf description="DOMUS Case Report Form" name="domus" label="Domus" version="1.2.5" minValidDate="1970-01-01" maxValidDate="2099-10-31" >

  <classes>
    <class description="Time stamp" dataStorage="admission" name="timeStamp">
      <attribute description="Time stamp" dataType="timestamp" sortBy="domus.visitDate.visitDate" name="timeStamp"/>
    </class>
    <class description="Dynamic page" dataStorage="admission" name="dynPage" timeStamp="domus.timeStamp.timeStamp" >
      <attribute description="Dynamic page" dataType="codingset" codingSet="domus.pageCodification" name="dynPage"/>
    </class>
     
<!-- Anagrafica -->
    <class requiredForStatus="3" description="Patient type" name="patientType" >
      <!--<attribute description="Patient type" dataType="codingset" codingSet="domus.patientTypeCodification" name="patientType" label="Tipologia paziente" computedFormula="result='domus.patientTypeCodification.oncologicType'"
      />-->
      <attribute description="Patient type" dataType="codingset" codingSet="domus.patientTypeCodification" name="patientType" label="Tipologia paziente" />
    </class>
    
    <!--<class description="Patient type modify" name="patientTypeModify">
        <attribute description="Patient type modify" dataType="boolean" name="patientTypeModify" label="Modifica tipologia paziente" />
      </class>-->
    
    <class requiredForStatus="3" description="Patient name" dataStorage="patient" name="name">
      <attribute description="Patient first name" dataType="string" name="firstName" label="Nome"/>
      <attribute description="Patient last name" dataType="string" name="lastName" label="Cognome"/>
    </class>
    <class requiredForStatus="3" description="Patient sex" dataStorage="patient" name="sex">
      <attribute description="Patient sex" dataType="codingset" codingSet="domus.sexCodification" name="sex" label="Sesso"/>
    </class>
    
    <class requiredForStatus="3" description="Patient date of birth yyyy-mm-dd" dataStorage="patient" name="birthDate">
      <attribute description="Patient date of birth yyyy-mm-dd" dataType="datetime" name="birthDate" label="Data di nascita"/>
    </class>
    
    <class description="age" dataStorage="admission" name="age">
      <attribute computedFormula="result = years(|domus.birthDate.birthDate|[0])" description="age" dataType="int" name="age"/>
    </class>
    <class description="age in months" dataStorage="admission" name="ageMonths">
      <attribute computedFormula="result = months(|domus.birthDate.birthDate|[0])" description="age in months" dataType="int" name="ageMonths"/>
    </class>
    <class description="age in weeks" dataStorage="admission" name="ageWeeks">
      <attribute computedFormula="result = days(|domus.birthDate.birthDate|[0]) / 7" description="age in weeks" dataType="int" name="ageWeeks"/>
    </class>
    <class description="Patient place of birth" dataStorage="patient" name="placeOfBirth" label="Luogo di nascita">
      <attribute description="Patient town of birth" dataType="string" name="town" label="Città"/>
      <attribute description="Patient province of birth" dataType="string" name="province" label="Provincia"/>
      <attribute description="Patient country" dataType="codingset" codingSet="domus.countryCodification" name="country" label="Stato"/>
    </class>
     <class description="Patient address" dataStorage="patient" name="address" label="Indirizzo di residenza">
      <attribute description="Patient address: street" dataType="string" name="street" label="Via"/>
      <attribute description="Patient address: postal code" dataType="string" name="postalCode" label="Codice postale"/>
      <attribute description="Patient address: town" dataType="string" name="town" label="Città"/>
      <attribute description="Patient address: province" dataType="string" name="province" label="Provincia"/>
      <attribute description="Patient address: country" dataType="codingset" codingSet="domus.countryCodification" name="country" label="Stato"/>
    </class>
    <class description="Patient phone numbers" dataStorage="patient" name="phone" label="Numeri di telefono">
      <attribute description="Patient home phone number" dataType="string" name="homePhone" label="Abitazione"/>
      <attribute description="Patient mobile phone number" dataType="string" name="mobilePhone" label="Cellulare"/>
    </class>
    <class description="Patient reference ASL" dataStorage="patient" name="asl">
      <attribute description="Patient reference ASL" dataType="string" name="asl" label="ASL di riferimento"/>
    </class>
    <class description="Patient GP name" dataStorage="patient" name="gpName" label="Medico di medicina generale">
      <attribute description="Patient GP first name" dataType="string" name="gpFirstName" label="Nome"/>
      <attribute description="Patient GP last name" dataType="string" name="gpLastName" label="Cognome"/>
    </class>
    <class description="Patient fiscal code" dataStorage="patient" name="fiscalCode">
      <attribute description="Patient fiscal code" dataType="string" name="fiscalCode" label="Codice fiscale"/>
    </class>
    <class description="National health service number" dataStorage="patient" name="nhsNumber">
      <attribute description="National health service number" dataType="string" name="nhsNumber" label="Numero tessera sanitaria"/>
    </class>
    <class description="Exemption number" dataStorage="patient" name="exemptionNumber">
      <attribute description="Exemption number" dataType="string" name="exemptionNumber" label="Numero esenzione"/>
    </class>
    
    <class description="Clinical record number" dataStorage="patient" name="crnNumber">
      <attribute description="Clinical record number" dataType="string" name="crnNumber" label="Numero cartella clinica"/>
    </class>
    
    <class description="Sede di erogazione della NED" name="sedeErogazioneNED" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Sede di erogazione della NED" dataType="codingset" codingSet="domus.codificaSedeErogazioneNED" name="sedeErogazioneNED" label="Sede di erogazione della NED"/>
    </class>
    
<!-- Scheda ingresso -->
    <class requiredForStatus="3" description="Admission date" dataStorage="admission" name="admissionDate">
      <attribute description="Admission date yyyy-mm-dd" dataType="datetime" name="admissionDate" label="Data di presa in carico"/>
    </class>
    
    <class requiredForStatus="3" description="Oncologic for NED patient type" dataStorage="admission" name="oncologicForNEDtype" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" label="Paziente oncologico">
      <attribute description="Oncologic for NED patient type" dataType="codingset" codingSet="domus.yesNoCodification" name="oncologicForNEDtype" label="Paziente oncologico" />
    </class>
    
    <class requiredForStatus="3" description="Lista paziente oncologico per NED" name="oncologicForNEDtypeList" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' and |domus.oncologicForNEDtype.oncologicForNEDtype|[0] == 'domus.yesNoCodification.yes' " >
      <attribute description="Lista paziente oncologico per NED" name="oncologicForNEDtypeList" dataType="codingset" codingSet="domus.codificaOncologicForNEDtype" />
    </class>
    
    <class requiredForStatus="3" description="Oncologic patient type" dataStorage="admission" name="oncologicPatientType" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
      <attribute description="Oncologic patient type" dataType="codingset" codingSet="domus.oncologicPatientTypeCodification" name="oncologicPatientType" label="Tipo di paziente oncologico"/>
    </class>
    <class requiredForStatus="3" description="Tumor primitive site" dataStorage="admission" name="tumorPrimitiveSite" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
      <attribute description="Tumor primitive site" dataType="codingset" codingSet="domus.tumorPrimitiveSiteCodification" name="tumorPrimitiveSite" label="Sede primitiva"/>
    </class>
    
    <class requiredForStatus="3" description="Other tumor primitive site" dataStorage="admission" name="otherTumorPrimitiveSite" visible="result =  |domus.tumorPrimitiveSite.tumorPrimitiveSite|[0] == 'domus.tumorPrimitiveSiteCodification.other' and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
    </class>
    
    <class requiredForStatus="3" description="Metastasis" dataStorage="admission" name="metastasis" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' and |domus.oncologicPatientType.oncologicPatientType| and |domus.oncologicPatientType.oncologicPatientType|[0] not in ['domus.oncologicPatientTypeCodification.CRT','domus.oncologicPatientTypeCodification.CRP']">
      <attribute description="Metastasis" dataType="codingset" codingSet="domus.yesNoCodification" name="metastasis" label="Metastasi"/>
    </class>
    <class requiredForStatus="3" description="Peritoneal carcinomatosis" dataStorage="admission" name="peritonealCarcinomatosis" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' and |domus.oncologicPatientType.oncologicPatientType| and |domus.oncologicPatientType.oncologicPatientType|[0] not in ['domus.oncologicPatientTypeCodification.CRT','domus.oncologicPatientTypeCodification.CRP']">
      <attribute description="Peritoneal carcinomatosis" dataType="codingset" codingSet="domus.yesNoCodification" name="peritonealCarcinomatosis" label="Carcinosi peritoneale"/>
    </class>
    <class requiredForStatus="3" description="Tumor stage" dataStorage="admission" name="tumorStage" enabled="result = not |domus.tumorStageNotAvailable.tumorStageNotAvailable| or not |domus.tumorStageNotAvailable.tumorStageNotAvailable|[0]" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' and |domus.oncologicPatientType.oncologicPatientType| and |domus.oncologicPatientType.oncologicPatientType|[0] not in ['domus.oncologicPatientTypeCodification.CRT','domus.oncologicPatientTypeCodification.CRP']">
      <attribute description="Tumor stage" dataType="codingset" codingSet="domus.tumorStageCodification" name="tumorStage" label="Stadio" computedFormula="'''
      if |domus.metastasis.metastasis| and |domus.metastasis.metastasis|[0] == 'domus.yesNoCodification.yes':
          result = 'domus.tumorStageCodification.stage4'
      elif |domus.peritonealCarcinomatosis.peritonealCarcinomatosis| and |domus.peritonealCarcinomatosis.peritonealCarcinomatosis|[0] == 'domus.yesNoCodification.yes':
          result = 'domus.tumorStageCodification.stage4'
      else:
          result = |domus.tumorStage.tumorStage|[0]
      '''"/>
    </class>
    <class requiredForStatus="3" description="Tumor stage not available" dataStorage="admission" name="tumorStageNotAvailable" visible="result = |domus.oncologicPatientType.oncologicPatientType| and |domus.oncologicPatientType.oncologicPatientType|[0] not in ['domus.oncologicPatientTypeCodification.CRT','domus.oncologicPatientTypeCodification.CRP'] and (not |domus.metastasis.metastasis| or |domus.metastasis.metastasis|[0] not in ['domus.yesNoCodification.yes']) and (not |domus.peritonealCarcinomatosis.peritonealCarcinomatosis| or |domus.peritonealCarcinomatosis.peritonealCarcinomatosis|[0] not in ['domus.yesNoCodification.yes'])">
      <attribute description="Tumor stage not available" dataType="boolean" name="tumorStageNotAvailable" label="Stadio tumore non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Karnofsky performance status" dataStorage="admission" name="karnofsky" >
      <attribute description="Karnofsky performance status" dataType="codingset" codingSet="domus.karnofskyCodification" name="karnofsky" label="Karnofsky Performance Status" toolTip="Livello funzionale dell'organismo definito con l'indice di Karnofsky (10-100)"/>
      <attribute description="Karnofsky performance status numeric" dataType="int" name="karnofskyNumeric" label="Karnofsky numerico" includeInSummary="0" computedFormula="'''
          karnofskyMap = {
              'domus.karnofskyCodification.karnofsky10':10,
              'domus.karnofskyCodification.karnofsky20':20,
              'domus.karnofskyCodification.karnofsky30':30,
              'domus.karnofskyCodification.karnofsky40':40,
              'domus.karnofskyCodification.karnofsky50':50,
              'domus.karnofskyCodification.karnofsky60':60,
              'domus.karnofskyCodification.karnofsky70':70,
              'domus.karnofskyCodification.karnofsky80':80,
              'domus.karnofskyCodification.karnofsky90':90,
              'domus.karnofskyCodification.karnofsky100':100}
          result = karnofskyMap[|domus.karnofsky.karnofsky|[0]]
      '''"/>
    </class>
    
    <class requiredForStatus="3" description="Organ insufficiency" dataStorage="admission" name="organInsufficiency" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Organ insufficiency cardiac" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyCardiac" label="Cardiaca" toolTip="Diagnosi documentata di scompenso, NYHA classe III e IV, angina instabile, frazione d'eiezione (FE) &lt;= 50%, stenosi aortica moderata/severa, infarto miocardico entro 30 giorni"/>
      <attribute description="Organ insufficiency respiratory" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyRespiratory" label="Respiratoria" toolTip="Diagnosi documentata di bronco-pneumopatia cronica ostruttiva (BPCO) o altre diagnosi di patologia polmonare cronica, necessità di ossigenoterapia, necessità di terapia cronica con broncodilatatori e/o steroidi, volume espiratorio massimo nel primo secondo (VEMS, o forced expiratory volume in 1 sec - FEV) &lt;= 50%"/>
      <attribute description="Organ insufficiency hepatic" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyHepatic" label="Epatica" toolTip="Diagnosi documentata di cirrosi epatica, bilirubina totale &gt; 2 mg/dL, INR &gt; 1.7 (in assenza di terapia anticoagulante orale - TAO), encefalopatia"/>
      <attribute description="Organ insufficiency renal" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyRenal" label="Renale" toolTip="Diagnosi documentata di insufficienza renale cronica, creatinina &gt; 2 mg/dL, necessità di dialisi"/>
      <attribute description="Organ insufficiency diabete mellito II" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyDiabeteMellitoII" label="Diabete Mellito II" toolTip="Diabete mellito di tipo II"/>
    </class>
    
     <class requiredForStatus="3" description="Presenza lesioni da decubito" dataStorage="admission" name="presenzaLesioniDaDecubito" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Presenza lesioni da decubito" dataType="codingset" codingSet="domus.yesNoCodification" name="presenzaLesioniDaDecubito" label="Presenza lesioni da decubito" />
    </class>
    
    <class requiredForStatus="3" description="Lista lesioni da decubito" name="listaLesioniDaDecubito" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' and |domus.presenzaLesioniDaDecubito.presenzaLesioniDaDecubito|[0] == 'domus.yesNoCodification.yes' " >
      <attribute description="Lista lesioni da decubito" name="listaLesioniDaDecubito" dataType="codingset" codingSet="domus.codificaLesioniDaDecubito" />
    </class>
    
    <class requiredForStatus="3" description="Episodio di polmonite ad ingestis" dataStorage="admission" name="episodioPolmoniteAbIngestis" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Episodio di polmonite ad ingestis" dataType="codingset" codingSet="domus.yesNoCodification" name="episodioPolmoniteAbIngestis" label="Episodio di polmonite ad ingestis" toolTip="Polmonite provocata dall'aspirazione, nell'albero tracheobronchiale, di cibo e succhi digestivi (in latino ab ingestis significa 'da materiali ingeriti')."/>
    </class>
 
    <class description="Esami di laboratorio label" name="esamiDiLaboratorioLabel" visible="result = |domus.patientType.patientType|[0] != 'domus.patientTypeCodification.nedType'">
      <attribute description="Esami di laboratorio label" name="esamiDiLaboratorioLabel" label="Esami di laboratorio alla prescrizione della NAD" />
    </class>
 
    <class description="Esami di laboratorio NED label" name="esamiDiLaboratorioNEDLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Esami di laboratorio NED label" name="esamiDiLaboratorioNEDLabel" label="Esami di laboratorio alla prescrizione della NED" />
    </class>
    
    <class description="Terapia attiva label" name="terapiaAttivaLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
      <attribute description="Terapia attiva label" name="terapiaAttivaLabel" label="Terapia attiva durante la nutrizione artificiale domiciliare" />
    </class>
    
    <class requiredForStatus="3" description="Chemotherapy" dataStorage="admission" name="chemotherapy" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
      <attribute description="Chemotherapy" dataType="codingset" codingSet="domus.yesNoCodification" name="chemotherapy" label="Chemioterapia" toolTip="Trattamento in atto durante Nutrizione Artificiale Domiciliare - NAD" visibility="result = True&#10;if |domus.oncologicPatientType.oncologicPatientType| and |domus.oncologicPatientType.oncologicPatientType|[0] not in ['domus.oncologicPatientTypeCodification.AT','domus.oncologicPatientTypeCodification.PAL']: result = False"/>
    </class>
    
    <class requiredForStatus="3" description="Radiotherapy" dataStorage="admission" name="radiotherapy" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" >
      <attribute description="Radiotherapy" dataType="codingset" codingSet="domus.yesNoCodification" name="radiotherapy" label="Radioterapia" toolTip="Trattamento in atto durante Nutrizione Artificiale Domiciliare - NAD" visibility="result = True&#10;if |domus.oncologicPatientType.oncologicPatientType| and |domus.oncologicPatientType.oncologicPatientType|[0] not in ['domus.oncologicPatientTypeCodification.AT','domus.oncologicPatientTypeCodification.PAL']: result = False"/>
    </class>
    
    <class requiredForStatus="3" description="Vie di nutrizione" name="vieDiNutrizione" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Vie di nutrizione" dataType="codingset" codingSet="domus.codificaVieDiNutrizione" name="vieDiNutrizione" label="Vie di nutrizione" />
    </class>
    
<!-- Stato nutrizionale -->
    <class requiredForStatus="3" description="Weight (kg)" dataStorage="admission" name="weight">
      <attribute lowerBound="0.0" description="Weight (kg)" dataType="float" upperBound="300.0" name="weight" label="Peso attuale (kg)" toolTip="Peso attuale in kg"/>
    </class>
    <class requiredForStatus="3" description="Height (cm)" dataStorage="admission" name="height" >
      <attribute lowerBound="30.0" description="Height (cm)" dataType="int" upperBound="300.0" name="height" label="Altezza (cm)" toolTip="Altezza in cm"/>
    </class>
    <class description="Body mass index" dataStorage="admission" name="bmi" visible="'''
      result= |domus.age.age|[0] > 14
    '''" >
      <attribute description="Body mass index" dataType="float" name="bmi" label="BMI" toolTip="Body mass index: Peso (kg) / Altezza (m)^2" computedFormula="result = |domus.weight.weight|[0]/(|domus.height.height|[0]*0.01)**2"/>
    </class>
    
    <class description="Punteggio screening label" name="punteggioScreeningLabel" visible="result = |domus.patientType.patientType|[0] != 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Punteggio screening label"  name="punteggioScreeningLabel" label="Punteggio dello screening nutrizionale" />
    </class>
    
    <class description="Habitual Weight IICB Label" name="habitualWeightIICBLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Habitual Weight IICB Label"  name="habitualWeightIICBLabel" label="Peso abituale (kg)" />
    </class>
    
    <class requiredForStatus="3" description="Habitual weight (kg)" dataStorage="admission" name="habitualWeight">
      <attribute lowerBound="0.0" description="Habitual weight (kg)" dataType="float" upperBound="300.0" name="habitualWeight" />
    </class>
    
    <!--<class description="Habitual weight (kg)" dataStorage="admission" name="habitualWeightIICB">
      <attribute lowerBound="0.0" description="Habitual weight (kg,)" dataType="float" upperBound="300.0" name="habitualWeight" label="Peso abituale (kg)" toolTip="Peso valutato 3 mesi precedenti alla visita in kg"/>
    </class>-->
    
    <class description="Weight loss (%)" dataStorage="admission" name="weightLoss" visible="result = |domus.patientType.patientType|[0] != 'domus.patientTypeCodification.iicbType'">
      <!--<attribute description="Weight loss (%)" dataType="float" name="weightLoss" label="Calo ponderale (%)" toolTip="Calo ponderale sugli ultimi tre mesi" computedFormula="result = (|domus.habitualWeight.habitualWeight|[0] - |domus.weight.weight|[0]) / |domus.habitualWeight.habitualWeight|[0] * 100.0"/>-->
      <attribute description="Weight loss (%)" dataType="float" name="weightLoss" label="Calo ponderale (%, ultimi 3 mesi)" toolTip="Calo ponderale percentuale negli ultimi tre mesi" computedFormula="result = 100.0 * (|domus.habitualWeight.habitualWeight|[0] - |domus.weight.weight|[0]) / |domus.habitualWeight.habitualWeight|[0]"/>
    </class>
    
    <class requiredForStatus="3" description="Weight loss rate" dataStorage="admission" name="weightLossRate" visible="result = |domus.weightLoss.weightLoss|[0] > 5.0 and |domus.patientType.patientType|[0] != 'domus.patientTypeCodification.iicbType'">
      <attribute description="Weight loss rate" dataType="codingset" codingSet="domus.weightLossRateCodification" name="weightLossRate" label="Rate di calo ponderale" toolTip="Rate di calo ponderale nell'ultimo periodo"/>
    </class>
    
    <class description="Habitual Weight Oncologic Label" name="habitualWeightOncologicLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" >
      <attribute description="Habitual Weight Oncologic Label"  name="habitualWeightOncologicLabel" label=" Peso abituale (kg, 3 mesi prima)" toolTip="Peso valutato 3 mesi precedenti alla visita in kg" />
    </class>
    
    <class requiredForStatus="3" description="Clinical conditions severity" dataStorage="admission" name="clinicalConditionsSeverity" label="Grado di catabolismo" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Clinical conditions severity" dataType="codingset" codingSet="domus.clinicalConditionsSeverityCodification" name="clinicalConditionsSeverity" label="Grado di catabolismo" toolTip="Normale:&#10;- Normali fabbisogni nutrizionali&#10;&#10;Lieve:&#10;- Frattura della coxa femorale&#10;- Pazienti con patologie croniche, in particolare con complicanze acute: cirrosi, BPCO&#10;- Emodialisi cronica, diabete, tumori&#10;&#10;Moderato:&#10;- Chirurgia addominale maggiore&#10;- Ictus&#10;- Polmonite grave, neoplasia ematologica&#10;&#10;Grave:&#10;- Trauma cranico&#10;- Trapianto di midollo&#10;- Pazienti in Terapia Intensiva (con punteggio APACHE &gt; 10)"/> 
    </class>
  
    <class description="Malnutrition grade" dataStorage="admission" name="malnutritionGrade" label="Grado di malnutrizione" visible="result = not |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Malnutrition grade" dataType="codingset" codingSet="domus.malnutritionGradeCodification" name="malnutritionGrade" label="Grado di malnutrizione" toolTip="Assente:&#10;- Normale stato nutrizionale&#10;&#10;Lieve:&#10;- Calo ponderale &gt;5% in 3 mesi&#10;- Nutrizione orale tra 50 e 75% dei fabbisogni nella settimana precedente&#10;&#10;Moderato:&#10;- Calo ponderale &gt;5% in 2 mesi&#10;- BMI tra 18.5 e 20.5 più condizioni cliniche compromesse#10;- Nutrizione orale tra 20 e 50% dei fabbisogni nella settimana precedente&#10;&#10;Grave:&#10;- Calo ponderale &gt;5% in 1 mese (&gt;15% in 3 mesi)&#10;- BMI &lt;18.5 più condizioni cliniche compromesse&#10;- Nutrizione orale tra 0 e 25% dei fabbisogni nella settimana precedente" computedFormula="'''
      codification = ['domus.malnutritionGradeCodification.absent', 'domus.malnutritionGradeCodification.slight', 'domus.malnutritionGradeCodification.moderate', 'domus.malnutritionGradeCodification.severe']
      result = None
      try:
          if |domus.weightLoss.weightLoss|[0] <= 5.0:
              result = max(result,0)      
          else:
              if |domus.weightLossRate.weightLossRate|[0] == 'domus.weightLossRateCodification.gt5in3mo':
                  result = max(result,1)
              elif |domus.weightLossRate.weightLossRate|[0] == 'domus.weightLossRateCodification.gt5in2mo':
                  result = max(result,2)
              elif |domus.weightLossRate.weightLossRate|[0] == 'domus.weightLossRateCodification.gt5in1mo':
                  result = max(result,3)
      except:
          pass
      try:
          percentOralNutrition = 100.0 * |domus.totalLastWeekCaloricOralNutrition.totalLastWeekCaloricOralNutrition|[0] / |domus.nutritionalNeeds.caloricNutritionalNeedsComputed|[0]
          if percentOralNutrition >= 75.0:
              result = max(result,0)
          elif percentOralNutrition >= 50.0 and percentOralNutrition < 75.0:
              result = max(result,1)
          elif percentOralNutrition >= 25.0 and percentOralNutrition < 50.0:
              result = max(result,2)
          elif percentOralNutrition >= 0.0 and percentOralNutrition < 25.0:
              result = max(result,3)
      except:
          pass
      try:
          percentOralNutritionRange = |domus.percentLastWeekOralNutrition.percentLastWeekCaloricOralNutrition|[0]
          if percentOralNutritionRange == 'domus.percentCaloricOralNutritionCodification.gte75':
              result = max(result,0)
          elif percentOralNutritionRange == 'domus.percentCaloricOralNutritionCodification.50_74':
              result = max(result,1)
          elif percentOralNutritionRange == 'domus.percentCaloricOralNutritionCodification.25_49':
              result = max(result,2)
          elif percentOralNutritionRange == 'domus.percentCaloricOralNutritionCodification.lt25':
              result = max(result,3)
      except:
          pass
      try:
          impairedConditions = |domus.karnofsky.karnofskyNumeric|[0] <= 70
          if |domus.bmi.bmi|[0] >= 18.5 and |domus.bmi.bmi|[0] <= 20.5 and impairedConditions:
              result = max(result,2)
          elif |domus.bmi.bmi|[0] < 18.5 and impairedConditions:
              result = max(result,3)
      except:
          pass
      result = codification[result]
      '''"/> 
    </class>
    
    <class requiredForStatus="3" description="Nutritional risk score" dataStorage="admission" name="nrs" label="Punteggio dello screening nutrizionale" toolTip="Screening nutrizionale con il Nutritional Risk Score (NRS) 2002&#10;Il rischio nutrizionale è definito dall'attuale stato nutrizionale (grado di malnutrizione) e dal rischio di deterioramento dello stato nutrizionale attuale dovute agli aumentati fabbisogni causati dalle alterazioni del metabolismo correlate alla gravità delle condizioni cliniche">
      <attribute description="Nutritional risk score" dataType="int" name="nrs" label="Punteggio dello screening nutrizionale" toolTip="Punteggio totale &gt;= 3: il paziente è a rischio e deve essere initiato un programma nutrizionale&#10;Punteggio totale &lt; 3: rivalutazione settimanale del paziente" computedFormula="'''
          malnutritionGradeDict = {'domus.malnutritionGradeCodification.absent':0, 'domus.malnutritionGradeCodification.slight':1, 'domus.malnutritionGradeCodification.moderate':2, 'domus.malnutritionGradeCodification.severe':3}
          clinicalConditionsSeverityDict = {'domus.clinicalConditionsSeverityCodification.absent':0, 'domus.clinicalConditionsSeverityCodification.slight':1, 'domus.clinicalConditionsSeverityCodification.moderate':2, 'domus.clinicalConditionsSeverityCodification.severe':3}
          result = malnutritionGradeDict[|domus.malnutritionGrade.malnutritionGrade|[0]] + clinicalConditionsSeverityDict[|domus.clinicalConditionsSeverity.clinicalConditionsSeverity|[0]]
          if |domus.age.age| and |domus.age.age|[0] >= 70:
              result += 1
      '''"/>
    </class>
    <class requiredForStatus="3" description="SINPE nutritional evaluation" dataStorage="admission" name="sinpeNutritionalEvaluation" label="Valutazione nutrizionale (SINPE)" visible="result = |domus.patientType.patientType|[0] != 'domus.patientTypeCodification.iicbType'" >
      <attribute description="SINPE nutritional evaluation" dataType="codingset" codingSet="domus.sinpeNutritionalEvaluationCodification" name="sinpeNutritionalEvaluation" label="Grado di malnutrizione secondo linee guida SINPE" computedFormula="'''
      result = None
      try:
          if |domus.weightLoss.weightLoss|[0] <= 5.0:
              result = max(result,0)      
          else:
              if |domus.weightLossRate.weightLossRate|[0] == 'domus.weightLossRateCodification.gt5in3mo':
                  result = max(result,1)
              elif |domus.weightLossRate.weightLossRate|[0] == 'domus.weightLossRateCodification.gt5in2mo':
                  result = max(result,2)
              elif |domus.weightLossRate.weightLossRate|[0] == 'domus.weightLossRateCodification.gt5in1mo':
                  result = max(result,3)
      except:
          pass
      if result == None and not |domus.bmi.bmi| and not |domus.albumin.albumin|:
          result = None
          raise BaseException
      try:
          bmi = |domus.bmi.bmi|[0]
          if bmi > 18.4:
              result = max(result,0)
          elif bmi <= 18.4 and bmi >= 17.0:
              result = max(result,1)
          elif bmi <= 16.9 and bmi >= 16.0:
              result = max(result,2)
          elif bmi < 16.0:
              result = max(result,3)              
      except:
          pass
      try:
          albumin = |domus.albumin.albumin|[0]
          if |domus.albumin.albuminUnits|[0] == 'domus.albuminUnitsCodification.gL':
              albumin *= 0.1
          if albumin > 3.5:
              result = max(result,0)
          elif albumin <= 3.5 and albumin >= 3.0:
              result = max(result,1)
          elif albumin <= 2.9 and albumin >= 2.5:
              result = max(result,2)
          elif albumin < 2.5:
              result = max(result,3)              
      except:
          pass
      codingSetList = ['domus.sinpeNutritionalEvaluationCodification.absent', 'domus.sinpeNutritionalEvaluationCodification.slight', 'domus.sinpeNutritionalEvaluationCodification.moderate', 'domus.sinpeNutritionalEvaluationCodification.severe']
      result = codingSetList[result]
      '''"/>
    </class>
    
    <class description="Fabbisogni label" name="fabbisogniLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
      <attribute description="Fabbisogni label" name="fabbisogniLabel" label="Fabbisogni" />
    </class>
    
    <class requiredForStatus="3" description="Estimated nutritional needs" dataStorage="admission" name="estimatedNutritionalNeeds" label="Fabbisogni" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
      <attribute description="Estimated caloric nutritional needs" dataType="float" name="caloricNutritionalNeeds" label="Fabbisogni calorici totali (kcal/die)" toolTip="Fabbisogni calorici totali (kcal/die) valutati secondo pratica clinica"/>
      <attribute description="Estimated proteic nutritional needs" dataType="float" name="proteicNutritionalNeeds" label="Fabbisogni proteici totali (g/die)" toolTip="Fabbisogni proteici totali (g/die) valutati secondo pratica clinica"/>
    </class>
    
    <class description="Nutritional needs" dataStorage="admission" name="nutritionalNeeds" label="Fabbisogni" >
      <attribute description="Computed caloric nutritional needs" dataType="float" name="caloricNutritionalNeedsComputed" label="Fabbisogni calorici totali" toolTip="Il dispendio energetico basale (BEE, Basal Energy Expenditure) è calcolato in base ai &quot;Livelli di Assunzione Raccomandati di Energia e Nutrienti per la popolazione italiana. Società Italiana Nutrizione Umana, revisione 1996&quot;)" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" computedFormula="'''
          result = None
          sex = |domus.sex.sex|[0]
          age = |domus.age.age|[0]
          #weight = |domus.weight.weight|[0]
          weight = 0
          if |domus.bmi.bmi|[0] > 25:
              weight = |domus.height.height|[0] * |domus.height.height|[0] * 25 /10000
          else:
              weight = |domus.weight.weight|[0]
          
          if sex == 'domus.sexCodification.male':
              if age >= 18 and age <= 29:
                  result = 15.3 * weight + 679
              elif age >= 30 and age <= 59:
                  result = 11.6 * weight + 879
              elif age >= 60 and age <= 74:
                  result = 11.9 * weight + 700
              elif age >= 75:
                  result = 8.4 * weight + 819
          elif sex == 'domus.sexCodification.female':
              if age >= 18 and age <= 29:
                  result = 14.7 * weight + 496
              elif age >= 30 and age <= 59:
                  result = 8.7 * weight + 829
              elif age >= 60 and age <= 74:
                  result = 9.2 * weight + 688
              elif age >= 75:
                  result = 9.8 * weight + 624
                    
          if |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType':    
              result *= |domus.nutritionalNeeds.caloricNutritionalNeedsCorrectionFactor|[0]
      '''"/>
      <attribute description="Caloric nutritional needs correction factor" dataType="float" name="caloricNutritionalNeedsCorrectionFactor" label="Fattore di correzione dei fabbisogni calorici totali nel paziente neoplastico" computedFormula="result = 1.3"/>
      <attribute description="Proteic nutritional needs (g/kg/die)" dataType="float" name="proteicNutritionalNeeds" label="Fabbisogni proteici nel paziente neoplastico (g/kg/die)" computedFormula="result = 1.2"/>
      <attribute description="Proteic nutritional needs (g/kg/die)" dataType="float" name="proteicNutritionalNeedsForNeurologic" label="Fabbisogni proteici nel paziente neurologico (g/kg/die)" computedFormula="result = 1.0"/>
      <attribute description="Idric needs (ml/die)" dataType="float" name="idricNeeds" label="Fabbisogni idrici (ml/die)" computedFormula="result = 25.0"/>
    </class>
    
     <class description="Nutritional needs at follow up" dataStorage="admission" name="nutritionalNeedsFollowUp" label="Fabbisogni" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Computed caloric nutritional needs at follow up" dataType="float" name="caloricNutritionalNeedsComputedFollowUp" label="Fabbisogni calorici totali" toolTip="Il dispendio energetico basale (BEE, Basal Energy Expenditure) è calcolato in base ai &quot;Livelli di Assunzione Raccomandati di Energia e Nutrienti per la popolazione italiana. Società Italiana Nutrizione Umana, revisione 1996&quot;)" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" computedFormula="'''
          result = None
          sex = |domus.sex.sex|[0]
          age = |domus.age.age|[0]
          #weight = |domus.weight.weight|[0]
          weight = 0
          
          timeStamp = |domus.timeStamp.timeStamp|[0]
          
          bmiDict = all($domus.bmiFollowUp.bmiFollowUp$, timeDict=True)
          if bmiDict[timeStamp][0] > 25:
              
              heightDict = all($domus.heightFollowUp.heightFollowUp$, timeDict=True)
              heights = all($domus.heightFollowUp.heightFollowUp$, timeDict=False)
              heightToBeUsed = 0
              
              if heightDict and timeStamp in heightDict and heightDict[timeStamp]:
                  heightToBeUsed = heightDict[timeStamp][0]
              elif heights and heights[-1]:
                  heightToBeUsed = heights[-1]
              else:
                  heightToBeUsed = |domus.height.height|[0]
              
              weight = heightToBeUsed * heightToBeUsed * 25 / 10000
              
          else:
              weightDict = all($domus.weightFollowUp.weightFollowUp$,timeDict=True)
              weight = weightDict[timeStamp][0]
              
          if sex == 'domus.sexCodification.male':
              if age >= 18 and age <= 29:
                  result = 15.3 * weight + 679
              elif age >= 30 and age <= 59:
                  result = 11.6 * weight + 879
              elif age >= 60 and age <= 74:
                  result = 11.9 * weight + 700
              elif age >= 75:
                  result = 8.4 * weight + 819
          elif sex == 'domus.sexCodification.female':
              if age >= 18 and age <= 29:
                  result = 14.7 * weight + 496
              elif age >= 30 and age <= 59:
                  result = 8.7 * weight + 829
              elif age >= 60 and age <= 74:
                  result = 9.2 * weight + 688
              elif age >= 75:
                  result = 9.8 * weight + 624
        
          result *= |domus.nutritionalNeedsFollowUp.caloricNutritionalNeedsCorrectionFactor|[0]
      '''"/>
      <attribute description="Caloric nutritional needs correction factor" dataType="float" name="caloricNutritionalNeedsCorrectionFactor" label="Fattore di correzione dei fabbisogni calorici totali nel paziente neoplastico" computedFormula="result = 1.3"/>
      <attribute description="Proteic nutritional needs (g/kg/die)" dataType="float" name="proteicNutritionalNeeds" label="Fabbisogni proteici nel paziente neoplastico (g/kg/die)" computedFormula="result = 1.2"/>
      <attribute description="Proteic nutritional needs (g/kg/die)" dataType="float" name="proteicNutritionalNeedsForNeurologic" label="Fabbisogni proteici nel paziente neurologico (g/kg/die)" computedFormula="result = 1.0"/>
      <attribute description="Idric needs (ml/die)" dataType="float" name="idricNeeds" label="Fabbisogni idrici (ml/die)" computedFormula="result = 25.0"/>
    </class>
    
    <class requiredForStatus="3" description="Fabbisogno idrico giornaliero"  name="fabbisognoIdricoGiornaliero" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Fabbisogno idrico giornaliero" dataType="float" name="fabbisognoIdricoGiornaliero" label="Fabbisogni idrici totali (ml/die)"/>
    </class>
    
    <class description="Total last week caloric oral nutrition label" name="totalLastWeekCaloricOralNutritionLabel" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'">
      <attribute description="Total last week caloric oral nutrition label" name="totalLastWeekCaloricOralNutritionLabel" label="Nutrizione orale ultima settimana" />
    </class>
    
    <class requiredForStatus="3" description="Total caloric oral nutrition during last week (kcal/die)" dataStorage="admission" name="totalLastWeekCaloricOralNutrition" label="Nutrizione orale ultima settimana" toolTip="Nutrizione orale nell'ultima settimana precedente alla prescrizione della NAD" enabled="'''
      result = not |domus.totalLastWeekCaloricOralNutritionNotAvailable.totalLastWeekCaloricOralNutritionNotAvailable| or not |domus.totalLastWeekCaloricOralNutritionNotAvailable.totalLastWeekCaloricOralNutritionNotAvailable|[0]
      '''" 
    visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" >
      <attribute description="Total caloric oral nutrition during last week (kcal/die)" dataType="float" name="totalLastWeekCaloricOralNutrition" label="Calorie totali (kcal/die)"/>
    </class>
    
    <class requiredForStatus="3" description="Oral nutrition during last week preceding DAN prescription" dataStorage="admission" name="totalLastWeekProteicOralNutrition" label="Nutrizione orale ultima settimana" toolTip="Nutrizione orale nell'ultima settimana precedente alla prescrizione della NAD" enabled="'''
      result = not |domus.totalLastWeekProteicOralNutritionNotAvailable.totalLastWeekProteicOralNutritionNotAvailable| or not |domus.totalLastWeekProteicOralNutritionNotAvailable.totalLastWeekProteicOralNutritionNotAvailable|[0]
      '''" 
    visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" >
      <attribute description="Total proteic oral nutrition during last week (g/die)" dataType="float" name="totalLastWeekProteicOralNutrition" label="Proteine (g/die)" />
    </class>
    
    <class requiredForStatus="3" description="Caloric oral nutrition not available" dataStorage="admission" name="totalLastWeekCaloricOralNutritionNotAvailable" label="Nutrizione orale ultima settimana" toolTip="Nutrizione orale nell'ultima settimana precedente alla prescrizione della NAD" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" enabled="result = not |domus.totalLastWeekCaloricOralNutrition.totalLastWeekCaloricOralNutrition| or not |domus.totalLastWeekCaloricOralNutrition.totalLastWeekCaloricOralNutrition|[0]" >
      <attribute description="Caloric oral nutrition not available" dataType="boolean" name="totalLastWeekCaloricOralNutritionNotAvailable" label="Calorie (g/die) non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Proteic oral nutrition not available" dataStorage="admission" name="totalLastWeekProteicOralNutritionNotAvailable" label="Nutrizione orale ultima settimana 477" toolTip="Nutrizione orale nell'ultima settimana precedente alla prescrizione della NAD" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" enabled="result = not |domus.totalLastWeekProteicOralNutrition.totalLastWeekProteicOralNutrition| or not |domus.totalLastWeekProteicOralNutrition.totalLastWeekProteicOralNutrition|[0]">
      <attribute description="Proteic oral nutrition not available" dataType="boolean" name="totalLastWeekProteicOralNutritionNotAvailable" label="Proteine (g/die) non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Percent oral nutrition during last week preceding DAN prescription relative to nutritional needs" dataStorage="admission" name="percentLastWeekOralNutrition" label="Nutrizione orale ultima settimana 481 " toolTip="Nutrizione orale nell'ultima settimana precedente alla prescrizione della NAD" visible="result = |domus.totalLastWeekCaloricOralNutritionNotAvailable.totalLastWeekCaloricOralNutritionNotAvailable|[0] == True and (|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType')" >
      <attribute description="Percent caloric oral nutrition during last week relative to caloric nutritional needs " dataType="codingset" codingSet="domus.percentCaloricOralNutritionCodification" name="percentLastWeekCaloricOralNutrition" label="Calorie (% dei fabbisogni calorici)" />
    </class>
    <class description="Ratio between oral nutrition and nutritional needs" dataStorage="admission" name="oralNutritionToNutritionalNeedsRatio" label="Rapporto tra nutrizione orale e fabbisogni nutrizionali" >
      <attribute description="Ratio between oral nutrition and caloric nutritional needs (%)" dataType="float" name="oralNutritionToCaloricNutritionalNeedsRatio" label="Rapporto tra nutrizione orale e fabbisogni calorici (%)" computedFormula="result = |domus.totalLastWeekCaloricOralNutrition.totalLastWeekCaloricOralNutrition|[0] / |domus.nutritionalNeeds.caloricNutritionalNeedsComputed|[0] * 100.0" />
      <attribute description="Ratio between oral nutrition and proteic nutritional needs (%)" dataType="float" name="oralNutritionToProteicNutritionalNeedsRatio" label="Rapporto tra nutrizione orale e fabbisogni proteici (%)" computedFormula="result = |domus.totalLastWeekProteicOralNutrition.totalLastWeekProteicOralNutrition|[0] / |domus.nutritionalNeeds.proteicNutritionalNeedsComputed|[0] * 100.0"/>
    </class>
    
    <class description="Nutrizione orale residua label" name="nutrizioneOraleResiduaLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Nutrizione orale residua label" name="nutrizioneOraleResiduaLabel" label="Nutrizione orale residua" />
    </class>
    
    <class requiredForStatus="3" description="Nutrizione orale residua" name="nutrizioneOraleResidua" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Nutrizione orale residua" dataType="codingset" codingSet="domus.yesNoCodification" name="nutrizioneOraleResidua" label="Nutrizione orale residua"/>
    </class>
    
    <class requiredForStatus="3" description="Calorie residue" name="calorieResidue" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' and |domus.nutrizioneOraleResidua.nutrizioneOraleResidua|[0] == 'domus.yesNoCodification.yes' ">
      <attribute description="Calorie residue" dataType="float"  name="calorieResidue" label="Calorie residue (kcal/die)"/>
    </class>
    
    <class requiredForStatus="3" description="Proteine residue" name="proteineResidue" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' and |domus.nutrizioneOraleResidua.nutrizioneOraleResidua|[0] == 'domus.yesNoCodification.yes' ">
      <attribute description="Proteine residue" dataType="float"  name="proteineResidue" label="Proteine residue (g/die)"/>
    </class>
    
<!--  -->
    <class requiredForStatus="3" description="Glicemia at DAN prescription" dataStorage="admission" name="glicemia" label="Glicemia alla prescrizione della NAD" enabled="'''
      result = not |domus.glicemiaNotAvailable.glicemiaNotAvailable| or not |domus.glicemiaNotAvailable.glicemiaNotAvailable|[0]
      '''"
    visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Glicemia" dataType="float" name="glicemia" label="Glicemia"/>
      <attribute description="Glicemia units" name="glicemiaUnits" computedFormula="result= 'mgdL'" />
    </class>    
    
    <class requiredForStatus="3" description="Glicemia not available" dataStorage="admission" name="glicemiaNotAvailable" visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.glicemia.glicemia| or not |domus.glicemia.glicemia|[0]">
      <attribute description="Glicemia not available" dataType="boolean" name="glicemiaNotAvailable" label="Glicemia non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Creatinina at DAN prescription" dataStorage="admission" name="creatinina" label="Creatinina alla prescrizione della NAD" enabled="'''
      result = not |domus.creatininaNotAvailable.creatininaNotAvailable| or not |domus.creatininaNotAvailable.creatininaNotAvailable|[0]
      '''"
    visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Creatinina" dataType="float" name="creatinina" label="Creatinina"/>
      <attribute description="Creatinina units" name="creatininaUnits" computedFormula="result= 'mgdL'" />
    </class>
    
    <class requiredForStatus="3" description="Creatinina not available" dataStorage="admission" name="creatininaNotAvailable" visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.creatinina.creatinina| or not |domus.creatinina.creatinina|[0]">
      <attribute description="Creatinina not available" dataType="boolean" name="creatininaNotAvailable" label="Creatinina non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Azotemia at DAN prescription" dataStorage="admission" name="azotemia" label="Azotemia alla prescrizione della NAD" enabled="'''
      result = not |domus.azotemiaNotAvailable.azotemiaNotAvailable| or not |domus.azotemiaNotAvailable.azotemiaNotAvailable|[0]
      '''"
    visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Azotemia" dataType="float" name="azotemia" label="Azotemia"/>
      <attribute description="Azotemia units" name="azotemiaUnits" computedFormula="result= 'mgdL'" />
    </class>
    
    <class requiredForStatus="3" description="Azotemia not available" dataStorage="admission" name="azotemiaNotAvailable" visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.azotemia.azotemia| or not |domus.azotemia.azotemia|[0]">
      <attribute description="Azotemia not available" dataType="boolean" name="azotemiaNotAvailable" label="Azotemia non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Sodio at DAN prescription" dataStorage="admission" name="sodio" label="Sodio alla prescrizione della NAD" enabled="'''
      result = not |domus.sodioNotAvailable.sodioNotAvailable| or not |domus.sodioNotAvailable.sodioNotAvailable|[0]
      '''"
    visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Sodio" dataType="float" name="sodio" label="Sodio"/>
      <attribute description="Sodio units" name="sodioUnits" computedFormula="result= 'mEqL'" />
    </class>
    
    <class requiredForStatus="3" description="Sodio not available" dataStorage="admission" name="sodioNotAvailable" visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.sodio.sodio| or not |domus.sodio.sodio|[0]">
      <attribute description="Sodio not available" dataType="boolean" name="sodioNotAvailable" label="Sodio non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Potassio at DAN prescription" dataStorage="admission" name="potassio" label="Potassio alla prescrizione della NAD" enabled="'''
      result = not |domus.potassioNotAvailable.potassioNotAvailable| or not |domus.potassioNotAvailable.potassioNotAvailable|[0]
      '''"
    visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Potassio" dataType="float" name="potassio" label="Potassio"/>
      <attribute description="Potassio units" name="potassioUnits" computedFormula="result= 'mEqL'" />
    </class>
    
    <class requiredForStatus="3" description="Potassio not available" dataStorage="admission" name="potassioNotAvailable" visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.potassio.potassio| or not |domus.potassio.potassio|[0]">
      <attribute description="Potassio not available" dataType="boolean" name="potassioNotAvailable" label="Potassio non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Peso specifico urine at DAN prescription" dataStorage="admission" name="pesoSpecificoUrine" label="Peso specifico urine alla prescrizione della NAD" enabled="'''
      result = not |domus.pesoSpecificoUrineNotAvailable.pesoSpecificoUrineNotAvailable| or not |domus.pesoSpecificoUrineNotAvailable.pesoSpecificoUrineNotAvailable|[0]
      '''"
    visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Peso specifico urine" dataType="float" name="pesoSpecificoUrine" label="Peso specifico urine"/>
      <attribute description="Peso specifico urine units" name="unitaPesoSpecificoUrine" computedFormula="result= 'mgL'" />
    </class>
    
    <class requiredForStatus="3" description="Peso specifico urine not available" dataStorage="admission" name="pesoSpecificoUrineNotAvailable" visible="result=|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.pesoSpecificoUrine.pesoSpecificoUrine| or not |domus.pesoSpecificoUrine.pesoSpecificoUrine|[0]">
      <attribute description="peso specifico urine not available" dataType="boolean" name="pesoSpecificoUrineNotAvailable" label="Peso specifico urine non disponibile"/>
    </class>
    
    <class requiredForStatus="3" description="Albumin at DAN prescription" dataStorage="admission" name="albumin" label="Albumina alla prescrizione della NAD" enabled="'''
      result = not |domus.albuminNotAvailable.albuminNotAvailable| or not |domus.albuminNotAvailable.albuminNotAvailable|[0]
      '''" >
      <attribute description="Albumin" dataType="float" name="albumin" label="Albumina"/>
      <attribute description="Albumin units" dataType="codingset" codingSet="domus.albuminUnitsCodification" name="albuminUnits" />
    </class>
   
    <class requiredForStatus="3" description="Prealbumin at DAN prescription" dataStorage="admission" name="prealbumin" label="Prealbumina alla prescrizione della NAD" enabled="'''
      result = not |domus.prealbuminNotAvailable.prealbuminNotAvailable| or not |domus.prealbuminNotAvailable.prealbuminNotAvailable|[0]
      '''">
      <attribute description="Prealbumin" dataType="float" name="prealbumin" label="Prealbumina"/>
      <attribute description="Prealbumin units" name="prealbuminUnits" computedFormula="result= 'mgdL'" />
    </class>
    
    <class requiredForStatus="3" description="Transferrin at DAN prescription" dataStorage="admission" name="transferrin" label="Transferrina alla prescrizione della NAD" enabled="'''
      result = not |domus.transferrinNotAvailable.transferrinNotAvailable| or not |domus.transferrinNotAvailable.transferrinNotAvailable|[0]
      '''">
      <attribute description="Transferrin" dataType="float" name="transferrin" label="Transferrina"/>
      <attribute description="Transferrin units" dataType="codingset" codingSet="domus.transferrinUnitsCodification" name="transferrinUnits" />
    </class>
    <class requiredForStatus="3" description="C-Reactive Protein (CRP) at DAN prescription" dataStorage="admission" name="crp" label="Proteina C-Reattiva (PCR) alla prescrizione della NAD" enabled="'''
      result = not |domus.crpNotAvailable.crpNotAvailable| or not |domus.crpNotAvailable.crpNotAvailable|[0]
      '''">
      <attribute description="C-Reactive Protein (CRP)" dataType="float" name="crp" label="Proteina C-Reattiva (PCR)"/>
      <attribute description="C-Reactive Protein (CRP) units" dataType="codingset" codingSet="domus.crpUnitsCodification" name="crpUnits" />
    </class>
    <class requiredForStatus="3" description="Albumin not available" dataStorage="admission" name="albuminNotAvailable" enabled="result = not |domus.albumin.albumin| or not |domus.albumin.albumin|[0]">
      <attribute description="Albumin not available" dataType="boolean" name="albuminNotAvailable" label="Albumina non disponibile"/>
    </class>
    <class requiredForStatus="3" description="Prealbumin not available" dataStorage="admission" name="prealbuminNotAvailable" enabled="result = not |domus.prealbumin.prealbumin| or not |domus.prealbumin.prealbumin|[0]">
      <attribute description="Prealbumin not available" dataType="boolean" name="prealbuminNotAvailable" label="Prealbumina non disponibile"/>
    </class>
    <class requiredForStatus="3" description="Transferrin not available" dataStorage="admission" name="transferrinNotAvailable" enabled="result = not |domus.transferrin.transferrin| or not |domus.transferrin.transferrin|[0]">
      <attribute description="Transferrin not available" dataType="boolean" name="transferrinNotAvailable" label="Transferrina non disponibile"/>
    </class>
    <class requiredForStatus="3" description="C-Reactive Protein (CRP) not available" dataStorage="admission" name="crpNotAvailable" enabled="result = not |domus.crp.crp| or not |domus.crp.crp|[0]">
      <attribute description="C-Reactive Protein (CRP) not available" dataType="boolean" name="crpNotAvailable" label="Proteina C-Reattiva (CRP) non disponibile"/>
    </class>
    <class requiredForStatus="3" description="Central Venous Catheter (CVC)" dataStorage="admission" name="cvc" label="Catetere venoso centrale (CVC)" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' or  |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " >
        <attribute description="Central Venous Catheter (CVC)" dataType="codingset" codingSet="domus.cvcCodification" name="cvc" label="Catetere venoso centrale (CVC)"/>
    </class>
    
    <class requiredForStatus="3" description="Indicazione alla NED" dataStorage="admission" name="indicazioneAllaNED" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' " >
      <attribute description="Indicazione alla NED" dataType="codingset" codingSet="domus.codificaIndicazioneAllaNED" name="indicazioneAllaNED" label="Indicazione principale alla NED"/>
    </class>
    
    <class description="Prescrizione della NED label" name="prescrizioneDellaNEDLabel" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' ">
      <attribute description="Prescrizione della NED label" name="prescrizioneDellaNEDLabel" label="Prescrizione della NED"/>
    </class>
    
    <class requiredForStatus="3" description="Prescrizione NED - calorie" name="caloriePrescrizione" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' ">
      <attribute description="Prescrizione NED - calorie" dataType="float"  name="caloriePrescrizione" label="Calorie totali (kcal/die)"/>
    </class>
    
    <class requiredForStatus="3" description="Prescrizione NED - proteine" name="proteinePrescrizione" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' ">
      <attribute description="Prescrizione NED - proteine" dataType="float"  name="proteinePrescrizione" label="Proteine (g/die)"/>
    </class>
    
    <class requiredForStatus="3" description="Prescrizione NED - acqua" name="acquaPrescrizione" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' ">
      <attribute description="Prescrizione NED - acqua" dataType="float"  name="acquaPrescrizione" label="Acqua (ml/die)"/>
    </class>
    
    <class requiredForStatus="3" description="Indications for PDN - intestinal insufficiency" dataStorage="admission" name="intestinalInsufficiency" label="Indicazioni alla NPD" >
        <attribute description="Indications for PDN - intestinal insufficiency" dataType="codingset" codingSet="domus.yesNoCodification" name="intestinalInsufficiency" label="Insufficienza intestinale"/>
    </class>
    <class requiredForStatus="3" description="Intestinal insufficiency detail" dataStorage="admission" name="intestinalInsufficiencyDetail" label="Dettagli insufficienza intestinale"  enabled="result = |domus.intestinalInsufficiency.intestinalInsufficiency|[0] == 'domus.yesNoCodification.yes'">
        <attribute description="Intestinal insufficiency detail" dataType="codingset" multiInstance="1" codingSet="domus.intestinalInsufficiencyDetailCodification" name="intestinalInsufficiencyDetail" label="Dettagli insufficienza intestinale"/>
    </class>
    <class requiredForStatus="3" description="Indications for PDN - enteral nutrition intolerance" dataStorage="admission" name="enteralNutritionIntolerance" label="Indicazioni alla NPD" >
        <attribute description="Indications for PDN - enteral nutrition intolerance" dataType="codingset" codingSet="domus.yesNoCodification" name="enteralNutritionIntolerance" label="Intolleranza alla nutrizione enterale" toolTip="Intolleranza o controindicazione ad utilizzare la via enterale in modo sufficiente a raggiungere l'obiettivo nutrizionale"/>
    </class>
    <class requiredForStatus="3" description="Indications for PDN - enteral nutrition refusal" dataStorage="admission" name="enteralNutritionRefusal" label="Indicazioni alla NPD" visible="result = |domus.intestinalInsufficiency.intestinalInsufficiency|[0] == 'domus.yesNoCodification.no' and |domus.enteralNutritionIntolerance.enteralNutritionIntolerance|[0] == 'domus.yesNoCodification.no'">
        <attribute description="Indications for PDN - enteral nutrition refusal" dataType="codingset" codingSet="domus.yesNoCodification" name="enteralNutritionRefusal" label="Rifiuto alla nutrizione enterale" toolTip="Rifiuto ad accettare la via enterale"/>
    </class>
<!--    <class description="Indications for DAN - other indications" dataStorage="admission" name="danOtherIndications" label="Indicazioni alla NAD" >
        <attribute description="Indications for DAN - other indications" dataType="boolean" name="danOtherIndications" label="Altro"/>
    </class>-->
    <class requiredForStatus="3" description="Indications for PDN - other indications detail" dataStorage="admission" name="danOtherIndicationsDetail" label="Indicazioni alla NPD" visible="result = |domus.intestinalInsufficiency.intestinalInsufficiency|[0] == 'domus.yesNoCodification.no' and |domus.enteralNutritionIntolerance.enteralNutritionIntolerance|[0] == 'domus.yesNoCodification.no' and |domus.enteralNutritionRefusal.enteralNutritionRefusal|[0] == 'domus.yesNoCodification.no'" >
        <attribute description="Indications for PDN - other indications detail" dataType="string" name="danOtherIndicationsDetail" label="Altro" />
    </class>
    <class requiredForStatus="3" description="PDN prescription" dataStorage="admission" name="pdnPrescription" label="Prescrizione della Nutrizione Parenterale Domiciliare (NPD)" >
      <attribute description="Total volume for infusion" dataType="float" name="volumePerInfusion" label="Volume totale somministrato per ogni infusione"/>
      <attribute description="Total calories for infusion" dataType="float" name="caloriesPerInfusion" label="kcal totali somministrate per ogni infusione"/>
      <attribute description="Total aminoacids for infusion" dataType="float" name="aminoacidsPerInfusion" label="Aminoacidi (g) somministrati per ogni infusione"/>
      <attribute description="Infusions per week" dataType="int" name="infusionsPerWeek" label="Numero di infusioni a settimana"/>
      <!--<attribute description="Start date" dataType="datetime" name="startDate" label="Data di inizio NPD"/>-->
    </class>
    
    <class requiredForStatus="3" description="PDN start date prescription" dataStorage="admission" name="pdnStartDatePrescription" label="Data inizio Nutrizione Parenterale Domiciliare (NPD) prevista" visible="'''
    result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' 
    '''">
      <attribute description="PDN start date prescription" dataType="datetime" name="pdnStartDatePrescription" label="Data inizio Nutrizione Parenterale Domiciliare (NPD) prevista"/>
    </class>
    
    <class requiredForStatus="3" description="NED start date prescription" dataStorage="admission" name="nedStartDatePrescription" label="Data inizio Nutrizione Enterale Domiciliare (NED) prevista" visible="'''
    result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' 
    '''">
      <attribute description="NED start date prescription" dataType="datetime" name="nedStartDatePrescription" label="Data inizio Nutrizione Enterale Domiciliare (NED) prevista"/>
    </class>
    
<!-- Scheda follow-up -->
    <class description="Visit date" dataStorage="admission" name="visitDate" label="Data visita" visible="result = |domus.timeStamp.timeStamp| and |domus.timeStamp.timeStamp|[0] > 1" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Visit date" dataType="datetime" name="visitDate" label="Data visita"/>
    </class>
    
    <class description="PDN start date" dataStorage="admission" name="pdnStartDate" label="Data inizio Nutrizione Parenterale Domiciliare (NPD)" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.timeStamp.timeStamp|[0] == 2 and (|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType')" >
      <attribute description="PDN start date" dataType="datetime" name="pdnStartDate" label="Data inizio Nutrizione Parenterale Domiciliare (NPD)" computedFormula="'''
      if |domus.timeStamp.timeStamp|[0] != 1:
          result = |domus.pdnStartDate.pdnStartDate|[0]
      elif |domus.pdnStartDate.pdnStartDate|[0]:
          result = |domus.pdnStartDate.pdnStartDate|[0]
      else:
          result = |domus.pdnStartDatePrescription.pdnStartDatePrescription|[0]
    '''"/>
    </class>
    
    <class description="NED start date" dataStorage="admission" name="nedStartDate" label="Data inizio Nutrizione Enterale Domiciliare (NED)" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.timeStamp.timeStamp|[0] == 2 and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' " >
      <attribute description="NED start date" dataType="datetime" name="nedStartDate" label="Data inizio Nutrizione Enterale Domiciliare (NED)" computedFormula="'''
      if |domus.timeStamp.timeStamp|[0] != 1:
          result = |domus.nedStartDate.nedStartDate|[0]
      elif |domus.nedStartDate.nedStartDate|[0]:
          result = |domus.nedStartDate.nedStartDate|[0]
      else:
          result = |domus.nedStartDatePrescription.nedStartDatePrescription|[0]
    '''"/>
    </class>
    
    <class description="Contact type" dataStorage="admission" name="contactType" label="Tipo contatto" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Contact type" dataType="codingset" codingSet="domus.contactTypeCodification" name="contactType" label="Tipo contatto"/>
    </class>
    
    <class description="PDN prescription changed" dataStorage="admission" name="pdnPrescriptionChanged" timeStamp="domus.timeStamp.timeStamp" visible="result = not |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' ">
      <attribute description="PDN prescription changed" dataType="codingset" codingSet="domus.yesNoCodification" name="pdnPrescriptionChanged" label="Modifica del piano terapeutico al termine della visita?" />
    </class>
 
    <class description="PDN prescription follow up" dataStorage="admission" name="pdnPrescriptionFollowUp" label="Nuova prescrizione della Nutrizione Parenterale Domiciliare (NPD)" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.pdnPrescriptionChanged.pdnPrescriptionChanged|[0] == 'domus.yesNoCodification.yes'and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" >
      <attribute description="Total volume for infusion" dataType="float" name="volumePerInfusion" label="Volume totale somministrato per ogni infusione" />
      <attribute description="Total calories for infusion" dataType="float" name="caloriesPerInfusion" label="kcal totali somministrate per ogni infusione"  />
      <attribute description="Total aminoacids for infusion" dataType="float" name="aminoacidsPerInfusion" label="Aminoacidi (g) somministrati per ogni infusione"  />
      <attribute description="Infusions per week" dataType="int" name="infusionsPerWeek" label="Numero di infusioni a settimana" />
    </class>
    
    <class description="NED prescription follow up" dataStorage="admission" name="nedPrescriptionFollowUp" label="Nuova prescrizione della NED" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.pdnPrescriptionChanged.pdnPrescriptionChanged|[0] == 'domus.yesNoCodification.yes'and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Calorie totali follow up" dataType="float" name="calorieTotaliPrescritteFollowUp" label="Calorie totali (kcal/die)" />
      <attribute description="Proteine totali follow up" dataType="float" name="proteineTotaliPrescritteFollowUp" label="Proteine (g/die)"  />
      <attribute description="Acqua follow up" dataType="float" name="acquaPrescrittaFollowUp" label="Acqua (ml/die)"  />
    </class>

    <!--<class description="PDN duration" dataStorage="admission" name="pdnDuration" label="Durata della NPD" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="PDN start date" dataType="datetime" name="pdnStartDate" label="Data inizio NPD"/>
      <attribute description="PDN end date" dataType="datetime" name="pdnEndDate" label="Data fine NPD"/>
    </class>-->
    
    <class description="Eventi di Ab Ingestits" dataStorage="admission" name="eventiAbIngestis" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' ">
      <attribute description="Eventi di Ab Ingestits" dataType="codingset" codingSet="domus.yesNoCodification" name="eventiAbIngestis" label="Si sono verificati eventi di Ab Ingestits?"/>
    </class>
    
    <class description="Numero di Ab Ingestits" dataStorage="admission" name="numeroAbIngestis" timeStamp="domus.timeStamp.timeStamp" visible="''' result = |domus.eventiAbIngestis.eventiAbIngestis|[0] == 'domus.yesNoCodification.yes' '''" >
      <attribute description="Numero di Ab Ingestits" dataType="int" name="numeroAbIngestis" label="Numero di Ab Ingestits"/>
    </class>
    
    <class description="Karnofsky Performance Status follow-up" dataStorage="admission" name="karnofskyFollowUp" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Karnofsky Performance Status follow-up" dataType="codingset" codingSet="domus.karnofskyCodification" name="karnofskyFollowUp" label="Karnofsky Performance Status"/>
      <attribute description="Karnofsky Performance Status numeric follow-up" dataType="int" name="karnofskyNumericFollowUp" computedFormula="'''
          karnofskyMapFollowUp = {
              'domus.karnofskyCodification.karnofsky10':10,
              'domus.karnofskyCodification.karnofsky20':20,
              'domus.karnofskyCodification.karnofsky30':30,
              'domus.karnofskyCodification.karnofsky40':40,
              'domus.karnofskyCodification.karnofsky50':50,
              'domus.karnofskyCodification.karnofsky60':60,
              'domus.karnofskyCodification.karnofsky70':70,
              'domus.karnofskyCodification.karnofsky80':80,
              'domus.karnofskyCodification.karnofsky90':90,
              'domus.karnofskyCodification.karnofsky100':100}
          result = karnofskyMapFollowUp[|domus.karnofskyFollowUp.karnofskyFollowUp|[0]]
      '''"/>
      <attribute description="Karnofsky Performance Status change" dataType="int" name="karnofskyChange" label="Variazione Karnofsky Performance Status" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.karnofskyFollowUp.karnofskyNumericFollowUp$)
        karnofskyNumericDict = all($domus.karnofskyFollowUp.karnofskyNumericFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
            result = karnofskyNumericDict[timeStamp][0] - karnofskyNumericDict[timeStamp_1][0]
        else:
            result = karnofskyNumericDict[timeStamp][0] - |domus.karnofsky.karnofskyNumeric|[0]
      '''"/>
    </class>

    <class description="Organ insufficiency follow-up" dataStorage="admission" name="organInsufficiencyFollowUp" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Organ insufficiency follow-up cardiac" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyCardiac" label="Cardiaca" toolTip="Diagnosi documentata di scompenso, NYHA classe III e IV, angina instabile, frazione d'eiezione (FE) &lt;= 50%, stenosi aortica moderata/severa, infarto miocardico entro 30 giorni"/>
      <attribute description="Organ insufficiency follow-up respiratory" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyRespiratory" label="Respiratoria" toolTip="Diagnosi documentata di bronco-pneumopatia cronica ostruttiva (BPCO) o altre diagnosi di patologia polmonare cronica, necessità di ossigenoterapia, necessità di terapia cronica con broncodilatatori e/o steroidi, volume espiratorio massimo nel primo secondo (VEMS, o forced expiratory volume in 1 sec - FEV) &lt;= 50%"/>
      <attribute description="Organ insufficiency follow-up hepatic" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyHepatic" label="Epatica" toolTip="Diagnosi documentata di cirrosi epatica, bilirubina totale &gt; 2 mg/dL, INR &gt; 1.7 (in assenza di terapia anticoagulante orale - TAO), encefalopatia"/>
      <attribute description="Organ insufficiency follow-up renal" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyRenal" label="Renale" toolTip="Diagnosi documentata di insufficienza renale cronica, creatinina &gt; 2 mg/dL, necessità di dialisi"/>
       <attribute description="Organ insufficiency follow-up diabete mellito II" dataType="codingset" codingSet="domus.yesNoCodification" name="organInsufficiencyDiabeteMellitoII" label="Diabete Mellito II" toolTip="Diabete mellito di tipo II"/>
    </class>
    
    <class description="Response to tumor active treatment at follow up" dataStorage="admission" name="activeTreatmentResponseFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.oncologicPatientType.oncologicPatientType|[0] == 'domus.oncologicPatientTypeCodification.AT'">
      <attribute description="Response to tumor active treatment at follow up" dataType="codingset" codingSet="domus.activeTreatmentResponseCodification" name="activeTreatmentResponseFollowUp" label="Risposta al trattamento attivo"/>
    </class>
    
    <class description="Weight follow-up" dataStorage="admission" name="weightFollowUp" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Weight follow-up (kg)" dataType="float" lowerBound="0.0" upperBound="300.0" name="weightFollowUp" label="Peso attuale (kg)"/>
      <attribute description="Weight change (kg)" dataType="float" name="weightChange" label="Variazione peso (kg)" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.weightFollowUp.weightFollowUp$)
        weightDict = all($domus.weightFollowUp.weightFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
            result = weightDict[timeStamp][0] - weightDict[timeStamp_1][0]
        else:
            result = weightDict[timeStamp][0] - |domus.weight.weight|[0]        
      '''"/>
    </class>
        
    <class description="Height (cm) follow up" dataStorage="admission" name="heightFollowUp" timeStamp="domus.timeStamp.timeStamp"  visible="'''
      result = years(|domus.birthDate.birthDate|[0],|domus.visitDate.visitDate|[0]) <= 18
    '''">
      <attribute lowerBound="30.0" description="Height (cm) follow up" dataType="int" upperBound="300.0" name="heightFollowUp" label="Altezza attuale (cm)" toolTip="Altezza attuale in cm" />
    </class>
    
    <class description="Body mass index follow-up" dataStorage="admission" name="bmiFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="'''
      result= |domus.age.age|[0] > 14
    '''">
      <attribute description="Body mass index follow-up" dataType="float" name="bmiFollowUp" label="BMI" visible="'''
          result = years(|domus.birthDate.birthDate|[0],|domus.visitDate.visitDate|[0]) > 14
      '''" 
    computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        heightDict = all($domus.heightFollowUp.heightFollowUp$, timeDict=True)
        heights = all($domus.heightFollowUp.heightFollowUp$, timeDict=False)
        heightToBeUsed = 0
        if heightDict and timeStamp in heightDict and heightDict[timeStamp]:
            heightToBeUsed = heightDict[timeStamp][0]
        elif heights and heights[-1]:
            heightToBeUsed = heights[-1]
        else:
            heightToBeUsed = |domus.height.height|[0]
                
        result = |domus.weightFollowUp.weightFollowUp|[0]/(heightToBeUsed*0.01)**2
      '''"/>
      <attribute description="Body mass index change" dataType="float" name="bmiChange" label="Variazione body mass index" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.bmiFollowUp.bmiFollowUp$)
        bmiDict = all($domus.bmiFollowUp.bmiFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
            result = bmiDict[timeStamp][0] - bmiDict[timeStamp_1][0]
        else:
            result = bmiDict[timeStamp][0] - |domus.bmi.bmi|[0]        
      '''"/>
    </class>
    <!--
    <class requiredForStatus="3" description="Oral nutrition during last week" dataStorage="admission" name="lastWeekOralNutritionFollowUp" label="Nutrizione orale ultima settimana" toolTip="Nutrizione orale nell'ultima settimana precedente alla visita" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Total caloric oral nutrition during last week (kcal/die)" dataType="float" name="totalLastWeekCaloricOralNutrition" label="Calorie totali (kcal/die)" computedFormula="'''
      $domus.timeStamp.timeStamp$
      result = |domus.lastWeekOralNutritionFollowUp.totalLastWeekCaloricOralNutrition|[0]
      if |domus.lastWeekOralNutritionFollowUp.totalLastWeekCaloricOralNutritionNotAvailable|[0]:
          result = None
      '''"/>
      <attribute description="Proteic (g)" dataType="float" name="totalLastWeekProteicOralNutrition" label="Proteine/die (g)" computedFormula="'''
      $domus.timeStamp.timeStamp$
      result = |domus.lastWeekOralNutritionFollowUp.totalLastWeekProteicOralNutrition|[0]
      if |domus.lastWeekOralNutritionFollowUp.totalLastWeekProteicOralNutritionNotAvailable|[0]:
          result = None
      '''"/>
      <attribute description="Caloric nutrition not available" dataType="boolean" name="totalLastWeekCaloricOralNutritionNotAvailable" label="Non disponibile"/>
      <attribute description="Proteic nutrition not available" dataType="boolean" name="totalLastWeekProteicOralNutritionNotAvailable" label="Non disponibile"/>
    </class>
    -->
    
    <class description="Diuresi delle 24 ore al follow up" dataStorage="admission" name="diuresiDelle24OreFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
    $domus.timeStamp.timeStamp$
    result = not |domus.diuresiDelle24OreFollowUpNonDisponibile.diuresiDelle24OreFollowUpNonDisponibile| or not |domus.diuresiDelle24OreFollowUpNonDisponibile.diuresiDelle24OreFollowUpNonDisponibile|[0]
    '''"  visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Diuresi delle 24 ore al follow up" dataType="float" name="diuresiDelle24OreFollowUp" label="Diuresi delle 24 ore (ml)"/>
    </class>
    
    <class description="Diuresi delle 24 ore al follow up non disponibile" dataStorage="admission" name="diuresiDelle24OreFollowUpNonDisponibile" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Diuresi delle 24 ore al follow up non disponibile" dataType="boolean" name="diuresiDelle24OreFollowUpNonDisponibile" label="Diuresi delle 24 ore non disponibile"/>
    </class>
    
    <class description="Total caloric oral nutrition during last week (kcal/die)" dataStorage="admission" name="totalLastWeekCaloricOralNutritionFollowUp" label="Nutrizione orale nell'ultima settimana precedente alla visita" toolTip="Nutrizione orale nell'ultima settimana precedente alla visita" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.totalLastWeekCaloricOralNutritionFollowUpNotAvailable.totalLastWeekCaloricOralNutritionFollowUpNotAvailable| or not |domus.totalLastWeekCaloricOralNutritionFollowUpNotAvailable.totalLastWeekCaloricOralNutritionFollowUpNotAvailable|[0]
      '''">
      <attribute description="Total caloric oral nutrition during last week (kcal/die)" dataType="float" name="totalLastWeekCaloricOralNutritionFollowUp" label="Calorie totali (kcal/die)"/>
    </class>
    
    <class description="Oral nutrition during last week" dataStorage="admission" name="totalLastWeekProteicOralNutritionFollowUp" label="Nutrizione orale ultima settimana precedente alla visita" toolTip="Nutrizione orale nell'ultima settimana precedente alla visita" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.totalLastWeekProteicOralNutritionFollowUpNotAvailable.totalLastWeekProteicOralNutritionFollowUpNotAvailable| or not |domus.totalLastWeekProteicOralNutritionFollowUpNotAvailable.totalLastWeekProteicOralNutritionFollowUpNotAvailable|[0]
      '''">
      <attribute description="Total proteic oral nutrition during last week (g/die)" dataType="float" name="totalLastWeekProteicOralNutritionFollowUp" label="Proteine (g/die)" />
    </class>
    
    <class description="Caloric oral nutrition follow-up not available" dataStorage="admission" name="totalLastWeekCaloricOralNutritionFollowUpNotAvailable" label="Nutrizione orale ultima settimana" toolTip="Nutrizione orale  nell'ultima settimana precedente alla visita" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Caloric oral nutrition not available" dataType="boolean" name="totalLastWeekCaloricOralNutritionFollowUpNotAvailable" label="Nutrizione orale ultima settimana non disponibile"/>
    </class>
    
    <class description="Proteic oral nutrition follow-up not available" dataStorage="admission" name="totalLastWeekProteicOralNutritionFollowUpNotAvailable" label="Proteine ultima settimana" toolTip="Nutrizione orale nell'ultima settimana precedente alla visita" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Proteic oral nutrition not available" dataType="boolean" name="totalLastWeekProteicOralNutritionFollowUpNotAvailable" label="Proteine ultima settimana non disponibile"/>
    </class>
    
    <class description="Percent oral nutrition during last week relative to nutritional needs" dataStorage="admission" name="percentLastWeekOralNutritionFollowUp" label="Nutrizione orale ultima settimana" toolTip="Nutrizione orale nell'ultima settimana precedente alla visita" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Percent caloric oral nutrition during last week relative to caloric nutritional needs " dataType="codingset" codingSet="domus.percentCaloricOralNutritionCodification" name="percentLastWeekCaloricOralNutrition" label="Calorie (% dei fabbisogni calorici)"/>
    </class>
    
    <class description="Glicemia follow up" dataStorage="admission" name="glicemiaFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.glicemiaFollowUpNotAvailable.glicemiaFollowUpNotAvailable| or not |domus.glicemiaFollowUpNotAvailable.glicemiaFollowUpNotAvailable|[0]
      '''" 
      visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Glicemia follow up" dataType="float" name="glicemiaFollowUp" label="Glicemia"/>
      <attribute description="Glicemia units" name="glicemiaUnits" dataType="codingset" codingSet="domus.codificaUnitaGlicemia" computedFormula="result= 'domus.codificaUnitaGlicemia.mgdL'" />
      <attribute description="Glicemia change" dataType="float" name="glicemiaChange" label="Variazione glicemia" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.glicemiaFollowUp.glicemiaFollowUp$)
        glicemiaDict = all($domus.glicemiaFollowUp.glicemiaFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
          glicemia = glicemiaDict[timeStamp][0]
          glicemia_t = glicemiaDict[timeStamp_1][0]
          result = glicemia - glicemia_t
        elif timeStamp in glicemiaDict and |domus.glicemia.glicemia|[0]:
          glicemia = glicemiaDict[timeStamp][0]
          glicemia_t = |domus.glicemia.glicemia|[0]
          result = glicemia - glicemia_t
            '''"/>
      
    </class>
    
    <class description="Glicemia follow-up not available" dataStorage="admission" name="glicemiaFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.glicemiaFollowUp.glicemiaFollowUp| or not |domus.glicemiaFollowUp.glicemiaFollowUp|[0]" >
      <attribute description="Glicemia follow-up not available" dataType="boolean" name="glicemiaFollowUpNotAvailable" label="Glicemia non disponibile"/>
    </class>
    
    <class description="Creatinina follow up" dataStorage="admission" name="creatininaFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.creatininaFollowUpNotAvailable.creatininaFollowUpNotAvailable| or not |domus.creatininaFollowUpNotAvailable.creatininaFollowUpNotAvailable|[0]
      '''" 
      visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Creatinina follow up" dataType="float" name="creatininaFollowUp" label="Creatinina"/>
      <attribute description="Creatinina units" name="creatininaUnits" dataType="codingset" codingSet="domus.codificaUnitaCreatinina" computedFormula="result= 'domus.codificaUnitaCreatinina.mgdL'" />
      <attribute description="Creatinina change" dataType="float" name="creatininaChange" label="Variazione creatinina" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.creatininaFollowUp.creatininaFollowUp$)
        creatininaDict = all($domus.creatininaFollowUp.creatininaFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
          creatinina = creatininaDict[timeStamp][0]
          creatinina_t = creatininaDict[timeStamp_1][0]
          result = creatinina - creatinina_t
        elif timeStamp in creatininaDict and |domus.creatinina.creatinina|[0]:
          creatinina = creatininaDict[timeStamp][0]
          creatinina_t = |domus.creatinina.creatinina|[0]
          result = creatinina - creatinina_t
            '''"/>
    </class>
    
    <class description="Creatinina follow-up not available" dataStorage="admission" name="creatininaFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.creatininaFollowUp.creatininaFollowUp| or not |domus.creatininaFollowUp.creatininaFollowUp|[0]" >
      <attribute description="Creatinina follow-up not available" dataType="boolean" name="creatininaFollowUpNotAvailable" label="Creatinina non disponibile"/>
    </class>
    
    <class description="Azotemia follow up" dataStorage="admission" name="azotemiaFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.azotemiaFollowUpNotAvailable.azotemiaFollowUpNotAvailable| or not |domus.azotemiaFollowUpNotAvailable.azotemiaFollowUpNotAvailable|[0]
      '''" 
      visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Azotemia follow up" dataType="float" name="azotemiaFollowUp" label="Azotemia"/>
      <attribute description="Azotemia units" name="azotemiaUnits" dataType="codingset" codingSet="domus.codificaUnitaAzotemia" computedFormula="result= 'domus.codificaUnitaAzotemia.mgdL'" />
      <attribute description="Azotemia change" dataType="float" name="azotemiaChange" label="Variazione azotemia" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.azotemiaFollowUp.azotemiaFollowUp$)
        azotemiaDict = all($domus.azotemiaFollowUp.azotemiaFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
          azotemia = azotemiaDict[timeStamp][0]
          azotemia_t = azotemiaDict[timeStamp_1][0]
          result = azotemia - azotemia_t
        elif timeStamp in azotemiaDict and |domus.azotemia.azotemia|[0]:
          azotemia = azotemiaDict[timeStamp][0]
          azotemia_t = |domus.azotemia.azotemia|[0]
          result = azotemia - azotemia_t
            '''"/>
    </class>
    
    <class description="Azotemia follow-up not available" dataStorage="admission" name="azotemiaFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.azotemiaFollowUp.azotemiaFollowUp| or not |domus.azotemiaFollowUp.azotemiaFollowUp|[0]" >
      <attribute description="Azotemia follow-up not available" dataType="boolean" name="azotemiaFollowUpNotAvailable" label="Azotemia non disponibile"/>
    </class>
    
    
    <class description="Albumin follow-up" dataStorage="admission" name="albuminFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.albuminFollowUpNotAvailable.albuminFollowUpNotAvailable| or not |domus.albuminFollowUpNotAvailable.albuminFollowUpNotAvailable|[0]
      '''">
      <attribute description="Albumin follow-up" dataType="float" name="albuminFollowUp" label="Albumina"/>
      <attribute description="Albumin change" dataType="float" name="albuminChange" label="Variazione albumina" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.albuminFollowUp.albuminFollowUp$)
        albuminDict = all($domus.albuminFollowUp.albuminFollowUp$,timeDict=True)
        albuminUnitsDict = all($domus.albuminFollowUp.albuminUnits$,timeDict=True)
        if timeStamp and timeStamp_1:
            if timeStamp in albuminUnitsDict and timeStamp_1 in albuminUnitsDict:
                albumin = albuminDict[timeStamp][0]
                albumin_t = albuminDict[timeStamp_1][0]
                if albuminUnitsDict[timeStamp][0] == 'domus.albuminUnitsCodification.gL':
                    albumin *= 0.1
                if albuminUnitsDict[timeStamp_1][0] == 'domus.albuminUnitsCodification.gL':
                    albumin_t *= 0.1
                result = albumin - albumin_t
                if albuminUnitsDict[timeStamp][0] == 'domus.albuminUnitsCodification.gL':
                    result /= 0.1
        else:
            albumin = albuminDict[timeStamp][0]
            albumin_t = |domus.albumin.albumin|[0]
            if albuminUnitsDict[timeStamp][0] == 'domus.albuminUnitsCodification.gL':
                albumin *= 0.1
            if |domus.albumin.albuminUnits|[0] == 'domus.albuminUnitsCodification.gL':
                albumin_t *= 0.1
            result = albumin - albumin_t
            if albuminUnitsDict[timeStamp][0] == 'domus.albuminUnitsCodification.gL':
                result /= 0.1      '''"/>
       <attribute description="Albumin units" dataType="codingset" codingSet="domus.albuminUnitsCodification" name="albuminUnits" />
    </class>
    
    <class description="Albumin follow-up not available" dataStorage="admission" name="albuminFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" enabled="result = not |domus.albuminFollowUp.albuminFollowUp| or not |domus.albuminFollowUp.albuminFollowUp|[0]">
      <attribute description="Albumin follow-up not available" dataType="boolean" name="albuminFollowUpNotAvailable" label="Albumina non disponibile"/>
    </class>
    
    <class description="Prealbumin follow-up" dataStorage="admission" name="prealbuminFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.prealbuminFollowUpNotAvailable.prealbuminFollowUpNotAvailable| or not |domus.prealbuminFollowUpNotAvailable.prealbuminFollowUpNotAvailable|[0]
      '''">
      <attribute description="Prealbumin follow-up" dataType="float" name="prealbuminFollowUp" label="Prealbumina"/>
      <attribute description="Prealbumin units" name="prealbuminUnits" dataType="codingset" codingSet="domus.prealbuminUnitsCodification" computedFormula="result= 'domus.prealbuminUnitsCodification.mgdL'" />
      <attribute description="Prealbumin change" dataType="float" name="prealbuminChange" label="Variazione prealbumina" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.prealbuminFollowUp.prealbuminFollowUp$)
        prealbuminDict = all($domus.prealbuminFollowUp.prealbuminFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
            result = prealbuminDict[timeStamp][0] - prealbuminDict[timeStamp_1][0]
        else:
            result = prealbuminDict[timeStamp][0] - |domus.prealbumin.prealbumin|[0]        
      '''"/>
    </class>
    
    <class description="Prealbumin follow-up not available" dataStorage="admission" name="prealbuminFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" enabled="result = not |domus.prealbuminFollowUp.prealbuminFollowUp| or not |domus.prealbuminFollowUp.prealbuminFollowUp|[0]">
      <attribute description="Prealbumin follow-up not available" dataType="boolean" name="prealbuminFollowUpNotAvailable" label="Prealbumina non disponibile"/>
    </class>
    
    <class description="Transferrin follow-up" dataStorage="admission" name="transferrinFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.transferrinFollowUpNotAvailable.transferrinFollowUpNotAvailable| or not |domus.transferrinFollowUpNotAvailable.transferrinFollowUpNotAvailable|[0]
      '''">
      <attribute description="Transferrin follow-up" dataType="float" name="transferrinFollowUp" label="Transferrina"/>
      <attribute description="Transferrin change" dataType="float" name="transferrinChange" label="Variazione transferrina" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.transferrinFollowUp.transferrinFollowUp$)
        transferrinDict = all($domus.transferrinFollowUp.transferrinFollowUp$,timeDict=True)
        transferrinUnitsDict = all($domus.transferrinFollowUp.transferrinUnits$,timeDict=True)
        if timeStamp and timeStamp_1:
            if timeStamp in transferrinUnitsDict and timeStamp_1 in transferrinUnitsDict:
                transferrin = transferrinDict[timeStamp][0]
                transferrin_t = transferrinDict[timeStamp_1][0]
                if transferrinUnitsDict[timeStamp][0] == 'domus.transferrinUnitsCodification.gL':
                    transferrin *= 100.0
                if transferrinUnitsDict[timeStamp_1][0] == 'domus.transferrinUnitsCodification.gL':
                    transferrin_t *= 100.0
                result = transferrin - transferrin_t
                if transferrinUnitsDict[timeStamp][0] == 'domus.transferrinUnitsCodification.gL':
                    result /= 100.0
        else:
            transferrin = transferrinDict[timeStamp][0]
            transferrin_t = |domus.transferrin.transferrin|[0]
            if transferrinUnitsDict[timeStamp][0] == 'domus.transferrinUnitsCodification.gL':
                transferrin *= 100.0
            if |domus.transferrin.transferrinUnits|[0] == 'domus.transferrinUnitsCodification.gL':
                transferrin_t *= 100.0
            result = transferrin - transferrin_t
            if transferrinUnitsDict[timeStamp][0] == 'domus.transferrinUnitsCodification.gL':
                result /= 100.0
      '''"/>
      <attribute description="Transferrin units" dataType="codingset" codingSet="domus.transferrinUnitsCodification" name="transferrinUnits" />
    </class>
    
    <class description="Transferrin follow-up not available" dataStorage="admission" name="transferrinFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" enabled="result = not |domus.transferrinFollowUp.transferrinFollowUp| or not |domus.transferrinFollowUp.transferrinFollowUp|[0]">
      <attribute description="Transferrin follow-up not available" dataType="boolean" name="transferrinFollowUpNotAvailable" label="Transferrina non disponibile"/>
    </class>
    
    <class description="CRP follow-up" dataStorage="admission" name="crpFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.crpFollowUpNotAvailable.crpFollowUpNotAvailable| or not |domus.crpFollowUpNotAvailable.crpFollowUpNotAvailable|[0]
      '''">
      <attribute description="CRP follow-up" dataType="float" name="crpFollowUp" label="Proteina C-Reattiva (PCR)"/>
      <attribute description="CRP change" dataType="float" name="crpChange" label="Variazione Proteina C-Reattiva (PCR)" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.crpFollowUp.crpFollowUp$)
        crpDict = all($domus.crpFollowUp.crpFollowUp$,timeDict=True)
        crpUnitsDict = all($domus.crpFollowUp.crpUnits$,timeDict=True)
        if timeStamp and timeStamp_1:
            if timeStamp in crpUnitsDict and timeStamp_1 in crpUnitsDict:
                crp = crpDict[timeStamp][0]
                crp_t = crpDict[timeStamp_1][0]
                if crpUnitsDict[timeStamp][0] == 'domus.crpUnitsCodification.mgL':
                    crp *= 0.1
                if crpUnitsDict[timeStamp_1][0] == 'domus.crpUnitsCodification.mgL':
                    crp_t *= 0.1
                result = crp - crp_t
                if crpUnitsDict[timeStamp][0] == 'domus.crpUnitsCodification.mgL':
                    result /= 0.1
        else:
            crp = crpDict[timeStamp][0]
            crp_t = |domus.crp.crp|[0]
            if crpUnitsDict[timeStamp][0] == 'domus.crpUnitsCodification.mgL':
                crp *= 0.1
            if |domus.crp.crpUnits|[0] == 'domus.crpUnitsCodification.mgL':
                crp_t *= 0.1
            result = crp - crp_t
            if crpUnitsDict[timeStamp][0] == 'domus.crpUnitsCodification.mgL':
                result /= 0.1
      '''"/>
      <attribute description="C-Reactive Protein (CRP) units" dataType="codingset" codingSet="domus.crpUnitsCodification" name="crpUnits"/>
    </class>
    
    <class description="C-Reactive Protein (CRP) follow-up not available" dataStorage="admission" name="crpFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" enabled="result = not |domus.crpFollowUp.crpFollowUp| or not |domus.crpFollowUp.crpFollowUp|[0]">
      <attribute description="C-Reactive Protein (CRP) follow-up not available" dataType="boolean" name="crpFollowUpNotAvailable" label="Proteina C-Reattiva (PCR) non disponibile"/>
    </class>
    
    <class description="Sodio follow up" dataStorage="admission" name="sodioFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.sodioFollowUpNotAvailable.sodioFollowUpNotAvailable| or not |domus.sodioFollowUpNotAvailable.sodioFollowUpNotAvailable|[0]
      '''" 
      visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Sodio follow up" dataType="float" name="sodioFollowUp" label="Sodio"/>
      <attribute description="Sodio units" name="sodioUnits" dataType="codingset" codingSet="domus.codificaUnitaSodio" computedFormula="result= 'domus.codificaUnitaSodio.mEqL'" />
      <attribute description="Sodio change" dataType="float" name="sodioChange" label="Variazione sodio" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.sodioFollowUp.sodioFollowUp$)
        sodioDict = all($domus.sodioFollowUp.sodioFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
          sodio = sodioDict[timeStamp][0]
          sodio_t = sodioDict[timeStamp_1][0]
          result = sodio - sodio_t
        elif timeStamp in sodioDict and |domus.sodio.sodio|[0]:
          sodio = sodioDict[timeStamp][0]
          sodio_t = |domus.sodio.sodio|[0]
          result = sodio - sodio_t
            '''"/>
      
    </class>
    
    <class description="Sodio follow-up not available" dataStorage="admission" name="sodioFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.sodioFollowUp.sodioFollowUp| or not |domus.sodioFollowUp.sodioFollowUp|[0]" >
      <attribute description="Sodio follow-up not available" dataType="boolean" name="sodioFollowUpNotAvailable" label="Sodio non disponibile"/>
    </class>
    
    <class description="Potassio follow up" dataStorage="admission" name="potassioFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.potassioFollowUpNotAvailable.potassioFollowUpNotAvailable| or not |domus.potassioFollowUpNotAvailable.potassioFollowUpNotAvailable|[0]
      '''" 
      visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Potassio follow up" dataType="float" name="potassioFollowUp" label="Potassio"/>
      <attribute description="Potassio units" name="potassioUnits" dataType="codingset" codingSet="domus.codificaUnitaPotassio" computedFormula="result= 'domus.codificaUnitaPotassio.mEqL'" />
      <attribute description="Potassio change" dataType="float" name="potassioChange" label="Variazione potassio" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.potassioFollowUp.potassioFollowUp$)
        potassioDict = all($domus.potassioFollowUp.potassioFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
          potassio = potassioDict[timeStamp][0]
          potassio_t = potassioDict[timeStamp_1][0]
          result = potassio - potassio_t
        elif timeStamp in potassioDict and |domus.potassio.potassio|[0]:
          potassio = potassioDict[timeStamp][0]
          potassio_t = |domus.potassio.potassio|[0]
          result = potassio - potassio_t
            '''"/>
      
    </class>
    
    <class description="Potassio follow-up not available" dataStorage="admission" name="potassioFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.potassioFollowUp.potassioFollowUp| or not |domus.potassioFollowUp.potassioFollowUp|[0]" >
      <attribute description="Potassio follow-up not available" dataType="boolean" name="potassioFollowUpNotAvailable" label="Potassio non disponibile"/>
    </class>
    
    <class description="Peso specifico urine follow up" dataStorage="admission" name="pesoSpecificoUrineFollowUp" timeStamp="domus.timeStamp.timeStamp" enabled="'''
      $domus.timeStamp.timeStamp$
      result = not |domus.pesoSpecificoUrineFollowUpNotAvailable.pesoSpecificoUrineFollowUpNotAvailable| or not |domus.pesoSpecificoUrineFollowUpNotAvailable.pesoSpecificoUrineFollowUpNotAvailable|[0]
      '''" 
      visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Peso specifico urine follow up" dataType="float" name="pesoSpecificoUrineFollowUp" label="Peso specifico urine"/>
      <attribute description="Peso specifico urine units" name="unitaPesoSpecificoUrine" dataType="codingset" codingSet="domus.codificaUnitaPesoSpecificoUrine" computedFormula="result= 'domus.codificaUnitaPesoSpecificoUrine.mgL'" />
      <attribute description="Peso specifico urine change" dataType="float" name="pesoSpecificoUrineChange" label="Variazione pesoSpecificoUrine" computedFormula="'''
        timeStamp = |domus.timeStamp.timeStamp|[0]
        timeStamp_1 = previous_timestamp($domus.pesoSpecificoUrineFollowUp.pesoSpecificoUrineFollowUp$)
        pesoSpecificoUrineDict = all($domus.pesoSpecificoUrineFollowUp.pesoSpecificoUrineFollowUp$,timeDict=True)
        if timeStamp and timeStamp_1:
          pesoSpecificoUrine = pesoSpecificoUrineDict[timeStamp][0]
          pesoSpecificoUrine_t = pesoSpecificoUrineDict[timeStamp_1][0]
          result = pesoSpecificoUrine - pesoSpecificoUrine_t
        elif timeStamp in pesoSpecificoUrineDict and |domus.pesoSpecificoUrine.pesoSpecificoUrine|[0]:
          pesoSpecificoUrine = pesoSpecificoUrineDict[timeStamp][0]
          pesoSpecificoUrine_t = |domus.pesoSpecificoUrine.pesoSpecificoUrine|[0]
          result = pesoSpecificoUrine - pesoSpecificoUrine_t
            '''"/>
      
    </class>
    
    <class description="Peso specifico urine follow-up not available" dataStorage="admission" name="pesoSpecificoUrineFollowUpNotAvailable" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" enabled="result = not |domus.pesoSpecificoUrineFollowUp.pesoSpecificoUrineFollowUp| or not |domus.pesoSpecificoUrineFollowUp.pesoSpecificoUrineFollowUp|[0]">
      <attribute description="Peso specifico urine follow-up not available" dataType="boolean" name="pesoSpecificoUrineFollowUpNotAvailable" label="Peso specifico urine non disponibile"/>
    </class>
    
    
    <class description="Nutritional needs coverage" dataStorage="admission" name="nutritionalNeedsCoverage" label="Copertura dei fabbisogni con la prescrizione della NPD" toolTip="Si vuole verificare se, con la prescrizione della NPD, si ottiene la copertura dei fabbisogni del/della paziente. Si verifica se c'è una differenza (in percentuale) tra i fabbisogni e la somma degli approti della nutrizione orale e della NPD prescritta" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Caloric nutritional needs coverage" dataType="float" name="caloricNutritionalNeedsCoverage" label="Calorici totali (%)" computedFormula="'''
        $domus.timeStamp.timeStamp$
        caloriesPerInfusion = at($domus.pdnPrescriptionFollowUp.caloriesPerInfusion$,-1)
        infusionsPerWeek = at($domus.pdnPrescriptionFollowUp.infusionsPerWeek$,-1)
        if not caloriesPerInfusion:
            caloriesPerInfusion = |domus.pndPrescription.caloriesPerInfusion|[0]
        else:
            caloriesPerInfusion = caloriesPerInfusion[0]
        if not infusionsPerWeek:
            infusionsPerWeek = |domus.pndPrescription.infusionsPerWeek|[0]
        else:
            infusionsPerWeek = infusionsPerWeek[0]
        result = (caloriesPerInfusion * infusionsPerWeek + |domus.totalLastWeekCaloricOralNutrition.totalLastWeekCaloricOralNutrition|[0] * 7) / (|domus.nutritionalNeeds.caloricNutritionalNeedsComputed|[0] * 7)
      '''"/>
      <attribute description="Proteic nutritional needs coverage" dataType="float" name="proteicNutritionalNeedsCoverage" label="Proteici (%)" computedFormulla="'''
        $domus.timeStamp.timeStamp$
        aminoacidsPerInfusion = at($domus.pdnPrescriptionFollowUp.aminoacidsPerInfusion$,-1)
        infusionsPerWeek = at($domus.pdnPrescriptionFollowUp.infusionsPerWeek$,-1)
        if not aminoacidsPerInfusion:
            aminoacidsPerInfusion = |domus.pndPrescription.aminoacidsPerInfusion|[0]
        else:
            aminoacidsPerInfusion = aminoacidsPerInfusion[0]
        if not infusionsPerWeek:
            infusionsPerWeek = |domus.pndPrescription.infusionsPerWeek|[0]
        else:
            infusionsPerWeek = infusionsPerWeek[0]
        result = (aminoacidsPerInfusion * infusionsPerWeek + |domus.totalLastWeekProteicOralNutrition.totalLastWeekProteicOralNutrition|[0] * 7) / (|domus.nutritionalNeeds.proteicNutritionalNeedsComputed|[0] * 7)
      '''"/>
    </class>
    
    <class description="CVC complications" dataStorage="admission" name="cvcComplications" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="CVC complications" dataType="codingset" codingSet="domus.cvcComplicationsCodification" multiInstance="1" name="cvcComplications" label="Complicanze del CVC" />
    </class>
    
    <class description="CVC complications with removal" dataStorage="admission" name="cvcRemoval" timeStamp="domus.timeStamp.timeStamp" visible="'''
    result = |domus.cvcComplications.cvcComplications| and not |domus.cvcComplications.cvcComplications|[0] == 'domus.cvcComplicationsCodification.none'
    '''">
      <attribute description="CVC complications with removal" dataType="codingset" codingSet="domus.yesNoCodification" name="cvcRemoval" label="La complicanza ha richiesto la rimozione del CVC?"/>
    </class>
    
    <class description="Ordinary PDN hospitalizations" dataStorage="admission" name="anyPDNHospitalizations" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Any ordinary hospitalizations?" dataType="codingset" codingSet="domus.yesNoCodification" name="anyPDNHospitalizations" label="Sono stati effettuati ricoveri ordinari nel periodo?" toolTip="Sono stati effettuati ricoveri ordinari (non day-hospital) dalla data dell'ultimo contatto?"/>
    </class>
    
    <class description="Number of PDN hospitalizations" dataStorage="admission" name="numberOfPDNHospitalizations" timeStamp="domus.timeStamp.timeStamp" visible="'''
    result = |domus.anyPDNHospitalizations.anyPDNHospitalizations|[0] == 'domus.yesNoCodification.yes'
    '''">
      <attribute description="Number of ordinary hospitalizations" dataType="int" name="numberOfPDNHospitalizations" label="Numero di ricoveri ordinari nel periodo"/>
    </class>
    
    <class description="Ordinary PDN hospitalization list" dataStorage="admission" name="pdnHospitalizationList" label="Periodi di ospedalizzazione" timeStamp="domus.timeStamp.timeStamp" >
      <attribute description="Ordinary hospitalization list" dataType="object" multiInstance="1" name="pdnHospitalizationList" />
      <attribute description="Ordinary hospitalization list helper" dataType="boolean" name="helper" computedFormula="'''
      helperDataSession = helperMainLogic.dataSession
      numberOfHospitalizations = |domus.numberOfPDNHospitalizations.numberOfPDNHospitalizations|
      hospitalizationList = |domus.pdnHospitalizationList.pdnHospitalizationList|
      if numberOfHospitalizations == []:
          for objectCode in hospitalizationList:
              helperDataSession.removeObjectCodeInContainer(objectCode,'domus','pdnHospitalizationList','pdnHospitalizationList')
      else:
          numberOfHospitalizations = numberOfHospitalizations[0]
          hospitalizationList = |domus.pdnHospitalizationList.pdnHospitalizationList|
          hospitalizationListLength = len(hospitalizationList)
          if hospitalizationListLength == numberOfHospitalizations:
              pass
          elif hospitalizationListLength > numberOfHospitalizations:
              for objectCode in hospitalizationList[numberOfHospitalizations:]:
                  helperDataSession.removeObjectCodeInContainer(objectCode,'domus','pdnHospitalizationList','pdnHospitalizationList')      
          else:
              for i in range(numberOfHospitalizations - hospitalizationListLength):
                  classInstanceNumber = helperDataSession.addNewObjectToContainer('domus','pdnHospitalizationDetail','domus','pdnHospitalizationList','pdnHospitalizationList')
                  helperDataSession.updateDataNoNotify('domus','pdnHospitalizationDetail',classInstanceNumber,'pdnHospitalizationPeriodId',hospitalizationListLength+i+1)
      result = True
      '''"/>
    </class>
    
    <class description="Ordinary PDN hospitalization detail" dynamic="1" dataStorage="admission" name="pdnHospitalizationDetail"  timeStamp="domus.timeStamp.timeStamp" >
        <attribute description="Period id" dataType="int" name="pdnHospitalizationPeriodId" label="Ricovero"/>
        <attribute description="Ordinary hospitalization detail start date" dataType="datetime" name="pdnHospitalizationStartDate" label="Data inizio"/>
        <attribute description="Ordinary hospitalization detail end date" dataType="datetime" name="pdnHospitalizationEndDate" label="Data fine"/>
        <attribute description="Causa del ricovero" dataType="codingset" codingSet="domus.causaRicovero" name="causaRicovero" label="Causa del ricovero"/>
    </class>
    
    <class description="Ab ingestis hospitalizations" dataStorage="admission" name="anyAbIngestisHospitalizations" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'">
      <attribute description="Any ab ingestis hospitalizations?" dataType="codingset" codingSet="domus.yesNoCodification" name="anyAbIngestisHospitalizations" label="Sono stati effettuati ricoveri per ab ingestis nel periodo?" toolTip="Sono stati effettuati ricoveri per ab ingestis dalla data dell'ultimo contatto?"/>
    </class>
    
    <class description="Number of ab ingestis hospitalizations" dataStorage="admission" name="numberOfAbIngestisHospitalizations" timeStamp="domus.timeStamp.timeStamp" visible="'''
    result = |domus.anyAbIngestisHospitalizations.anyAbIngestisHospitalizations|[0] == 'domus.yesNoCodification.yes' and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'
    '''">
      <attribute description="Number of ab ingestis hospitalizations" dataType="int" name="numberOfAbIngestisHospitalizations" label="Numero di ricoveri per ab ingestis nel periodo" toolTip="Specificare numero ricoveri compresi quelli che hanno portato a ricovero PER"/>
    </class>
    
    <class description="Ab ingestis hospitalization list" dataStorage="admission" name="abIngestisHospitalizationList" label="Periodi di ospedalizzazione per ab ingestis" timeStamp="domus.timeStamp.timeStamp" >
      <attribute description="Ab ingestis hospitalization list" dataType="object" multiInstance="1" name="abIngestisHospitalizationList" />
      <attribute description="Ab ingestis hospitalization list helper" dataType="boolean" name="helper" computedFormula="'''
      helperDataSession = helperMainLogic.dataSession
      numberOfAbIngestisHospitalizations = |domus.numberOfAbIngestisHospitalizations.numberOfAbIngestisHospitalizations|
      abIngestisHospitalizationList = |domus.AbIngestisHospitalizationList.AbIngestisHospitalizationList|
      if numberOfAbIngestisHospitalizations == []:
          for objectCode in abIngestisHospitalizationList:
              helperDataSession.removeObjectCodeInContainer(objectCode,'domus','abIngestisHospitalizationList','abIngestisHospitalizationList')
      else:
          numberOfAbIngestisHospitalizations = numberOfAbIngestisHospitalizations[0]
          abIngestisHospitalizationList = |domus.abIngestisHospitalizationList.abIngestisHospitalizationList|
          abIngestisHospitalizationListLength = len(abIngestisHospitalizationList)
          if abIngestisHospitalizationListLength == numberOfAbIngestisHospitalizations:
              pass
          elif abIngestisHospitalizationListLength > numberOfAbIngestisHospitalizations:
              for objectCode in abIngestisHospitalizationList[numberOfAbIngestisHospitalizations:]:
                  helperDataSession.removeObjectCodeInContainer(objectCode,'domus','abIngestisHospitalizationList','abIngestisHospitalizationList')      
          else:
              for i in range(numberOfAbIngestisHospitalizations - abIngestisHospitalizationListLength):
                  classInstanceNumber = helperDataSession.addNewObjectToContainer('domus','abIngestisHospitalizationDetail','domus','abIngestisHospitalizationList','abIngestisHospitalizationList')
                  helperDataSession.updateDataNoNotify('domus','abIngestisHospitalizationDetail',classInstanceNumber,'abIngestisHospitalizationPeriodId',abIngestisHospitalizationListLength+i+1)
      result = True
      '''"/>
    </class>
    
    <class description="Ab ingestis hospitalization detail" dynamic="1" dataStorage="admission" name="abIngestisHospitalizationDetail"  timeStamp="domus.timeStamp.timeStamp" >
        <attribute description="Period id" dataType="int" name="abIngestisHospitalizationPeriodId" label="Ricovero per ab ingestis"/>
        <attribute description="Ab ingestis hospitalization detail start date" dataType="datetime" name="abIngestisHospitalizationStartDate" label="Data inizio"/>
        <attribute description="Ab ingestis hospitalization detail end date" dataType="datetime" name="abIngestisHospitalizationEndDate" label="Data fine"/>
    </class>
        
    <class description="All infusions administered" dataStorage="admission" name="allInfusionsAdministered" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="All infusions administered" dataType="codingset" codingSet="domus.yesNoCodification" name="allInfusionsAdministered" label="Sono state effettuate tutte le infusioni previste a domicilio dal precedente contatto?"/>
    </class>
    
    <class description="Number of non administered infusions" dataStorage="admission" name="numberOfNonAdministeredInfusions" timeStamp="domus.timeStamp.timeStamp" visible="result = not |domus.allInfusionsAdministered.allInfusionsAdministered|[0] == 'domus.yesNoCodification.yes'" enabled="'''
      result = not |domus.numberOfNonAdministeredInfusionsNotAvailable.numberOfNonAdministeredInfusionsNotAvailable| or not |domus.numberOfNonAdministeredInfusionsNotAvailable.numberOfNonAdministeredInfusionsNotAvailable|[0]
      '''">
      <attribute description="Number of non administered infusions" dataType="int" name="numberOfNonAdministeredInfusions" label="Numero di infusioni non somministrate" toolTip="Numero di infusioni non somministrate dal precedente contatto"/>
    </class>
    
    <class description="Number of non administered infusions not available" dataStorage="admission" name="numberOfNonAdministeredInfusionsNotAvailable" timeStamp="domus.timeStamp.timeStamp" visible="result = not |domus.allInfusionsAdministered.allInfusionsAdministered|[0] == 'domus.yesNoCodification.yes'">
      <attribute description="Number of non administered infusions not available" dataType="boolean" name="numberOfNonAdministeredInfusionsNotAvailable" label="Numero di infusioni non somministrate non disponibile"/>
    </class>
    <!--<class description="Period suspensions" dataStorage="admission" name="anyPeriodSuspensions" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Any temporary suspensions" dataType="codingset" codingSet="domus.yesNoCodification" name="anyPeriodSuspensions" label="Sono state effettuate sospensioni temporanee della NPD nel periodo?"/>
    </class>    
    <class description="Number of temporary suspensions" dataStorage="admission" name="numberOfPeriodSuspensions" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.anyPeriodSuspensions.anyPeriodSuspensions|[0] == 'domus.yesNoCodification.yes'">
      <attribute description="Number of temporary suspensions" dataType="int" name="numberOfPeriodSuspensions" label="Numero di sospensioni temporanee"/>
    </class>    
    <class description="Temporary suspension list" dataStorage="admission" name="periodSuspensionList" label="Periodi di sospensione" timeStamp="domus.timeStamp.timeStamp" >
      <attribute description="Temporary suspension list" dataType="object" multiInstance="1" name="periodSuspensionList" />
      <attribute description="Temporary suspension list helper" dataType="boolean" name="helper" computedFormula="'''
      helperDataSession = helperMainLogic.dataSession
      numberOfPeriodSuspensions = |domus.numberOfPeriodSuspensions.numberOfPeriodSuspensions|
      hospitalizationList = |domus.periodSuspensionList.periodSuspensionList|
      if numberOfPeriodSuspensions == []:
          for objectCode in hospitalizationList:
              helperDataSession.removeObjectCodeInContainer(objectCode,'domus','periodSuspensionList','periodSuspensionList')
      else:
          numberOfPeriodSuspensions = numberOfPeriodSuspensions[0]
          hospitalizationList = |domus.periodSuspensionList.periodSuspensionList|
          hospitalizationListLength = len(hospitalizationList)
          if hospitalizationListLength == numberOfPeriodSuspensions:
              pass
          elif hospitalizationListLength > numberOfPeriodSuspensions:
              for objectCode in hospitalizationList[numberOfPeriodSuspensions:]:
                  helperDataSession.removeObjectCodeInContainer(objectCode,'domus','periodSuspensionList','periodSuspensionList')          
          else:
              for i in range(numberOfPeriodSuspensions - hospitalizationListLength):
                  classInstanceNumber = helperDataSession.addNewObjectToContainer('domus','periodSuspensionDetail','domus','periodSuspensionList','periodSuspensionList')                  
                  helperDataSession.updateDataNoNotify('domus','periodSuspensionDetail',classInstanceNumber,'periodSuspensionPeriodId',hospitalizationListLength+i+1)
      result = True
      '''"/>
    </class>-->
    <!--<class description="Temporary suspension detail" dynamic="1" dataStorage="admission" name="periodSuspensionDetail"  timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Period id" dataType="int" name="periodSuspensionPeriodId" label="Periodo"/>
      <attribute description="Temporary suspension detail start date" dataType="datetime" name="periodSuspensionStartDate" label="Data inizio"/>      <attribute description="Temporary suspension detail end date" dataType="datetime" name="periodSuspensionEndDate" label="Data fine"/>
    </class>-->
    
<!-- Scheda finale -->
    <!--<class requiredForStatus="4" description="Date of final suspension of PDN" dataStorage="admission" name="pdnSuspensionDate" label="Data di sospensione definitiva della NPD">
      <attribute description="Date of final suspension of PDN" dataType="datetime" name="pdnSuspensionDate" label="Data di sospensione definitiva della NPD"/>
    </class>-->
    
    <class description="Date of final suspension of PDN label" name="pdnSuspensionDateLabel" visible="result = |domus.patientType.patientType|[0] != 'domus.patientTypeCodification.nedType'" >
      <attribute description="Date of final suspension of PDN label" name="pdnSuspensionDateLabel" label="Data di sospensione definitiva della NPD"/>
    </class>
    
    <class description="Date of final suspension of NED label" name="pdnSuspensionDateLabelNED" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Date of final suspension of NED label" name="pdnSuspensionDateLabelNED" label="Data di sospensione definitiva della NED"/>
    </class>
    
    <class requiredForStatus="4" description="Date of final suspension of PDN" dataStorage="admission" name="pdnSuspensionDate" label="Data di sospensione definitiva della NPD">
      <attribute description="Date of final suspension of PDN" dataType="datetime" name="pdnSuspensionDate" label="Data di sospensione definitiva della NPD"/>
    </class>
    
    <class description="Cause of final suspension of PDN label" name="pdnSuspensionReasonLabel" visible="result = |domus.patientType.patientType|[0] != 'domus.patientTypeCodification.nedType'" >
      <attribute description="Cause of final suspension of PDN label" name="pdnSuspensionReasonLabel" label="Causa di sospensione definitiva della NPD"/>
    </class>
    
    <class description="Cause of final suspension of NED label" name="pdnSuspensionReasonLabelNED" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Cause of final suspension of NED label" name="pdnSuspensionReasonLabelNED" label="Causa di sospensione definitiva della NED"/>
    </class>
    
    
    <class requiredForStatus="4" description="Cause of final suspension of PDN" dataStorage="admission" name="pdnSuspensionReason" >
      <attribute description="Cause of final suspension of PDN" dataType="codingset" codingSet="domus.pdnSuspensionReasonCodification" name="pdnSuspensionReason" label="Causa di sospensione definitiva della NPD" />
    </class>
    
    <class requiredForStatus="4" description="Karnofsky performance status - suspension" dataStorage="admission" name="karnofskySuspension" visible="result = |domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.worsening'">
      <attribute description="Karnofsky performance status - suspension" dataType="codingset" codingSet="domus.karnofskyCodification" name="karnofskySuspension" label="Karnofsky Performance Status" toolTip="Livello funzionale dell'organismo definito con l'indice di Karnofsky (10-100)"/>
    </class>
    
    <class requiredForStatus="4" description="Cause of death" dataStorage="admission" name="deathCause" visible="result = |domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.death' and (|domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' or |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType')" >
      <attribute description="Cause of death" dataType="codingset" codingSet="domus.deathCauseCodification" name="deathCause" label="Decesso" toolTip=" Attribuzione della causa di decesso: descrivere la causa iniziale da cui l'evento finale è originato, secondo la definizione WHO International Classification of Diseases 'la malattia o il traumatismo che avvia il concatenamento di eventi morbosi che conduce direttamente alla morte o le circostanze dell'incidente o della violenza che ha prodotto la lesione mortale'"/>
    </class>
    
    <class requiredForStatus="4" description="Date of death" dataStorage="admission" name="deathDate" label="Data di decesso" visible="result = |domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.death' " enabled="result = not |domus.deathDateNotAvailable.deathDateNotAvailable| or not |domus.deathDateNotAvailable.deathDateNotAvailable|[0]">
      <attribute description="Date of death" dataType="datetime" name="deathDate" label="Data di decesso"/>
    </class>
    
    <!--<class requiredForStatus="4" description="Date of death" dataStorage="admission" name="deathDate" label="Data di decesso" visible="result = |domus.pdnSuspensionReason.pdnSuspensionReason|[0] in ['domus.pdnSuspensionReasonCodification.worsening','domus.pdnSuspensionReasonCodification.hospice','domus.pdnSuspensionReasonCodification.death']" enabled="result = not |domus.deathDateNotAvailable.deathDateNotAvailable| or not |domus.deathDateNotAvailable.deathDateNotAvailable|[0]">
      <attribute description="Date of death" dataType="datetime" name="deathDate" label="Data di decesso"/>
    </class>-->
    
    <!-- OLD <class requiredForStatus="4" description="Date of death not available" dataStorage="admission" name="deathDateNotAvailable" visible="|domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.death'">
      <attribute description="Date of death not available" dataType="boolean" name="deathDateNotAvailable" label="Data di decesso non disponibile"/>
    </class> -->
    
    <class requiredForStatus="4" description="Date of death not available" dataStorage="admission" name="deathDateNotAvailable" visible="result = |domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.death'">
      <attribute description="Date of death not available" dataType="boolean" name="deathDateNotAvailable" label="Data di decesso non disponibile"/>
    </class>
    
    <class requiredForStatus="4" description="Transferral destination" dataStorage="admission" name="transferralDestination" label="Centro NED di destinazione" visible="result = |domus.pdnSuspensionReason.pdnSuspensionReason|[0] in ['domus.pdnSuspensionReasonCodification.transferral']">
      <attribute description="Transferral destination" dataType="string" name="transferralDestination" label="Centro NED di destinazione"/>
    </class>
    
    <class requiredForStatus="4" description="Decesso per complicanze correlate alla NED" name="deathForNEDRelatedReason" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' and |domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.death'" >
      <attribute description="Decesso per complicanze correlate alla NED" name="deathForNEDRelatedReason" dataType="codingset" codingSet="domus.deathForNEDRelatedReasonCodification" label="Decesso per complicanze correlate alla NED"/>
    </class>
    
    <class requiredForStatus="4" description="Indicazione al trapianto di intestino" name="indicazioneTrapianto" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' and |domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.trapianto'"  >
      <attribute description="Indicazione al trapianto di intestino" name="indicazioneTrapianto" dataType="codingset" codingSet="domus.codificaIndicazioneTrapianto" label="Indicazione al trapianto"/>
    </class>

    <class requiredForStatus="4" description="Indicazione al trapianto di intestino - complicanza NPD" name="indicazioneTrapiantoComplicanzaNPD" visible="result = |domus.indicazioneTrapianto.indicazioneTrapianto|[0] == 'domus.codificaIndicazioneTrapianto.complicanzaNPD'" >
      <attribute description="Indicazione al trapianto di intestino - complicanza NPD" name="indicazioneTrapiantoComplicanzaNPD" dataType="codingset" codingSet="domus.codificaIndicazioneTrapiantoComplicanzaNPD" />
    </class>

    <class requiredForStatus="4" description="Indicazione al trapianto di intestino - malattia gastrointestinale " name="indicazioneTrapiantoMalattiaGastrointestinale" visible="result = |domus.indicazioneTrapianto.indicazioneTrapianto|[0] == 'domus.codificaIndicazioneTrapianto.malattiaGastrointestinale'" >
      <attribute description="Indicazione al trapianto di intestino - malattia gastrointestinale" name="indicazioneTrapiantoMalattiaGastrointestinale" dataType="codingset" codingSet="domus.codificaIndicazioneTrapiantoMalattiaGastrointestinale" />
    </class>
    
    <class requiredForStatus="4" description="Tipo di trapianto" name="tipoTrapianto" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' and |domus.pdnSuspensionReason.pdnSuspensionReason|[0] == 'domus.pdnSuspensionReasonCodification.trapianto'" >
      <attribute description="Tipo di trapianto" name="tipoTrapianto" dataType="codingset" codingSet="domus.codificaTipoTrapianto" label="Tipo di trapianto"/>
    </class>

    <class description="errorList" dataStorage="admission" name="errorList">
      <attribute description="error list" dataType="object" multiInstance="1" name="errorList"/>
    </class>
    
    <class description="errorDetail" dataStorage="admission" name="errorDetail">
      <attribute description="id of error" dataType="error" name="errorId"/>
      <attribute description="crf of error" dataType="string" name="errorCrf"/>
      <attribute description="label of crf of error" dataType="string" name="errorCrfLabel"/>
    </class>
    
    <class description="warningList" dataStorage="admission" name="warningList">
      <attribute description="warning list" dataType="object" multiInstance="1" name="warningList"/>
    </class>
    
    <class description="warningDetail" dataStorage="admission" name="warningDetail">
      <attribute description="id of warning" dataType="error" name="warningId"/>
      <attribute description="true if warning has been accepted" dataType="boolean" name="accepted"/>
      <attribute description="crf of warning" dataType="string" name="warningCrf"/>
      <attribute description="label of crf of warning" dataType="string" name="warningCrfLabel"/>
    </class>
    
    
<!-- Organi e sistemi -->
    <class requiredForStatus="3" description="Funzione epatica" name="funzioneEpatica" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Funzione epatica"  dataType="codingset" codingSet="domus.codificaFunzioneEpatica" name="funzioneEpatica" label="Funzione epatica" />
    </class>
    
    <class requiredForStatus="3" description="Colecisti" name="colecisti" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Colecisti"  dataType="codingset" codingSet="domus.codificaColecisti" name="colecisti" label="Colecisti" />
    </class>
    
    <class requiredForStatus="3" description="Funzione renale" name="funzioneRenale" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Funzione renale"  dataType="codingset" multiInstance="1" codingSet="domus.codificaFunzioneRenale" name="funzioneRenale" label="Funzione renale " />
    </class>
    
    <class requiredForStatus="3" description="Litiasi renale" name="litiasiRenale" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Litiasi renale" dataType="codingset" codingSet="domus.yesNoCodification" name="litiasiRenale" label="Litiasi renale"/>
    </class>
    
    <class description="Densità Minerale Ossea Label" name="densitaMineraleOsseaLabel" >
      <attribute description="Densità Minerale Ossea Label"  name="densitaMineraleOsseaLabel" label="Densità minerale ossea basale" color="blue" toolTip="Interpretazione &#10;&#10;T-score&#10;&gt; -1SD : normale&#10;da -1SD a -2.5SD : osteopenia&#10;&lt;= 2.5SD : osteoporosi&#10;&#10;Z-score&#10;&gt; -1SD : normale&#10;da -1SD a -2.0SD : osteopenia&#10;&lt;= 2.0SD : osteoporosi&#10;&#10;(Pironi L, Morselli Labate AM, Pertkiewicz M, et al. Prevalence of bone disease in patients on home parenteral nutrition. Clin Nutr 2002;21:289–96.)" />
    </class>
    
    <class requiredForStatus="3" description="Densità minerale ossea T score" name="densitaMineraleOsseaTscore" label="T-score (densitometria)" toolTip="Interpretazione &#10;&#10;T-score&#10;&gt; -1SD : normale&#10;da -1SD a -2.5SD : osteopenia&#10;&lt;= 2.5SD : osteoporosi&#10;&#10;(Pironi L, Morselli Labate AM, Pertkiewicz M, et al. Prevalence of bone disease in patients on home parenteral nutrition. Clin Nutr 2002;21:289–96.)" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Densità minerale ossea - Lombare - T score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaLombareTscore" label="Lombare" />
      <attribute description="Densità minerale ossea - Collo del femore - T score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaColloDelFemoreTscore" label="Collo del femore" />
      <attribute description="Densità minerale ossea - Femore in toto - T score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaFemoreInTotoTscore" label="Femore in toto" />
      <attribute description="Densità minerale ossea - Total body - T score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaTotalBodyTscore" label="Total body" />
    </class>
    
    <class requiredForStatus="3" description="Densità minerale ossea Z score" name="densitaMineraleOsseaZscore" label="Z-score (densitometria)" toolTip="Interpretazione &#10;&#10;Z-score&#10;&gt; -1SD : normale&#10;da -1SD a -2.0SD : osteopenia&#10;&lt;= 2.0SD : osteoporosi&#10;&#10;(Pironi L, Morselli Labate AM, Pertkiewicz M, et al. Prevalence of bone disease in patients on home parenteral nutrition. Clin Nutr 2002;21:289–96.)" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Densità minerale ossea - Lombare - Z score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaLombareZscore" label="Lombare" />
      <attribute description="Densità minerale ossea - Collo del femore - Z score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaColloDelFemoreZscore" label="Collo del femore" />
      <attribute description="Densità minerale ossea - Femore in toto - Z score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaFemoreInTotoZscore" label="Femore in toto" />
      <attribute description="Densità minerale ossea - Total body - Z score"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaTotalBodyZscore" label="Total body" />
    </class>
    
    <class requiredForStatus="3" description="Trombosi venosa profonda" name="trombosiVenosaProfonda" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Trombosi venosa profonda" dataType="codingset" multiInstance="1" codingSet="domus.codificaTrombosiVenosaProfonda" name="trombosiVenosaProfonda" label="Trombosi venosa profonda"/>
    </class>
    
<!-- Dati relativi alla NED -->
    <class requiredForStaus="3" description="Malattia di base" name="malattiaDiBase" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' ">
      <attribute description="Malattia di base" dataType="codingset" codingSet="domus.codificaMalattiaDiBase" name="malattiaDiBase" label="Malattia di base"/>
    </class>

<!--    <class description="Foo" dataStorage="admission" name="foo2">
      <attribute description="Foo" dataType="int" name="foo2" computedFormula="'''
        if not |domus.foo2.foo2|:
            encrValue = helperMainLogic.dataSession.getAttributeValuesForClass('domus','altraMalattiaDiBase','altraMalattiaDiBase')[0]
            print encrValue
            value = helperMainLogic.encryptDecryptValue(encrValue,'decrypt','patient')
            print 'AAAAAAAAAAAAAAAAAA', value
            #helperMainLogic.dataSession.updateValue()
        result = 1
      '''"/>
    </class>-->
    
    <class requiredForStatus="3" description="Altra malattia di base" name="altraMalattiaDiBase" visible="result =  |domus.malattiaDiBase.malattiaDiBase|[0] == 'domus.codificaMalattiaDiBase.altraMalattiaDiBase'">
      <attribute description="Altra malattia di base" dataType="string" name="altraMalattiaDiBase" label="Altra malattia di base"/>
    </class>
    
    <!-- 
<class requiredForStatus="3" description="Data di diagnosi della malattia di base" name="dataDiagnosiMalattiaDiBase" >
      <attribute description="Data di diagnosi della malattia di base aaaa-mm-gg" dataType="dateTime" name="dataDiagnosiMalattiaDiBase" label="Data di diagnosi" />
    </class>

    <class requiredForStatus="3" description="Età del paziente alla diagnosi della malattia di base" name="etaAllaDiagnosiMalattiaDiBase">
      <attribute description="Età del paziente alla diagnosi della malattia di base" name="etaAllaDiagnosiMalattiaDiBase" label="Età alla diagnosi" computedFormula="result = years(|domus.birthDate.birthDate|[0], |domus.dataDiagnosiMalattiaDiBase.dataDiagnosiMalattiaDiBase|[0])" dataType="int"/>
    </class>
 -->
    
    <class requiredForStatus="3" description="Causa principale della Insufficienza Intestinale" name="causaPrincipaleInsuffIntestinale" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Causa principale della Insufficienza Intestinale" dataType="codingset" codingSet="domus.codificaCausaPrincipaleInsuffIntestinale" name="causaPrincipaleInsuffIntestinale" label="Causa principale della Insufficienza Intestinale"/> 
    </class>
    
    <class requiredForStatus="3" description="Tipo di intestino corto" name="tipoIntestinoCorto" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale| and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale|[0] == 'domus.codificaCausaPrincipaleInsuffIntestinale.intestinoCorto'" >
      <attribute description="Tipo di intestino corto" dataType="codingset" codingSet="domus.codificaTipoIntestinoCorto" name="tipoIntestinoCorto" label="Tipo di intestino corto" toolTip="Messing B, Crenn P, Beau P, et al. Long-term Survival and Parenteral Nutrition Dependence in Adult Patients With the Short Bowel Syndrome. Gastroenterology 1999;117:1043–1050"/>
    </class>
    
    <class requiredForStatus="3" description="Lunghezza del tenue residuo" name="lunghezzaTenueResiduo" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale| and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale|[0] == 'domus.codificaCausaPrincipaleInsuffIntestinale.intestinoCorto'" >
      <attribute description="Lunghezza del tenue residuo" dataType="int"  name="lunghezzaTenueResiduo" label="Lunghezza del tenue residuo (dopo il legamento di Treitz) (cm)"/>
    </class>
    
    <class requiredForStatus="3" description="Modalità di misurazione" name="modalitaMisurazione" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale| and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale|[0] == 'domus.codificaCausaPrincipaleInsuffIntestinale.intestinoCorto'" >
      <attribute description="Modalità di misurazione" dataType="codingset" codingSet="domus.codificaModalitaMisurazione" name="modalitaMisurazione" label="Modalità di misurazione"/>
    </class>
    
    <class requiredForStatus="3" description="% di colon residuo" name="%ColonResiduo" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale| and |domus.causaPrincipaleInsuffIntestinale.causaPrincipaleInsuffIntestinale|[0] == 'domus.codificaCausaPrincipaleInsuffIntestinale.intestinoCorto'" >
      <attribute description="% di colon residuo" dataType="codingset" codingSet="domus.codifica%ColonResiduo" name="%ColonResiduo" label="% di colon residuo (secondo Cummings)" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973."/>
    </class>
    
    <class requiredForStatus="3" description="Presenza di stomia" name="presenzaStomia" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Presenza di stomia" dataType="codingset" codingSet="domus.yesNoCodification" name="presenzaStomia" label="Presenza di stomia"/>
    </class>
    
    <class requiredForStatus="3" description="Sede della stomia" name="sedeStomia" visible="result = |domus.presenzaStomia.presenzaStomia| and |domus.presenzaStomia.presenzaStomia|[0] == 'domus.yesNoCodification.yes'" >
      <attribute description="Sede della stomia" dataType="codingset" multiInstance="1" codingSet="domus.codificaSedeStomia" name="sedeStomia" label="Sede della stomia (risposta multipla)"/>
    </class>
    
    <class description="Presenza di controindicazioni label" name="presenzaDiControindicazioniLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Presenza di controindicazioni label" name="presenzaDiControindicazioniLabel" label="Presenza di controindicazioni al trapianto di intestino (risposta multipla)"/>
    </class>
    
    <class requiredForStatus="3" description="Nessuna controindicazione al trapianto" name="nessunaControindicazione" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Nessuna controindicazione al trapianto" dataType="boolean" name="nessunaControindicazione" label="Nessuna" />
    </class>
    
    <class requiredForStatus="3" description="Controindicazioni assolute al trapianto" name="controindicazioniAssoluteTrapianto" enabled="result = not |domus.nessunaControindicazione.nessunaControindicazione| or not |domus.nessunaControindicazione.nessunaControindicazione|[0]" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Controindicazioni assolute al trapianto" dataType="codingset" multiInstance="1" codingSet="domus.codificaControindicazioniAssoluteTrapianto" name="controindicazioniAssoluteTrapianto" label="Controindicazioni assolute" />
    </class>
    
    <class requiredForStatus="3" description="Controindicazioni relative al trapianto" name="controindicazioniRelativeTrapianto" enabled="result = not |domus.nessunaControindicazione.nessunaControindicazione| or not |domus.nessunaControindicazione.nessunaControindicazione|[0]" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Controindicazioni relative al trapianto" dataType="codingset" multiInstance="1" codingSet="domus.codificaControindicazioniRelativeTrapianto" name="controindicazioniRelativeTrapianto" label="Controindicazioni relative" />
    </class>
    
<!-- Riabilitazione socio-lavorativa-familiare -->
    <class requiredForStatus="3" description="Stato civile" name="statoCivile" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Stato civile"  dataType="codingset" codingSet="domus.codificaStatoCivile" name="statoCivile" label="Stato civile" />
    </class>
    
    <class requiredForStatus="3" description="Figli dopo inizio NPD" name="figliDopoInizioNPD" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Figli dopo inizio NPD" dataType="codingset" codingSet="domus.yesNoCodification" name="figliDopoInizioNPD" label="Figli dopo inizio NPD"/>
    </class>
    
    <class requiredForStatus="3" description="Attività lavorativa" name="attivitaLavorativa" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Attività lavorativa"  dataType="codingset" codingSet="domus.codificaAttivitaLavorativa" name="attivitaLavorativa" label="Attività lavorativa" />
    </class>
    
    <class requiredForStatus="3" description="Grado di autonomia" name="gradoDiAutonomia" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Grado di autonomia"  dataType="codingset" codingSet="domus.codificaGradoDiAutonomia" name="gradoDiAutonomia" label="Grado di autonomia lavorativa" toolTip="Mughal M, Irving M. Home parenteral nutrition in United Kingdom and Ireland. Lancet 1986;ii:383–7."/>
    </class>
    
<!-- Stato nutrizionale addition -->
    <class requiredForStatus="3" description="Diuresi delle 24 ore" name="diuresiDelle24Ore" enabled="result = not |domus.diuresiDelle24OreNonDisponibile.diuresiDelle24OreNonDisponibile| or not |domus.diuresiDelle24OreNonDisponibile.diuresiDelle24OreNonDisponibile|[0]"  visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Diuresi delle 24 ore" dataType="float" name="diuresiDelle24Ore" label="Diuresi delle 24 ore (ml)"/>
    </class>
    
    <class requiredForStatus="3" description="Diuresi delle 24 ore non disponibile" name="diuresiDelle24OreNonDisponibile" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Diuresi delle 24 ore non disponibile" dataType="boolean" name="diuresiDelle24OreNonDisponibile" label="Diuresi delle 24 ore non disponibile"/>
    </class>
    
<!-- Riabilitazione socio-lavorativa-familiare al follow up -->
    <class description="Stato civile al follow up" dataStorage="admission" name="statoCivileFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Stato civile al follow up"  dataType="codingset" codingSet="domus.codificaStatoCivile" name="statoCivileFollowUp" label="Stato civile" />
    </class>
    
    <class description="Figli dopo inizio NPD al follow up" dataStorage="admission" name="figliDopoInizioNPDFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Figli dopo inizio NPD al follow up" dataType="codingset" codingSet="domus.yesNoCodification" name="figliDopoInizioNPDFollowUp" label="Figli dopo inizio NPD"/>
    </class>
    
    <class description="Attività lavorativa al follow up" dataStorage="admission" name="attivitaLavorativaFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Attività lavorativa"  dataType="codingset" codingSet="domus.codificaAttivitaLavorativa" name="attivitaLavorativaFollowUp" label="Attività lavorativa" />
    </class>
    
    <class description="Grado di autonomia al follow up" dataStorage="admission" name="gradoDiAutonomiaFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Grado di autonomia al follow up"  dataType="codingset" codingSet="domus.codificaGradoDiAutonomia" name="gradoDiAutonomiaFollowUp" label="Grado di autonomia lavorativa" toolTip="Mughal M, Irving M. Home parenteral nutrition in United Kingdom and Ireland. Lancet 1986;ii:383–7."/>
    </class>

    <class description="Vacanze lontano da casa al follow up" dataStorage="admission" name="vacanzeLontanoDaCasaFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Vacanze lontano da casa al follow up" dataType="codingset" codingSet="domus.yesNoCodification" name="vacanzeLontanoDaCasaFollowUp" label="Ha fatto vacanze lontano da casa"/>
    </class>
    
    <class description="Attività sportiva al follow up" dataStorage="admission" name="attivitaSportivaFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Attività sportiva al follow up" dataType="codingset" codingSet="domus.yesNoCodification" name="attivitaSportivaFollowUp" label="Fa attività sportiva"/>
    </class>
    
<!-- Complicanze metaboliche follow up -->
    <class description="Funzione epatica al follow up" dataStorage="admission" name="funzioneEpaticaFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Funzione epatica al follow up"  dataType="codingset" codingSet="domus.codificaFunzioneEpatica" name="funzioneEpaticaFollowUp" label="Funzione epatica" />
    </class>
    
    <class description="Colecisti al follow up" dataStorage="admission" name="colecistiFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Colecisti al follow up"  dataType="codingset" codingSet="domus.codificaColecisti" name="colecistiFollowUp" label="Colecisti" />
    </class>
    
    <class description="Funzione renale al follow up" dataStorage="admission" name="funzioneRenaleFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Funzione renale al follow up"  dataType="codingset" multiInstance="1" codingSet="domus.codificaFunzioneRenale" name="funzioneRenaleFollowUp" label="Funzione renale " />
    </class>
    
    <class description="Litiasi renale al follow up" dataStorage="admission" name="litiasiRenaleFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Litiasi renale al follow up" dataType="codingset" codingSet="domus.yesNoCodification" name="litiasiRenaleFollowUp" label="Litiasi renale"/>
    </class>
    
    <class description="Densità minerale ossea T score al follow up" dataStorage="admission" name="densitaMineraleOsseaTscoreFollowUp" label="T-score (densitometria)" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Densità minerale ossea T score al follow up - Lombare"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaLombareTscoreFollowUp" label="Lombare" />
      <attribute description="Densità minerale ossea T score al follow up - Collo del femore"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaColloDelFemoreTscoreFollowUp" label="Collo del femore" />
      <attribute description="Densità minerale ossea T score al follow up - Femore in toto"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaFemoreInTotoTscoreFollowUp" label="Femore in toto" />
      <attribute description="Densità minerale ossea T score al follow up - Total body"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaTotalBodyTscoreFollowUp" label="Total body" />
    </class>
    
    <class description="Densità minerale ossea Z score al follow up" dataStorage="admission" name="densitaMineraleOsseaZscoreFollowUp" label="Z-score (densitometria)" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Densità minerale ossea Z score al follow up - Lombare"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaLombareZscoreFollowUp" label="Lombare" />
      <attribute description="Densità minerale ossea Z score al follow up - Collo del femore"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaColloDelFemoreZscoreFollowUp" label="Collo del femore" />
      <attribute description="Densità minerale ossea Z score al follow up - Femore in toto"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaFemoreInTotoZscoreFollowUp" label="Femore in toto" />
      <attribute description="Densità minerale ossea Z score al follow up - Total body"  dataType="codingset"  codingSet="domus.codificaDensitaMineraleOssea" name="densitaMineraleOsseaTotalBodyZscoreFollowUp" label="Total body" />
    </class>
    
    <class description="Dolori ossei al follow up" dataStorage="admission" name="doloriOsseiFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Dolori ossei al follow up" dataType="codingset" codingSet="domus.yesNoCodification" name="doloriOsseiFollowUp" label="Dolori ossei"/>
    </class>
    
    <class description="Frattura ossea spontanea al follow up" dataStorage="admission" name="fratturaOsseaSpontaneaFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Frattura ossea spontanea al follow up"  dataType="codingset" multiInstance="1" codingSet="domus.codificaFratturaOsseaSpontaneaFollowUp" name="fratturaOsseaSpontaneaFollowUp" label="Frattura ossea spontanea" />
    </class>
    
    <class description="Deficit / intossicazione di micronutrienti clinicamente rilevante al follow up" dataStorage="admission" name="deficitIntossicazioneDiMicronutrientiClinicamenteRilevanteFollowUp" toolTip="Definizione: presenza di sindrome riconducibile a deficit / intossicazione di vitamine o oligoelementi" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Deficit / intossicazione di micronutrienti clinicamente rilevante al follow up"  dataType="string" name="deficitIntossicazioneDiMicronutrientiClinicamenteRilevanteFollowUp" label="Deficit / intossicazione di micronutrienti clinicamente rilevante" toolTip="Deficit: presenza di sindrome riconducibile a deficit /intossicazione di vitamine o oligoelementi" />
    </class>
    
<!-- Complicanze da CVC -->
    <class description="Complicanza meccanica NP al follow up" dataStorage="admission" name="complicanzaMeccanicaNPFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Complicanza meccanica NP al follow up"  dataType="codingset" codingSet="domus.codificaComplicanzaMeccanicaNPFollowUp" name="complicanzaMeccanicaNPFollowUp" label="Complicanza meccanica NP" />
    </class>
    
    <class description="Infezione da CVC al follow up" dataStorage="admission" name="infezioneCVCFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Infezione da CVC al follow up"  dataType="codingset" codingSet="domus.codificaInfezioneCVCFollowUp" name="infezioneCVCFollowUp" label="Infezione da CVC" />
    </class>
    
<!-- Dati relativi al programma nutrizionale -->
    <class requiredForStatus="3" description="Data di inizio della NPD" name="dataInizioNPD">
      <attribute description="Data di inizio della NPD aaaa-mm-gg" dataType="dateTime" name="dataInizioNPD" label="Data di inizio della NPD" />
    </class>
    
    <class requiredForStatus="3" description="Età del paziente alla data di inizio della NPD" name="etaAllaDataInizioNPD">
      <attribute description="Età del paziente alla data di inizio della NPD" name="etaAllaDataInizioNPD" label="Età del paziente alla data di inizio della NPD" computedFormula="result = years(|domus.birthDate.birthDate|[0], |domus.dataInizioNPD.dataInizioNPD|[0])" dataType="int"/>
    </class>
    
    <class requiredForStatus="3" description="Tipo di alimentazione orale" name="tipoAlimentazioneOrale" >
      <attribute description="Tipo di alimentazione orale" dataType="codingset" codingSet="domus.codificaTipoAlimentazioneOrale" name="tipoAlimentazioneOrale" label="Tipo di alimentazione orale in corso"/>
    </class>
    
    <class requiredForStatus="3" description="Assistenza domiciliare ASL" name="assistenzaDomiciliareASL" toolTip="ASL = Azienda Sanitaria Locale">
      <attribute description="Assistenza domiciliare ASL" dataType="codingset" codingSet="domus.yesNoCodification" name="assistenzaDomiciliareASL" label="Assistenza domiciliare ASL" toolTip="ASL = Azienda Sanitaria Locale" />
    </class>
    
    <class requiredForStatus="3" description="Lato accesso venoso CV" name="latoAccessoVenosoCV">
      <attribute description="Lato accesso venoso CV" dataType="codingset" codingSet="domus.leftRightCodification" name="latoAccessoVenosoCV" label="Lato accesso venoso CV" />
    </class>
    
    <class requiredForStatus="3" description="Alimentazione enterale" name="alimentazioneEnterale" >
      <attribute description="Alimentazione enterale" dataType="codingset" codingSet="domus.yesNoCodification" name="alimentazioneEnterale" label="Alimentazione enterale"/>
    </class>
    
    <class requiredForStatus="3" description="Energia totale con l'alimentazione orale +/- enterale (% di BEE)" name="energiaTotale%BEE" >
      <attribute description="Energia totale con l'alimentazione orale +/- enterale (% di BEE)" dataType="codingset" codingSet="domus.codificaEnergiaTotale" name="energiaTotale%BEE" label="Energia totale con l'alimentazione orale +/- enterale (% di BEE)"/>
    </class>
    
    <class requiredForStatus="3" description="Accesso venoso CV" name="accessoVenosoCV" >
      <attribute description="Accesso venoso CV" dataType="codingset" codingSet="domus.codificaAccessoVenosoCV" name="accessoVenosoCV" label="Accesso venoso CV"/>
    </class>
    
    <class requiredForStatus="3" description="Tipo miscela per NP" name="tipoMiscelaPerNP" >
      <attribute description="Tipo miscela per NP" dataType="codingset" codingSet="domus.codificaTipoMiscelaPerNP" name="tipoMiscelaPerNP" label="Tipo miscela per NP"/>
    </class>
    
    <class requiredForStatus="3" description="Gestione NPD" name="gestioneNPD" >
      <attribute description="Gestione NPD" dataType="codingset" codingSet="domus.codificaGestioneNPD" name="gestioneNPD" label="gestione NPD"/>
    </class>
    
    <class requiredForStatus="3" description="Volume della miscela" name="volumeDellaMiscela" >
      <attribute description="Volume della miscela" dataType="float" name="volumeDellaMiscela" label="Volume della miscela (ml)"/>
    </class>
    
    <class requiredForStatus="3" description="Energia totale con la miscela NP" name="energiaTotale" >
      <attribute description="Energia totale con la miscela NP" dataType="float" name="energiaTotale" label="Energia totale con la miscela NP"/>
      <attribute description="Unità di misura dell'energia totale" dataType="codingset" codingSet="domus.codificaUnitaMisuraEnergiaTotale" name="unitaMisuraEnergiaTotale" />
    </class>
    
    <class requiredForStatus="3" description="Frequenza settimanale di infusione" name="frequenzaSettimanaleInfusione" >
      <attribute description="Frequenza settimanale di infusione" dataType="int" name="frequenzaSettimanaleInfusione" label="Frequenza settimanale di infusione"/>
    </class>
    
    <class requiredForStatus="3" description="Frequenza settimanale di infusione dei lipidi" name="frequenzaSettimanaleInfusioneLipidi" >
      <attribute description="Frequenza settimanale di infusione dei lipidi" dataType="int" name="frequenzaSettimanaleInfusioneLipidi" label="Frequenza settimanale di infusione dei lipidi"/>
    </class>
    
    <class requiredForStatus="3" description="Volume totale settimanale" name="volumeTotaleSettimanale">
      <attribute description="Volume totale settimanale" dataType="float" name="volumeTotaleSettimanale" label="Volume totale settimanale (ml)" computedFormula="result = |domus.volumeDellaMiscela.volumeDellaMiscela|[0]*|domus.frequenzaSettimanaleInfusione.frequenzaSettimanaleInfusione|[0]" />
    </class>
    
    <class requiredForStatus="3" description="Energia totale settimanale" name="energiaTotaleSettimanale">
      <attribute description="Energia totale settimanale" dataType="float" name="energiaTotaleSettimanale" label="Energia totale settimanale" computedFormula="result = |domus.energiaTotale.energiaTotale|[0]*|domus.frequenzaSettimanaleInfusione.frequenzaSettimanaleInfusione|[0]"/>
    </class>
    
    <class description="Energia totale settimanale come % BEE" toolTip="Espressa come percentuale del BEE settimanale" name="energiaTotaleSettimanale%BEE">
      <attribute description="Energia totale settimanale come % BEE" name="energiaTotaleSettimanale%BEE" label="Energia totale settimanale % BEE" computedFormula="'''
      BEEweek = 7 * |domus.nutritionalNeeds.caloricNutritionalNeedsComputed|[0]
      
      if |domus.energiaTotale.unitaMisuraEnergiaTotale|[0] == 'domus.codificaUnitaMisuraEnergiaTotale.kJ':
          BEEweek *= 4.1819
          
      result = |domus.energiaTotale.energiaTotale|[0] * |domus.frequenzaSettimanaleInfusione.frequenzaSettimanaleInfusione|[0] / BEEweek * 100
      result = round(result)
      '''"/>
    </class>
    
<!-- Dati relativi al programma nutrizionale al follow up -->
    <class description="Tipo di alimentazione orale al follow up" dataStorage="admission" name="tipoAlimentazioneOraleFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Tipo di alimentazione orale al follow up"  dataType="codingset" codingSet="domus.codificaTipoAlimentazioneOrale" name="tipoAlimentazioneOraleFollowUp" label="Tipo di alimentazione orale" />
    </class>
    
    <class description="Assistenza domiciliare ASL al follow up" name="assistenzaDomiciliareASLFollowUp" toolTip="ASL = Azienda Sanitaria Locale" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Assistenza domiciliare ASL al follow up" dataType="codingset" codingSet="domus.yesNoCodification" name="assistenzaDomiciliareASLFollowUp" label="Assistenza domiciliare ASL" toolTip="ASL = Azienda Sanitaria Locale" />
    </class>
    
    <class description="Lato accesso venoso CV al follow up" name="latoAccessoVenosoCVFollowUp" timeStamp="domus.timeStamp.timeStamp" >
      <attribute description="Lato accesso venoso CV al follow up" dataType="codingset" codingSet="domus.leftRightCodification" name="latoAccessoVenosoCVFollowUp" label="Lato accesso venoso CV" />
    </class>
    
    <class description="Alimentazione enterale al follow up" dataStorage="admission" name="alimentazioneEnteraleFollowUp" timeStamp="domus.timeStamp.timeStamp" >
      <attribute description="Alimentazione enterale al follow up" dataType="codingset" codingSet="domus.yesNoCodification" name="alimentazioneEnteraleFollowUp" label="Alimentazione enterale"/>
    </class>
    
    <class description="Energia totale con l'alimentazione orale +/- enterale (% di BEE) al follow up" dataStorage="admission" name="energiaTotale%BEEFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Energia totale con l'alimentazione orale +/- enterale (% di BEE) al follow up" dataType="codingset" codingSet="domus.codificaEnergiaTotale" name="energiaTotale%BEEFollowUp" label="Energia totale con l'alimentazione orale +/- enterale (% di BEE)"/>
    </class>
    
    <class description="Accesso venoso CV al follow up" dataStorage="admission" name="accessoVenosoCVFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Accesso venoso CV al follow up" dataType="codingset" codingSet="domus.codificaAccessoVenosoCV" name="accessoVenosoCVFollowUp" label="Accesso venoso CV"/>
    </class>
    
    <class description="Tipo miscela per NP al follow up" dataStorage="admission" name="tipoMiscelaPerNPFollowUp" timeStamp="domus.timeStamp.timeStamp"  visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Tipo miscela per NP al follow up" dataType="codingset" codingSet="domus.codificaTipoMiscelaPerNP" name="tipoMiscelaPerNPFollowUp" label="Tipo miscela per NP"/>
    </class>
    
    <class description="Gestione NPD al follow up" name="gestioneNPDFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Gestione NPD al follow up" dataType="codingset" codingSet="domus.codificaGestioneNPD" name="gestioneNPDFollowUp" label="Gestione NPD"/>
    </class>
    
    <class description="Volume della miscela al follow up" dataStorage="admission" name="volumeDellaMiscelaFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Volume della miscela al followUp" dataType="float" name="volumeDellaMiscelaFollowUp" label="Volume della miscela (ml)"/>
    </class>
    
    <class description="Energia totale con la miscela NP al follow up" dataStorage="admission" name="energiaTotaleFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Energia totale con la miscela NP al follow up" dataType="float" name="energiaTotaleFollowUp" label="Energia totale con la miscela NP"/>
      <attribute description="Unità di misura dell'energia totale al follow up" dataType="codingset" codingSet="domus.codificaUnitaMisuraEnergiaTotale" name="unitaMisuraEnergiaTotaleFollowUp" />
    </class>
    
    <class description="Frequenza settimanale di infusione al follow up" dataStorage="admission" name="frequenzaSettimanaleInfusioneFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Frequenza settimanale di infusione al follow up" dataType="int" name="frequenzaSettimanaleInfusioneFollowUp" label="Frequenza settimanale di infusione"/>
    </class>
    
    <class description="Frequenza settimanale di infusione dei lipidi al Follow Up" dataStorage="admission" name="frequenzaSettimanaleInfusioneLipidiFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Frequenza settimanale di infusione dei lipidi al follow up" dataType="int" name="frequenzaSettimanaleInfusioneLipidiFollowUp" label="Frequenza settimanale di infusione dei lipidi"/>
    </class>
    
    <class description="Volume totale settimanale al follow up" dataStorage="admission" name="volumeTotaleSettimanaleFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Volume totale settimanale al follow up" dataType="float" name="volumeTotaleSettimanaleFollowUp" label="Volume totale settimanale" computedFormula="'''
      result = |domus.volumeDellaMiscelaFollowUp.volumeDellaMiscelaFollowUp|[0] * |domus.frequenzaSettimanaleInfusioneFollowUp.frequenzaSettimanaleInfusioneFollowUp|[0]
      '''"/>
    </class>
    
    <class description="Energia totale settimanale al follow up" dataStorage="admission" toolTip="Espressa come percentuale del BEE settimanale" name="energiaTotaleSettimanaleFollowUp" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'">
      <attribute description="Energia totale settimanale al follow up" dataType="float" name="energiaTotaleSettimanaleFollowUp" label="Energia totale settimanale" computedFormula="'''
      result = |domus.energiaTotaleFollowUp.energiaTotaleFollowUp|[0] * |domus.frequenzaSettimanaleInfusioneFollowUp.frequenzaSettimanaleInfusioneFollowUp|[0]
      '''"/>
    </class>
    
    <class description="Energia totale settimanale come % BEE al follow up" toolTip="Espressa come percentuale del BEE settimanale" name="energiaTotaleSettimanale%BEEFollowUp" timeStamp="domus.timeStamp.timeStamp" >
      <attribute description="Energia totale settimanale come % BEE" name="energiaTotaleSettimanale%BEEFollowUp" label="Energia totale settimanale % BEE" computedFormula="'''
      timeStamp = |domus.timeStamp.timeStamp|[0]
      nutritionalNeedsFollowUpDict = all($domus.nutritionalNeedsFollowUp.caloricNutritionalNeedsComputedFollowUp$, timeDict=True)
      
      nutritionalNeedsFUp = nutritionalNeedsFollowUpDict[timeStamp][0]
      
      BEEweekFUp = 7 * nutritionalNeedsFUp
      
      energiaTotaleFUpDict = all($domus.energiaTotaleFollowUp.energiaTotaleFollowUp$, timeDict=True)
      energiaTotaleFUp = energiaTotaleFUpDict[timeStamp][0]
      
      unitaMisuraDict = all($domus.energiaTotaleFollowUp.unitaMisuraEnergiaTotaleFollowUp$, timeDict=True)
      unitaMisura = unitaMisuraDict[timeStamp][0]
      if  unitaMisura == 'domus.codificaUnitaMisuraEnergiaTotale.kJ':
          BEEweekFUp *= 4.1819
      
      frequenzaSettInfFUpDict = all($domus.frequenzaSettimanaleInfusioneFollowUp.frequenzaSettimanaleInfusioneFollowUp$, timeDict=True)
      frequenzaSettInfFUp = frequenzaSettInfFUpDict[timeStamp][0]
          
      result = energiaTotaleFUp * frequenzaSettInfFUp / BEEweekFUp * 100
      result = round(result)
      '''"/>
    </class>
    
<!-- Indicatori di esito -->
    <!-- 
<class requiredForStatus="3" description="Data di aggiornamento" name="dataAggiornamento" >
      <attribute description="Data di aggiornamento" dataType="datetime" name="dataAggiornamento" label="Data di aggiornamento"/>
    </class>
 -->
    
    <class description="Stato nutrizione NPD" dataStorage="admission" name="statoNutrizioneNPD" timeStamp="domus.timeStamp.timeStamp" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'" >
      <attribute description="Stato nutrizione NPD" dataType="boolean"  name="statoNutrizioneNPD" label="Ancora in NPD"/>
    </class>
    
    <class description="Indicatori di efficacia label" name="indicatoriEfficaciaLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Indicatori di efficacia label" name="indicatoriEfficaciaLabel" label="Indicatori di efficacia"/>
    </class>
    
    <class description="Durata della NED" name="durataNED" dataStorage="admission" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Durata della NED" dataType="int" name="durataNED" label="Durata della NED" computedFormula="'''
      if |domus.durataNED.unitaDurataNED|[0] == 'domus.codificaUnitaDurataNED.giorni':
        result = days(|domus.admissionDate.admissionDate|[0],|domus.visitDate.visitDate|[0])
      elif |domus.durataNED.unitaDurataNED|[0] == 'domus.codificaUnitaDurataNED.settimane':
        result = weeks(|domus.admissionDate.admissionDate|[0],|domus.visitDate.visitDate|[0])
      elif |domus.durataNED.unitaDurataNED|[0] == 'domus.codificaUnitaDurataNED.mesi':
        result = months(|domus.admissionDate.admissionDate|[0],|domus.visitDate.visitDate|[0])
      '''"/>
      <attribute description="Durata della NED units" dataType="codingset" codingSet="domus.codificaUnitaDurataNED" name="unitaDurataNED" />
    </class>
    
    <class description="Indicatori di sicurezza label" name="indicatoriSicurezzaLabel" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Indicatori di sicurezza label" name="indicatoriSicurezzaLabel" label="Indicatori di sicurezza"/>
    </class>
    
    <class description="Complicanze della sonda" name="complicanzeSonda" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Complicanze della sonda" name="complicanzeSonda" dataType="codingset" codingSet="domus.yesNoCodification" label="Complicanze della sonda"/>
    </class>
    
    <class description="Lista complicanze della sonda" name="listaComplicanzeSonda" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' and |domus.complicanzeSonda.complicanzeSonda|[0] == 'domus.yesNoCodification.yes' " >
      <attribute description="Lista complicanze della sonda" name="listaComplicanzeSonda" dataType="codingset" codingSet="domus.codificaComplicanzeSonda" />
    </class>
    
    <class requiredForStatus="4" description="Foo class to impede status 4" dataStorage="admission" name="foo">
    </class>
    
    <class description="Visit date" dataStorage="admission" name="visitDate" label="Data visita" visible="result = |domus.timeStamp.timeStamp| and |domus.timeStamp.timeStamp|[0] > 1" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Visit date" dataType="datetime" name="visitDate" label="Data visita"/>
    </class>
    
    <class description="Presenza lesioni da decubito al follow up" dataStorage="admission" name="presenzaLesioniDaDecubitoFollowUp" label="Presenza di lesioni da decubito" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" timeStamp="domus.timeStamp.timeStamp">
      <attribute description="Presenza lesioni da decubito" dataType="codingSet" codingSet="domus.yesNoCodification" name="presenzaLesioniDaDecubitoFollowUp" label="Presenza lesioni da decubito" />
    </class>
    
    <class description="Lista lesioni da decubito follow up" name="listaLesioniDaDecubitoFollowUp" label="Presenza di lesioni da decubito" timeStamp="domus.timeStamp.timeStamp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' and |domus.presenzaLesioniDaDecubitoFollowUp.presenzaLesioniDaDecubitoFollowUp|[0] == 'domus.yesNoCodification.yes'">
      <attribute description="Lista lesioni da decubito al follow up" name="listaLesioniDaDecubitoFollowUp" dataType="codingset" codingSet="domus.codificaLesioniDaDecubito" />
    </class>
    
    <class requiredForStatus="3" description="Vie di nutrizione al follow up" name="vieDiNutrizioneFollowUp" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'" >
      <attribute description="Vie di nutrizione al follow up" dataType="codingset" codingSet="domus.codificaVieDiNutrizione" name="vieDiNutrizioneFollowUp" label="Vie di nutrizione" />
    </class>
    
        
  </classes>




  <codingSets>
    <codingSet description="Page codification" name="pageCodification">
      <codingSetValue description="Page codification follow-up" positionWeight="0" value="Visita" name="followUp"/>
    </codingSet>
    <codingSet description="Yes/no codification" name="yesNoCodification">
      <codingSetValue description="Yes" positionWeight="0" value="Sí" name="yes"/>
      <codingSetValue description="No" positionWeight="1" value="No" name="no"/>
    </codingSet>
      
    <codingSet description="Patient type" name="patientTypeCodification">
      <codingSetValue description="Oncologic patient" positionWeight="0" value="Oncologico" name="oncologicType"/>
      <codingSetValue description="IICB patient" positionWeight="1" value="IICB" name="iicbType"/>
      <codingSetValue description="NED patient" positionWeight="2" value="NED" name="nedType"/>
    </codingSet>
    
<!-- ANAGRAFICA -->
    <codingSet description="Patient sex codification" name="sexCodification">
      <codingSetValue description="Male" positionWeight="1" value="Maschio" name="male"/>
      <codingSetValue description="Female" positionWeight="0" value="Femmina" name="female"/>
    </codingSet>
    
    <codingSet description="Codifica seda di erogazione della NED" name="codificaSedeErogazioneNED">
      <codingSetValue description="Domicilio" positionWeight="0" value="Domicilio" name="domicilio"/>
      <codingSetValue description="RSA" positionWeight="1" value="RSA" name="rsa"/>
    </codingSet>
    
<!-- Inquadramento oncologico alla presa in carico -->  
    <codingSet description="Glicemia units" name="codificaUnitaGlicemia">
      <codingSetValue description="mg/dL" positionWeight="0" value="mg/dL" name="mgdL" toolTip="Unità di misura per glicemia: mg/dL"/>
    </codingSet>
    
    <codingSet description="Creatinina units" name="codificaUnitaCreatinina">
      <codingSetValue description="mg/dL" positionWeight="0" value="mg/dL" name="mgdL" toolTip="Unità di misura per creatinina: mg/dL"/>
    </codingSet>
    
    <codingSet description="Azotemia units" name="codificaUnitaAzotemia">
      <codingSetValue description="mg/dL" positionWeight="0" value="mg/dL" name="mgdL" toolTip="Unità di misura per azotemia: mg/dL"/>
    </codingSet>
      
    <codingSet description="Albumin units" name="albuminUnitsCodification">
      <codingSetValue description="g/dL" positionWeight="0" value="g/dL" name="gdL" toolTip="Unità di misura per albumina: g/dL"/>
      <codingSetValue description="g/L" positionWeight="1" value="g/L" name="gL" toolTip="Unità di misura per albumina: g/L"/>
    </codingSet>
    <codingSet description="Prealbumin units" name="prealbuminUnitsCodification">
      <codingSetValue description="mg/dL" positionWeight="0" value="mg/dL" name="mgdL" toolTip="Unità di misura per prealbumina: mg/dL"/>
    </codingSet>
    <codingSet description="Transferrin units" name="transferrinUnitsCodification">
      <codingSetValue description="mg/dL" positionWeight="0" value="mg/dL" name="mgdL" toolTip="Unità di misura per transferrina: mg/dL"/>
      <codingSetValue description="g/L" positionWeight="1" value="g/L" name="gL" toolTip="Unità di misura per transferrina: g/L"/>
    </codingSet>
    
    <codingSet description="Sodio units" name="codificaUnitaSodio">
      <codingSetValue description="mEq/L" positionWeight="0" value="mEq/L" name="mEqL" toolTip="Unità di misura per sodio: mEq/L"/>
    </codingSet>
    
    <codingSet description="Potassio units" name="codificaUnitaPotassio">
      <codingSetValue description="mEq/L" positionWeight="0" value="mEq/L" name="mEqL" toolTip="Unità di misura per potassio: mEq/L"/>
    </codingSet>
    
    <codingSet description="Peso specifico urine units" name="codificaUnitaPesoSpecificoUrine">
      <codingSetValue description="mg/L" positionWeight="0" value="mg/L" name="mgL" toolTip="Unità di misura per peso specifico urine: mg/L"/>
    </codingSet>
    
    <codingSet description="Codifica lesioni da decubito" name="codificaLesioniDaDecubito" >
      <codingSetValue description="I" positionWeight="0" value="stadio I" name="stadioI" toolTip="I Stadio: eritema ed edema o iperemia reattiva da più di 24 ore; lieve desquamazione. Il paziente può già lamentare dolore e tensione. (CLASSIFICAZIONE MORFOLOGICA lesioni da decubito sec. N.P.U.A.P. - National Pressure Ulcer Advisory Panel)" />
      <codingSetValue description="II" positionWeight="1" value="stadio II" name="stadioII" toolTip="II Stadio: distruzione della cute a tutto spessore, formazione di vesciche e flittene, disepitelizzazione e fessurazione; risposta infiammatoria della cute. (CLASSIFICAZIONE MORFOLOGICA lesioni da decubito sec. N.P.U.A.P. - National Pressure Ulcer Advisory Panel)"/>
      <codingSetValue description="III" positionWeight="2" value="stadio III" name="stadioIII" toolTip="III Stadio: distruzione della cute senza oltrepassare la fascia muscolare, ulcerazione coinvolgente la cute ed i tessuti sottocutanei, escara; estensione della’infiammazione fino alla fascia profonda. (CLASSIFICAZIONE MORFOLOGICA lesioni da decubito sec. N.P.U.A.P. - National Pressure Ulcer Advisory Panel)" />
      <codingSetValue description="IV" positionWeight="3" value="stadio IV" name="stadioIV" toolTip="IV Stadio: necrosi, ulcerazione profonda che raggiunge il muscolo e la fascia muscolare, spesso si rende visibile l’osso e le strutture articolari. (CLASSIFICAZIONE MORFOLOGICA lesioni da decubito sec. N.P.U.A.P. - National Pressure Ulcer Advisory Panel)"/>
    </codingSet>
    
    <codingSet description="Codifica vie di nutrizione" name="codificaVieDiNutrizione" >
      <codingSetValue description="SNG" positionWeight="0" value="SNG" name="sng" toolTip="Sondino naso-gastrico" />
      <codingSetValue description="SND" positionWeight="1" value="SND" name="snd" toolTip="Sondino naso-digiunale"/>
      <codingSetValue description="PEG" positionWeight="2" value="PEG" name="peg" toolTip="Gastrostomia endoscopica percutanea" />
      <codingSetValue description="PGR" positionWeight="3" value="PGR" name="pgr" toolTip="gastrostomia percutanea radiologica"/>
      <codingSetValue description="Digiunostomia" positionWeight="4" value="Digiunostomia" name="digiunostomia"/>
      <codingSetValue description="PEJ" positionWeight="5" value="PEJ" name="pej" toolTip="Digiunostomia percutanea endoscopica" />
      <codingSetValue description="Bottone gastrostomico" positionWeight="6" value="Bottone gastrostomico" name="bottone"/>
    </codingSet>
    
    <codingSet description="C-Reactive Protein units" name="crpUnitsCodification">
      <codingSetValue description="mg/dL" positionWeight="0" value="mg/dL" name="mgdL" toolTip="Unità di misura per Proteina C-Reattiva: mg/dL"/>
      <codingSetValue description="mg/L" positionWeight="1" value="mg/L" name="mgL" toolTip="Unità di misura per Proteina C-Reattiva: mg/L"/>
    </codingSet>
    <codingSet description="Oncologic patient type codification" name="oncologicPatientTypeCodification">
      <codingSetValue description="Oncologic patient type Active Treatment" positionWeight="0" value="Trattamento Attivo" name="AT" toolTip="Pazienti in trattamento oncologico attivo con finalità curative (chirurgia, chemioterapia, radioterapia), in cui lo stato nutrizionale è fattore limitante per una corretta e completa esecuzione del trattamento oncologico"/>
      <codingSetValue description="Oncologic patient type Palliative Treatment" positionWeight="1" value="Trattamento Palliativo" name="PAL" toolTip="Pazienti in trattamento palliativo, dove per palliativo si intende un trattamento che non abbia finalità curative, in cui l'aspetto nutrizionale sia determinante sulla qualità di vita e sulla sopravvivenza del paziente"/>
      <codingSetValue description="Oncologic patient type Complete Remission" positionWeight="2" value="Remissione Completa con esiti transitori" name="CRT" toolTip="Paziente con malattia in remissione completa, ma con esiti transitori del trattamento oncologico subito (chirurgia, radioterapia)"/>
      <codingSetValue description="Oncologic patient type Complete Remission" positionWeight="3" value="Remissione Completa con esiti permanenti" name="CRP" toolTip="Paziente con malattia in remissione completa, ma con esiti permanenti del trattamento oncologico subito (chirurgia, radioterapia)"/>
    </codingSet>
    <codingSet description="Tumor primitive site codification" name="tumorPrimitiveSiteCodification">
      <codingSetValue description="Tumor primitive site head/neck" positionWeight="0" value="Capo/collo" name="headNeck"/>
      <codingSetValue description="Tumor primitive site esophagus" positionWeight="1" value="Esofago" name="esophagus"/>
      <codingSetValue description="Tumor primitive site stomach" positionWeight="2" value="Stomaco" name="stomach"/>
      <codingSetValue description="Tumor primitive site pancreas" positionWeight="3" value="Pancreas" name="pancreas"/>
      <codingSetValue description="Tumor primitive site liver" positionWeight="4" value="Fegato" name="liver"/>
      <codingSetValue description="Tumor primitive site biliary ducts" positionWeight="5" value="Vie biliari" name="biliaryDucts"/>
      <codingSetValue description="Tumor primitive site colon" positionWeight="6" value="Colon" name="colon"/>
      <codingSetValue description="Tumor primitive site rectum" positionWeight="7" value="Retto" name="rectum"/>
      <codingSetValue description="Tumor primitive site ovary" positionWeight="8" value="Ovaio" name="ovary"/>
      <codingSetValue description="Tumor primitive site uterus" positionWeight="9" value="Utero" name="uterus"/>
      <codingSetValue description="Tumor primitive site urinary tract" positionWeight="10" value="Vie urinarie" name="urinaryTract"/>
      <codingSetValue description="Tumor primitive site mammary" positionWeight="11" value="Mammella" name="mammary"/>
      <codingSetValue description="Tumor primitive site lung" positionWeight="12" value="Polmone" name="lung"/>
      <codingSetValue description="Tumor primitive site hematologic" positionWeight="13" value="Ematologica" name="hematologic"/>
      <codingSetValue description="Tumor primitive site peritoneal" toolTip="Pseudo mixomi e mesoteliomi" positionWeight="14" value="Peritoneo" name="peritonealPseudoMixomi"/>
      <codingSetValue description="Tumor primitive site other" positionWeight="15" value="Altro" name="other"/>
    </codingSet>
    <codingSet description="Tumor stage codification" name="tumorStageCodification">
      <codingSetValue description="Tumor stage 1" positionWeight="0" value="I stadio" name="stage1"/>
      <codingSetValue description="Tumor stage 2" positionWeight="1" value="II stadio" name="stage2"/>
      <codingSetValue description="Tumor stage 3" positionWeight="2" value="III stadio" name="stage3"/>
      <codingSetValue description="Tumor stage 4" positionWeight="3" value="IV stadio" name="stage4"/>
    </codingSet>
    <codingSet description="Karnofsky performance status codification" name="karnofskyCodification">
      <codingSetValue description="Karnofsky 100" positionWeight="9" value="100" name="karnofsky100" toolTip="Normale, non segni evidenti di malattia"/>
      <codingSetValue description="Karnofsky 90" positionWeight="8" value="90" name="karnofsky90" toolTip="Normale, modesti segni di malattia"/>
      <codingSetValue description="Karnofsky 80" positionWeight="7" value="80" name="karnofsky80" toolTip="Attività normale, con qualche sforzo e segni di malattia"/>
      <codingSetValue description="Karnofsky 70" positionWeight="6" value="70" name="karnofsky70" toolTip="Inabile al lavoro, può accudire a se stesso"/>
      <codingSetValue description="Karnofsky 60" positionWeight="5" value="60" name="karnofsky60" toolTip="Richiede solo occasionalmente assistenza"/>
      <codingSetValue description="Karnofsky 50" positionWeight="4" value="50" name="karnofsky50" toolTip="Richiede considerevole assistenza e frequenti cure mediche"/>
      <codingSetValue description="Karnofsky 40" positionWeight="3" value="40" name="karnofsky40" toolTip="Non può accudire a se stesso, richiede speciali cure"/>
      <codingSetValue description="Karnofsky 30" positionWeight="2" value="30" name="karnofsky30" toolTip="Molto compromesso, indicata l'ospedalizzazione"/>
      <codingSetValue description="Karnofsky 20" positionWeight="1" value="20" name="karnofsky20" toolTip="Molto grave, ospedalizzazione necessaria"/>
      <codingSetValue description="Karnofsky 10" positionWeight="0" value="10" name="karnofsky10" toolTip="Moribondo, preagonico ed agonico"/>
    </codingSet>
    
    <codingSet description="Response to active tumor treatment codification" name="activeTreatmentResponseCodification">
      <codingSetValue description="Progressione" positionWeight="0" value="Progressione" name="progressione"/>
      <codingSetValue description="Stazionario" positionWeight="1" value="Stazionario" name="stazionario"/>
      <codingSetValue description="Remissione parziale" positionWeight="2" value="Remissione parziale" name="remissioneParziale"/>
      <codingSetValue description="Remissione completa" positionWeight="3" value="Remissione completa" name="remissioneCompleta"/>
      <codingSetValue description="Risposta al trattamento attivo non valutata" positionWeight="4" value="Non valutata" name="rispostaTrattamaentoAttivoNonValutata"/>
    </codingSet>
    
    <codingSet description="Last week caloric oral nutrition codification" name="lastWeekCaloricOralNutritionCodification">
      <codingSetValue description="Last week caloric oral nutrition codification 0-24" positionWeight="0" value="0-24%" name="0_24"/>
      <codingSetValue description="Last week caloric oral nutrition codification 25-49" positionWeight="1" value="25-49%" name="25_49"/>
      <codingSetValue description="Last week caloric oral nutrition codification 50-74" positionWeight="2" value="50-74%" name="50_74"/>
      <codingSetValue description="Last week caloric oral nutrition codification 75-100" positionWeight="3" value="75-100%" name="75_100"/>
    </codingSet>
    <codingSet description="SINPE nutritional evaluation codification" name="sinpeNutritionalEvaluationCodification">
      <codingSetValue description="SINPE nutritional evaluation codification absent" positionWeight="0" value="Malnutrizione assente" name="absent" toolTip="Normale stato nutrizionale"/>
      <codingSetValue description="SINPE nutritional evaluation codification slight" positionWeight="1" value="Malnutrizione lieve" name="slight" toolTip="Malnutrizione lieve"/>
      <codingSetValue description="SINPE nutritional evaluation codification moderate" positionWeight="2" value="Malnutrizione moderata" name="moderate" toolTip="Malnutrizione moderata"/>
      <codingSetValue description="SINPE nutritional evaluation codification severe" positionWeight="3" value="Malnutrizione grave" name="severe" toolTip="Malnutrizione grave"/>    
    </codingSet>
    <codingSet description="Malnutrition grade codification" name="malnutritionGradeCodification">
      <codingSetValue description="Malnutrition grade codification absent" positionWeight="0" value="Assente (0)" name="absent" toolTip="Normale stato nutrizionale"/>
      <codingSetValue description="Malnutrition grade codification slight" positionWeight="1" value="Lieve (1)" name="slight" toolTip="Calo ponderale &gt;5% in 3 mesi&#10;- Nutrizione orale tra 50 e 75% dei fabbisogni nella settimana precedente"/>
      <codingSetValue description="Malnutrition grade codification moderate" positionWeight="2" value="Moderato (2)" name="moderate" toolTip="Calo ponderale &gt;5% in 2 mesi&#10;- BMI tra 18.5 e 20.5 più condizioni cliniche compromesse#10;- Nutrizione orale tra 20 e 50% dei fabbisogni nella settimana precedente"/>
      <codingSetValue description="Malnutrition grade codification severe" positionWeight="3" value="Grave (3)" name="severe" toolTip="Calo ponderale &gt;5% in 1 mese (&gt;15% in 3 mesi)&#10;- BMI &lt;18.5 più condizioni cliniche compromesse&#10;- Nutrizione orale tra 0 e 25% dei fabbisogni nella settimana precedente"/>
    </codingSet>
    <codingSet description="Weight loss rate codification" name="weightLossRateCodification">
      <!--<codingSetValue description="Weight loss rate codification less than 5% in 3 months" positionWeight="0" value="&lt;= 5% in 3 mesi" name="lt5in3mo" />-->
      <codingSetValue description="Weight loss rate codification more than 5% in 3 months" positionWeight="1" value="&gt; 5% in 3 mesi" name="gt5in3mo" />
      <codingSetValue description="Weight loss rate codification more than 5% in 2 months" positionWeight="2" value="&gt; 5% in 2 mesi" name="gt5in2mo" />
      <codingSetValue description="Weight loss rate codification more than 5% in 1 months" positionWeight="3" value="&gt; 5% in 1 mesi" name="gt5in1mo" />
    </codingSet>
    <codingSet description="Clinical conditions severity codification" name="clinicalConditionsSeverityCodification">
      <codingSetValue description="Clinical conditions severity codification absent" positionWeight="0" value="Normale (0)" name="absent" toolTip="Normali fabbisogni nutrizionali"/>
      <codingSetValue description="Clinical conditions severity codification slight" positionWeight="1" value="Lieve (1)" name="slight" toolTip="- Frattura della coxa femorale&#10;- Pazienti con patologie croniche, in particolare con complicanze acute: cirrosi, BPCO&#10;- Emodialisi cronica, diabete, tumori"/>
      <codingSetValue description="Clinical conditions severity codification moderate" positionWeight="2" value="Moderato (2)" name="moderate" toolTip="- Chirurgia addominale maggiore&#10;- Ictus&#10;- Polmonite grave, neoplasia ematologica"/>
      <codingSetValue description="Clinical conditions severity codification severe" positionWeight="3" value="Grave (3)" name="severe" toolTip="- Trauma cranico&#10;- Trapianto di midollo&#10;- Pazienti in Terapia Intensiva (con punteggio APACHE &gt; 10)"/>
    </codingSet>
    <codingSet description="Percent oral nutrition codification" name="percentCaloricOralNutritionCodification">
      <codingSetValue description="Percent oral nutrition codification under 25%" positionWeight="0" value="&lt; 25%" name="lt25" />
      <codingSetValue description="Percent oral nutrition codification 25-49%" positionWeight="1" value="25-49%" name="25_49" />
      <codingSetValue description="Percent oral nutrition codification 50-75%" positionWeight="2" value="50-74%" name="50_74" />
      <codingSetValue description="Percent oral nutrition codification over 75%" positionWeight="3" value="&gt;= 75%" name="gte75" />
    </codingSet>
    <codingSet description="Central venous catheter codification" name="cvcCodification">
      <codingSetValue description="Central venous catheter codification PICC" positionWeight="0" value="PICC" name="picc" />
      <codingSetValue description="Central venous catheter codification Hohn" positionWeight="1" value="Hohn" name="hohn" />
      <codingSetValue description="Central venous catheter codification Tunneled (Groshong, Hickman)" positionWeight="2" value="Tunnellizzato (Groshong, Hickman)" name="tunneled" />
      <codingSetValue description="Central venous catheter codification Port" positionWeight="3" value="Port" name="port" />
      <codingSetValue description="Central venous catheter codification Short Term" positionWeight="4" value="A breve termine" name="shortTerm" />
    </codingSet>
    
    <codingSet description="Codifica indicazione alla NED" name="codificaIndicazioneAllaNED">
      <codingSetValue description="Disfagia" positionWeight="0" value="Disfagia" name="disfagia" />
      <codingSetValue description="Anoressia, Iporessia" positionWeight="1" value="Anoressia, Iporessia" name="anoressiaIporessia" toolTip="impossibilità a raggiungere una quota nutrizionale di almeno il 50% dei fabbisogni" />
      <codingSetValue description="Altra indicazione principale alla NED" positionWeight="2" value="Altro" name="altraIndicazionePrincipaleAllaNED" />
    </codingSet>
    
    <codingSet description="Intestinal insufficiency detail codification" name="intestinalInsufficiencyDetailCodification">
      <codingSetValue description="Intestinal insufficiency detail codification motility alteration" positionWeight="0" value="Alterazione della motilità intestinale" name="motilityAlteration" toolTip="Alterazione della motilità intestinale per massa tumorale o per carcinosi peritoneale" />
      <codingSetValue description="Intestinal insufficiency detail codification short intestine" positionWeight="1" value="Intestino corto" name="shortIntestine" toolTip="Intestino corto per resezioni estese o per stomie" />
      <codingSetValue description="Intestinal insufficiency detail codification intestinal mucosal damage" positionWeight="2" value="Danni estessi della mucosa intestinale" name="mucosalDamage" toolTip="Danni estesi della mucosa intestinale per mucosite o per enterite" />
      <codingSetValue description="Intestinal insufficiency detail codification intestinal fistula" positionWeight="3" value="Fistola intestinale" name="intestinalFistula" toolTip="Fistola intestinale" />
    </codingSet>
    <codingSet description="Central venous catheter complications codification" name="cvcComplicationsCodification">
      <codingSetValue description="Central venous catheter complications codification none" positionWeight="0" value="Nessuna" name="none" excludes="domus.cvcComplicationsCodification.dislocation;domus.cvcComplicationsCodification.occlusion;domus.cvcComplicationsCodification.localInfection;domus.cvcComplicationsCodification.bacteriemia;domus.cvcComplicationsCodification.leakage;domus.cvcComplicationsCodification.thrombosis;domus.cvcComplicationsCodification.flebitis"/>
      <codingSetValue description="Central venous catheter complications codification dislocation" positionWeight="1" value="Dislocazione/rimozione accidentale" name="dislocation" excludes="domus.cvcComplicationsCodification.none"/>
      <codingSetValue description="Central venous catheter complications codification occlusion" positionWeight="2" value="Occlusione" name="occlusion" excludes="domus.cvcComplicationsCodification.none"/>
      <codingSetValue description="Central venous catheter complications codification local infection" positionWeight="3" value="Infezione locale" name="localInfection" toolTip="Si fa diagnosi di infezione locale in caso di:&#10;a) infezione dell'emergenza cutanea (PICC, Hohn)&#10;b) infezione del tunnel (CVC tunnellizzati)&#10;c) infezione della tasca (Port)" excludes="domus.cvcComplicationsCodification.none"/>
      <codingSetValue description="Central venous catheter complications codification bacteriemia" positionWeight="4" value="Batteriemie" name="bacteriemia" toolTip="Batteriemia correlata a CVC (Catheter-related bloodstream infection - CRBSI)&#10;Quando lo stesso microorganismo cresce da un'emocoltura ottenuta mediante puntura di una vena periferica e da una coltura della punta del CVC (A-I), oppure quando da un'emocoltura prelevata dal CVC cresce una conta di un germe almeno 3 volte maggiore di quella che cresce da un'emocoltura da una vena periferica (A-II), oppure quando da un'emocoltura prelevata dal CVC cresce un germe almeno 2 ore prima che da quella ottenuta contemporaneamente da una vena periferica (differential time to positivity - DTP) (A-III)" excludes="domus.cvcComplicationsCodification.none"/>
      <codingSetValue description="Central venous catheter complications codification leakage" positionWeight="5" value="Leakage/rottura" name="leakage" excludes="domus.cvcComplicationsCodification.none"/>
      <codingSetValue description="Central venous catheter complications codification thrombosis" positionWeight="6" value="Trombosi (clinicamente evidente)" name="thrombosis" excludes="domus.cvcComplicationsCodification.none"/>
      <codingSetValue description="Central venous catheter complications codification flebitis" positionWeight="7" value="Flebite" name="flebitis" visible="result = 'domus.cvcCodification.picc' in |domus.cvc.cvc|" excludes="domus.cvcComplicationsCodification.none"/>
    </codingSet>
    <codingSet description="Contact type codification" name="contactTypeCodification">
      <codingSetValue description="Contact type codification - visit" positionWeight="0" value="Visita ambulatoriale" name="visit"/>
      <codingSetValue description="Contact type codification - visit" positionWeight="1" value="Visita domiciliare" name="domiciliaryVisit"/>
      <codingSetValue description="Contact type codification - phone call" positionWeight="2" value="Consulto telefonico" name="phoneCall"/>
      <codingSetValue description="Contact type codification - hospitalization" positionWeight="3" value="Regime di ricovero" name="hospitalization"/>
    </codingSet>
    
    <codingSet description="Cause of final suspension of PDN" name="pdnSuspensionReasonCodification">
      <codingSetValue description="Cause of final suspension of PDN os recovery" positionWeight="0" value="Ripresa nutrizione per os" name="osRecovery" visible="result= not |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
      <codingSetValue description="Cause of final suspension of PDN worsening of general conditions" positionWeight="1" value="Peggioramento condizioni generali" name="worsening" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'"/>
      <codingSetValue description="Cause of final suspension of PDN transferral" positionWeight="3" value="Trasferimento ad altro centro NED" name="transferral" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'"/>
      <codingSetValue description="Cause of final suspension of PDN hospice" positionWeight="4" value="Ricovero in Hospice o in altra struttura ove non è continuata la NPD" name="hospice" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType'"/>
      <codingSetValue description="Cause of final suspension of NED transferral or other nutrition mean" positionWeight="5" value="Trasferimento ad altro centro NED o via di nutrizione" name="transferralOtherNED" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'"/>
      <codingSetValue description="Cause of final suspension of PDN recupero dell’autonomia intestinale" positionWeight="6" value="Recupero dell’autonomia intestinale" name="recuperoAutonomiaIntestinale" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
      <codingSetValue description="Cause of final suspension of PDN adattamento" positionWeight="7" value="Adattamento" name="adattamento" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
      <codingSetValue description="Cause of final suspension of PDN terapia medica" positionWeight="8" value="Terapia medica" name="terapiaMedica" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
      <codingSetValue description="Cause of final suspension of PDN intervento chirurgico riabilitativo" positionWeight="9" value="Intervento chirurgico riabilitativo" name="interventoChirurgicoRiabilitativo" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
      <codingSetValue description="Cause of final suspension of PDN trapianto" positionWeight="10" value="Trapianto" name="trapianto" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
      <codingSetValue description="Cause of final suspension of PDN rifiuto" positionWeight="11" value="Rifiuto" name="rifiuto" visible="result= |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
      <codingSetValue description="Cause of final suspension of PDN death" positionWeight="12" value="Decesso" name="death"/>
    </codingSet>
    
    <codingSet description="Cause of final suspension of PDN" name="deathForNEDRelatedReasonCodification">
      <codingSetValue description="Yes" positionWeight="0" value="Sì" name="yes"/>
      <codingSetValue description="No" positionWeight="1" value="No" name="no"/>
      <codingSetValue description="Yes" positionWeight="2" value="Non so" name="nonSo"/>      
    </codingSet>
    
    
<!-- Sospensione -->
    <!--<codingSet description="Cause of death" name="deathCauseCodification">
      <codingSetValue description="Cause of death PDN" positionWeight="0" value="Per complicanze legate alla NPD" name="npd"/>
      <codingSetValue description="Cause of death other" positionWeight="1" value="Per altre cause" name="other"/>
    </codingSet>-->
    <codingSet description="Cause of death" name="deathCauseCodification">
      <codingSetValue description="Cause of death PDN" positionWeight="0" value="Decesso per complicanze legate alla NPD" name="npd"/>
      <codingSetValue description="Decesso da malattia di base" positionWeight="1" value="Decesso da malattia di base" name="decessoDaMalattiaDiBase" />
      <codingSetValue description="Decesso da sepsi da CVC" positionWeight="2" value="Decesso da sepsi da CVC" name="decessoDaSepsiDaCVC" />
      <codingSetValue description="Decesso da trombosi venosa da CVC" positionWeight="3" value="Decesso da trombosi venosa da CVC" name="decessoDaTrombosiVenosaDaCVC" />
      <codingSetValue description="Decesso da epatopatia da NP"
      positionWeight="4" value="Decesso da epatopatia da NP" name="decessoDaEpatopatiaDaNP" />
      <codingSetValue description="Decesso da altra complicanza da NP"
      positionWeight="5" value="Decesso da altra complicanza da NP" name="decessoDaAltraComplicanzaDaNP" />
      <codingSetValue description="Cause of death other" positionWeight="6" value="Decesso per altre cause" name="other"/>
    </codingSet>
    
    <codingSet description="Codifica indicazioni al trapianto" name="codificaIndicazioneTrapianto">
      <codingSetValue description="Complicanza NPD" positionWeight="0" value="Complicanza NPD" name="complicanzaNPD"/>
      <codingSetValue description="Malattia gastrointestinale" positionWeight="1" value="Malattia gastrointestinale" name="malattiaGastrointestinale"/>
      <codingSetValue description="Scarsa qualità di vita in NPD" positionWeight="2" value="Scarsa qualità di vita in NPD" name="scarsaQualitàDiVitaInNPD"/>      
    </codingSet>
    
    <codingSet description="Codifica indicazioni al trapianto - complicanza NPD" name="codificaIndicazioneTrapiantoComplicanzaNPD">
      <codingSetValue description="Insufficienza epatica" positionWeight="0" value="Insufficienza epatica" name="insufficienzaEpatica"/>
      <codingSetValue description="Sepsi recidivanti da CVC" positionWeight="1" value="Sepsi recidivanti da CVC" name="sepsiRecidivantiDaCVC"/>
      <codingSetValue description="Perdita degli accessi venosi per il CVC" positionWeight="2" value="Perdita degli accessi venosi per il CVC" name="perditaDegliAccessiVenosiPerIlCVC"/>
      <codingSetValue description="Frequenti episodi di disidratazione grave" positionWeight="3" value="Frequenti episodi di disidratazione grave" name="frequentiEpisodiDisidratazioneGrave"/>   
    </codingSet>
    
    <codingSet description="Codifica indicazioni al trapianto - malattia gastrointestinale" name="codificaIndicazioneTrapiantoMalattiaGastrointestinale">
      <codingSetValue description="Desmoide intra-addominale invasivo" positionWeight="0" value="Desmoide intra-addominale invasivo" name="desmoideIntraAddominaleInvasivo"/>
      <codingSetValue description="Ultra-corto" positionWeight="1" value="Ultra-corto" name="ultraCorto"/>
      <codingSetValue description="Malattia congenita della mucosa intestinale" positionWeight="2" value="Malattia congenita della mucosa intestinale" name="malattiaCongenitaDellaMucosaIntestinale"/> 
    </codingSet>
    
    <codingSet description="tipo di trapianto" name="codificaTipoTrapianto">
      <codingSetValue description="Intestino isolato" positionWeight="0" value="Intestino isolato" name="intestinoIsolato"/>
      <codingSetValue description="Multi viscerale senza fegato" positionWeight="1" value="Multi viscerale senza fegato" name="multiVisceraleSenzaFegato"/>
      <codingSetValue description="Intestino o multiviscerale + fegato" positionWeight="2" value="Intestino o multiviscerale + fegato" name="intestinoOMultivisceraleFegato"/> 
    </codingSet>
    
<!-- Organi e sistemi -->
    <codingSet description="Codifica funzione epatica" name="codificaFunzioneEpatica">
      <codingSetValue description="Normale" positionWeight="0" value="Normale" name="normale" />
      <codingSetValue description="Epatopatia iniziale" positionWeight="1" value="Epatopatia iniziale" name="epatopatiaIniziale" toolTip="Indici epatici di laboratorio: aumento persistente di fosfatasi alcalina e di gamma-glutamil transferasi X 1.5 i valori normali per un periodo di 6 mesi negli adulti e 6 settimane nei bambini (nei bambini la gammaGT può essere inferiore a causa di un ridotto circolo entero-epatico  di sali biliari; bilirubina totale &lt; 3 mg/dL&#10;ecografia epatica: steatosi lieve-moderata&#10;istologia epatica (se disponibile): statosi per il 25% del parenchima; fibrosi per &lt; 50% dei setti portali&#10;&#10;(Beath S, Pironi L, Gabe S, et al. Collaborative Strategies to Reduce Mortality and Morbidity in Patients With Chronic Intestinal Failure Including Those Who Are Referred for Small Bowel Transplantation. Transplantation 2008;85: 1378–1384)"/>
      <codingSetValue description="Epatopatia conclamata" positionWeight="2" value="Epatopatia conclamata" name="epatopatiaConclamata" toolTip="Indici epatici di laboratorio: aumento persistente di fosfatasi alcalina e di gamma-glutamil transferasi &gt; X 1.5 i valori; bilirubina totale  3-6 mg/dL&#10;ecografia epatica: steatosi severa, splenomegalia, fango biliare con o senza calcoli&#10;istologia epatica (se disponibile): statosi per il &gt; 25% del parenchima; fibrosi per &gt; 50% dei setti portali&#10;&#10;(Beath S, Pironi L, Gabe S, et al. Collaborative Strategies to Reduce Mortality and Morbidity in Patients With Chronic Intestinal Failure Including Those Who Are Referred for Small Bowel Transplantation. Transplantation 2008;85: 1378–1384)" />
      <codingSetValue description="Epatopatia avanzata" positionWeight="3" value="Epatopatia avanzata" name="epatopatiaAvanzata" toolTip="Indici epatici di laboratorio: aumento persistente di transaminasi,  fosfatasi alcalina ±  gamma-glutamil transferasi &gt; X 3 i valori normali; bilirubina &gt; 6 mg/dL, associata a segni di flogosi cronica (PCR aumentata) ± ipersplenismo (piastrine &lt; 100.000 microL). PT-INR &gt; 1.5. Presenza di spider naevi, ascite, varici esofagee oppure emorragia da varici esofagee o da erosioni gastriche.
istologia epatica (se disponibile): steatosi diffusa con aree di marcata fibrosi; la presenza di cirrosi è inusuale, ma alcuni lobi epatici possono mostrare diversi gradi di fibrosi e distorsione dell’architettura.&#10;&#10;(Beath S, Pironi L, Gabe S, et al. Collaborative Strategies to Reduce Mortality and Morbidity in Patients With Chronic Intestinal Failure Including Those Who Are Referred for Small Bowel Transplantation. Transplantation 2008;85: 1378–1384)" />
    </codingSet>
    
    <codingSet description="Codifica colecisti" name="codificaColecisti">
      <codingSetValue description="Normale" positionWeight="0" value="Normale" name="normale" />
      <codingSetValue description="Sludge biliare" positionWeight="1" value="Sludge biliare" name="sludgeBiliare" />
      <codingSetValue description="Litiasi biliare" positionWeight="2" value="Litiasi biliare" name="litiasiBiliare" />
      <codingSetValue description="Colecistectomia" positionWeight="3" value="Colecistectomia" name="colecistectomia" />
    </codingSet>
    
    <codingSet description="Codifica funzione renale" name="codificaFunzioneRenale">
      <codingSetValue description="Normale" positionWeight="0" value="Normale" name="normale" />
      <codingSetValue description="Insufficienza renale cronica - Non in dialisi" positionWeight="1" value="Insufficienza renale cronica - Non in dialisi" name="insufficienzaRenaleCronicaNonInDialisi" />
      <codingSetValue description="Dialisi per insufficienza renale cronica" positionWeight="2" value="Dialisi per insufficienza renale cronica" name="dialisiPerInsufficienzaRenaleCronica" />
      <codingSetValue description="Nefropatia cronica senza insufficienza renale" positionWeight="3" value="Nefropatia cronica senza insufficienza renale" name="NefropatiaCronicaSenzaInsufficienzaRenale" />
    </codingSet>
    
    <codingSet description="Codifica densità minerale ossea" name="codificaDensitaMineraleOssea">
      <codingSetValue description="Normale" positionWeight="0" value="Normale" name="normale" />
      <codingSetValue description="Osteopenia" positionWeight="1" value="Osteopenia" name="osteopenia" />
      <codingSetValue description="Osteoporosi" positionWeight="2" value="Osteoporosi" name="osteoporosi" />
    </codingSet>
    
    <codingSet description="Codifica trombosi venosa profonda" name="codificaTrombosiVenosaProfonda">
      <codingSetValue description="Trombosi giugulare interna dx" positionWeight="0" value="Trombosi giugulare interna dx" name="trombosiGiugulareInternaDx" />
      <codingSetValue description="Trombosi giugulare interna sn" positionWeight="1" value="Trombosi giugulare interna sn" name="trombosiGiugulareInternaSn" />
      <codingSetValue description="Trombosi succlavia dx" positionWeight="2" value="Trombosi succlavia dx" name="trombosiSucclaviaDx" />
      <codingSetValue description="Trombosi succlavia sn" positionWeight="3" value="Trombosi succlavia sn" name="trombosiSucclaviaSn" />
      <codingSetValue description="Trombosi femorale profonda dx" positionWeight="4" value="Trombosi femorale profonda dx" name="trombosiFemoraleProfondaDx" />
      <codingSetValue description="Trombosi femorale profonda sn" positionWeight="5" value="Trombosi femorale profonda sn" name="trombosiFemoraleProfondaSn" />
      <codingSetValue description="Trombosi cava sup" positionWeight="6" value="Trombosi cava sup" name="trombosiCavaSup" />
      <codingSetValue description="Trombosi cava inf" positionWeight="7" value="Trombosi cava inf" name="trombosiCavaInf" />
    </codingSet>
    
<!-- Dati relativi alla NED -->
    <codingSet description="Codifica malattia di base" name="codificaMalattiaDiBase">
      <codingSetValue description="Atresia intestinale" positionWeight="0" value="Atresia intestinale" name="artresiaIntestinale" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Complicanze post-chirurgiche" positionWeight="1" value="Complicanze post-chirurgiche" name="complicPostChir" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Diarrea cronica intrattabile da causa ignota" positionWeight="2" value="Diarrea cronica intrattabile da causa ignota" name="diarreaCronica" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Displasia epiteliale intestinale (enteropatia a ciuffi)" positionWeight="3" value="Displasia epiteliale intestinale (enteropatia a ciuffi)" name="displasiaEpitelialeIntest" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Enterite da radiazioni" positionWeight="4" value="Enterite da radiazioni" name="enteriteDaRadiazioni" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Enterocolite necrotizzante" positionWeight="5" value="Enterocolite necrotizzante" name="enterocoliteNecrotizzante" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Enteropatia autoimmune" positionWeight="6" value="Enteropatia autoimmune" name="enteropatiaAutoimmune" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Gastroschisi" positionWeight="7" value="Gastroschisi" name="gastroschisi" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Ischemia mesenterica venosa" positionWeight="8" value="Ischemia mesenterica venosa" name="ischemiaMesentericaVenosa" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Ischemia mesenterica arteriosa" positionWeight="9" value="Ischemia mesenterica arteriosa" name="ischemiaMesentericaArteriosa" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Linfangectasia intestinale" positionWeight="10" value="Linfangectasia intestinale" name="linfangectasiaIntestinale" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Malattia da microvilli inclusi" positionWeight="11" value="Malattia da microvilli inclusi" name="malattiaDaMicrovilliInclusi" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Malattia di Hirschsprung" positionWeight="12" value="Malattia di Hirschsprung" name="malattiaDiHirschsprung" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Morbo di Crohn" positionWeight="13" value="Morbo di Crohn" name="morbodiCrohn" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Peritonite necrotizzante" positionWeight="14" value="Peritonite necrotizzante" name="peritoniteNecrotizzante" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Poliposi familiare" positionWeight="15" value="Poliposi familiare" name="poliposiFamiliare" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Pseudo-ostruzione idiopatica, miopatica" positionWeight="16" value="Pseudo-ostruzione idiopatica, miopatica" name="pseudoOstruzioneIdiopaticaMiopatica" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Pseudo-ostruzione idiopatica, neuropatica" positionWeight="17" value="Pseudo-ostruzione idiopatica, neuropatica" name="pseudoOstruzioneIdiopaticaNeuropatica" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Pseudo-ostruzione idiopatica, non classificabile" positionWeight="18" value="Pseudo-ostruzione idiopatica, non classificabile" name="pseudoOstruzioneIdiopaticaNC" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Rettocolite ulcerosa" positionWeight="19" value="Rettocolite ulcerosa" name="rettocoliteUlcerosa" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Rigetto cronico post-trapianto di intestino" positionWeight="20" value="Rigetto cronico post-trapianto di intestino" name="rigettoCronicoPostTrapiantoDiIntestino" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="S. Gardner" positionWeight="21" value="S. Gardner" name="sGardner" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Sclerodermia" positionWeight="22" value="Sclerodermia" name="Sclerodermia" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Sclerodermia" positionWeight="23" value="Sclerodermia" name="Sclerodermia" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType' " />
      <codingSetValue description="Patologia neurologica degenerativa" positionWeight="24" value="Patologia neurologica degenerativa" name="patologiaNeurologicaDegenerativa" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' " />
      <codingSetValue description="Patologia neurologica vascolare" positionWeight="25" value="Patologia neurologica vascolare" name="patologiaNeurologicaVascolare" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' " />
      <codingSetValue description="Altra patologia neurologica" positionWeight="26" value=" Altra patologia neurologica" name="altraPatologiaNeurologica" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' " />
      <codingSetValue description="Patologia tumorale" positionWeight="27" value="Patologia tumorale" name="patologiaTumorale" visible="result= |domus.patientType.patientType| and |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType' " />
      <!-- <codingSetValue description="AltraMalattiaDiBase" positionWeight="27" value="Altro (specificare)" name="altraMalattiaDiBase" /> -->
    </codingSet>
    
    <codingSet description="Codifica causa principale della Insufficienza Intestinale" name="codificaCausaPrincipaleInsuffIntestinale">
      <codingSetValue description="Intestino corto" positionWeight="0" value="Intestino corto" name="intestinoCorto" />
      <codingSetValue description="Alterazione della motilità intestinale" positionWeight="1" value="Alterazione della motilità intestinale" name="alterazioneDellaMotilitaIntestinale" />
      <codingSetValue description="Fistola intestinale" positionWeight="2" value="Fistola intestinale" name="FistolaIntestinale" />
      <codingSetValue description="Danni estesi della mucosa intestinale" positionWeight="3" value="Danni estesi della mucosa intestinale" name="danniEstesiDellaMucosaIntestinale" />
    </codingSet>
    
    <codingSet description="Codifica tipo di intestino corto" name="codificaTipoIntestinoCorto">
      <codingSetValue description="Tipo 1 (digiuno-ileostomia)" positionWeight="0" value="Tipo 1 (digiuno-ileostomia)" name="tipo1" toolTip="Messing B, Crenn P, Beau P, et al. Long-term Survival and Parenteral Nutrition Dependence in Adult Patients With the Short Bowel Syndrome. Gastroenterology 1999;117:1043–1050" />
      <codingSetValue description="Tipo 2 (digiuno-colonstomia senza valvola IC)" positionWeight="1" value="Tipo 2 (digiuno-colonstomia senza valvola IC)" name="tipo2" toolTip="Messing B, Crenn P, Beau P, et al. Long-term Survival and Parenteral Nutrition Dependence in Adult Patients With the Short Bowel Syndrome. Gastroenterology 1999;117:1043–1050" />
      <codingSetValue description="Tipo 3 (digiuno-ileo-colonstomia con valvola IC)" positionWeight="2" value="Tipo 3 (digiuno-ileo-colonstomia con valvola IC)" name="tipo3" toolTip="Messing B, Crenn P, Beau P, et al. Long-term Survival and Parenteral Nutrition Dependence in Adult Patients With the Short Bowel Syndrome. Gastroenterology 1999;117:1043–1050" />
    </codingSet>
    
    <codingSet description="Codifica modalità di misurazione" name="codificaModalitaMisurazione">
      <codingSetValue description="Chirurgica durante l'intervento" positionWeight="0" value="Chirurgica durante l'intervento" name="chirurgicaDuranteIntervento" />
      <codingSetValue description="Radiologica" positionWeight="1" value="Radiologica" name="radiologica" />
      <codingSetValue description="Stimata indirettamente" positionWeight="2" value="Stimata indirettamente" name="stimataIndirettamente" />
    </codingSet>
    
    <codingSet description="Codifica % di colon residuo" name="codifica%ColonResiduo">
      <codingSetValue description="0%" positionWeight="0" value="0%" name="0" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
      <codingSetValue description="14%" positionWeight="1" value="14%" name="14" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
      <codingSetValue description="29%" positionWeight="2" value="29%" name="29" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
      <codingSetValue description="43%" positionWeight="3" value="43%" name="43" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
      <codingSetValue description="57%" positionWeight="4" value="57%" name="57" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
      <codingSetValue description="71%" positionWeight="5" value="71%" name="71" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
      <codingSetValue description="86%" positionWeight="6" value="86%" name="86" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
      <codingSetValue description="100%" positionWeight="7" value="100%" name="100" toolTip="Cummings JH, James WP, Wiggins HS. Role of the colon in ileal resection diarrhoea. Lancet 1: 344–347, 1973." />
    </codingSet>
    
    <codingSet description="Codifica sede della stomia" name="codificaSedeStomia">
      <codingSetValue description="PEG di scarico" positionWeight="0" value="PEG di scarico" name="PEGScarico" />
      <codingSetValue description="Digiuno" positionWeight="1" value="Digiuno" name="digiuno" />
      <codingSetValue description="Ileo" positionWeight="2" value="Ileo" name="ileo" />
      <codingSetValue description="Colon Destro" positionWeight="3" value="Colon Destro" name="colonDestro" />
      <codingSetValue description="Colon Trasverso" positionWeight="4" value="Colon Trasverso" name="colonTrasverso" />
      <codingSetValue description="Colon Sinistro" positionWeight="5" value="Colon Sinistro" name="colonSinistro" />
    </codingSet>
    
    <codingSet description="Codifica controindicazioni assolute al trapianto" name="codificaControindicazioniAssoluteTrapianto">
      <codingSetValue description="Tumore non resecabile" positionWeight="0" value="Tumore non resecabile" name="tumoreNonResecabile" />
      <codingSetValue description="Severa insufficienza immunologica congenita o acquisita" positionWeight="1" value="Severa insufficienza immunologica congenita o acquisita" name="severaInsufficienzaImmunologica" />
      <codingSetValue description="Malattia cardiopolmonare avanzata" positionWeight="2" value="Malattia cardiopolmonare avanzata" name="malattiaCardiopolmonareAvanzata" />
      <codingSetValue description="Disfunzione neurologica avanzata" positionWeight="3" value="Disfunzione neurologica avanzata" name="disfunzioneNeurologicaAvanzata" />
      <codingSetValue description="Sepsi con multisystem organ failure" positionWeight="4" value="Sepsi con multisystem organ failure" name="sepsiMultisystemOrganFailure" />
      <codingSetValue description="Malattia psichiatrica importante" positionWeight="5" value="Malattia psichiatrica importante" name="malattiaPsichiatricaImportante" />
      <codingSetValue description="Dimostrata inosservanza delle prescrizioni mediche da parte del paziente" positionWeight="6" value="Dimostrata inosservanza delle prescrizioni mediche da parte del paziente" name="inadempienza" />
      <codingSetValue description="Pervietà vascolare insufficiente per un accesso venoso centrale fino a 6 mesi dopo ITx" positionWeight="6" value="Pervietà vascolare insufficiente per un accesso venoso centrale fino a 6 mesi dopo ITx" name="pervietàVascolareInsufficiente" />
    </codingSet>
    
    <codingSet description="Codifica controindicazioni relative al trapianto" name="codificaControindicazioniRelativeTrapianto">
      <codingSetValue description="Età superiore a 65 anni" positionWeight="0" value="Età superiore a 65 anni (in rapporto a malattie vascolari, cardiache e respiratorie associate)" name="etaSuperioreA65Anni" />
      <codingSetValue description="Tumore nei passati 5 anni" positionWeight="1" value="Tumore nei passati 5 anni" name="tumoreNeiPassati5Anni" />
      <codingSetValue description="Debilitazione fisica" positionWeight="2" value="Debilitazione fisica" name="debilitazioneFisica" />
      <codingSetValue description="Mancanza di aiuto familiare" positionWeight="3" value="Mancanza di aiuto familiare" name="mancanzaDiAiutoFamiliare" />
    </codingSet>
    
<!-- Ricoveri -->
    <codingSet description="Causa ricovero" name="causaRicovero">
       <codingSetValue description="Complicanza NPD" positionWeight="0" value="Complicanza NPD" name="complicanzaNPD" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.oncologicType' or  |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
       <codingSetValue description="Complicanza malattia di base" positionWeight="1" value="Complicanza malattia di base" name="complicanzaMalattiaDiBase" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.iicbType'"/>
       <codingSetValue description="Complicanza NED" positionWeight="1" value="Complicanza NED" name="complicanzaNED" visible="result = |domus.patientType.patientType|[0] == 'domus.patientTypeCodification.nedType'"/>
       <codingSetValue description="Altra causa" positionWeight="3" value="Altra causa" name="altraCausa" />
    </codingSet>
    
    
<!-- Riabilitazione socio-lavorativa-familiare -->
    <codingSet description="Codifica stato civile" name="codificaStatoCivile">
      <codingSetValue description="Nubile - Celibe" positionWeight="0" value="Nubile - Celibe" name="nubileCelibe" />
      <codingSetValue description="Sposato/a - convivente" positionWeight="1" value="Sposato/a - convivente" name="sposatoConvivente" />
      <codingSetValue description="Separato/a - divorziato/a" positionWeight="2" value="Separato/a - divorziato/a" name="separatoDivorziato" />
      <codingSetValue description="Vedovo/a" positionWeight="3" value="Vedovo/a" name="vedovo" />
    </codingSet>
    
    <codingSet description="Codifica attività lavorativa" name="codificaAttivitaLavorativa">
      <codingSetValue description="Occupato a tempo pieno" positionWeight="0" value="Occupato a tempo pieno" name="occupatoATempoPieno" />
      <codingSetValue description="Occupato a tempo parziale" positionWeight="1" value="Occupato a tempo parziale" name="occupatoATempoParziale" />
      <codingSetValue description="Congedo temporaneo per malattia" positionWeight="2" value="Congedo temporaneo per malattia" name="congedoTemporaneoPerMalattia" />
      <codingSetValue description="Inabile senza invalidità" positionWeight="3" value="Inabile senza invalidità" name="inabileSenzaInvalidita" />
      <codingSetValue description="Studente" positionWeight="4" value="Studente" name="studente" />
      <codingSetValue description="Pensionato" positionWeight="5" value="Pensionato" name="pensionato" />
      <codingSetValue description="Non occupato" positionWeight="6" value="Non occupato" name="nonOccupato" />
    </codingSet>
    
    <codingSet description="codifica grado di autonomia" name="codificaGradoDiAutonomia">
      <codingSetValue description="1 - Totalmente autonomo" positionWeight="0" value="1 - Totalmente autonomo" name="1TotalmenteAutonomo" toolTip="Mughal M, Irving M. Home parenteral nutrition in United Kingdom and Ireland. Lancet 1986;ii:383–7."/>
      <codingSetValue description="2 - Parzialmente autonomo" positionWeight="1" value="2 - Parzialmente autonomo" name="2ParzialmenteAutonomo" toolTip="Mughal M, Irving M. Home parenteral nutrition in United Kingdom and Ireland. Lancet 1986;ii:383–7."/>
      <codingSetValue description="3 - Inabile al lavoro, in grado di gestire la NPD da solo e esce occasionalmente di casa" positionWeight="2" value="3 - Inabile al lavoro, in grado di gestire la NPD da solo e esce occasionalmente di casa" name="3InabileAlLavoro" toolTip="Mughal M, Irving M. Home parenteral nutrition in United Kingdom and Ireland. Lancet 1986;ii:383–7."/>
      <codingSetValue description="4 - Inabile, necessita di aiuto per la NPD e non in grado di uscire di casa" positionWeight="3" value="4 - Inabile, necessita di aiuto per la NPD e non in grado di uscire di casa" name="4Inabile" toolTip="Mughal M, Irving M. Home parenteral nutrition in United Kingdom and Ireland. Lancet 1986;ii:383–7."/>
    </codingSet>
    
<!-- Complicanze della NDP / insufficienza intestinale -->    
    <codingSet description="Codifica frattura ossea spontanea al follow up" name="codificaFratturaOsseaSpontaneaFollowUp">
      <codingSetValue description="Vertebre cervicali" positionWeight="0" value="Vertebre cervicali" name="vertebreCervicali"/>
      <codingSetValue description="Vertebre dorsali" positionWeight="1" value="Vertebre dorsali" name="vertebreDorsali"/>
      <codingSetValue description="Vertebre lombari" positionWeight="2" value="Vertebre lombari" name="vertebreLombari"/>
      <codingSetValue description="Coste" positionWeight="3" value="Coste" name="coste"/>
      <codingSetValue description="Femore" positionWeight="4" value="Femore" name="femore"/>
      <codingSetValue description="Altra sede" positionWeight="5" value="Altra sede" name="altraSede"/>
    </codingSet>
    
    <codingSet description="Codifica complicanza meccanica NP al follow up" name="codificaComplicanzaMeccanicaNPFollowUp">
      <codingSetValue description="Nessuna" positionWeight="0" value="Nessuna" name="nessuna"/>
      <codingSetValue description="Rottura esterna CV" positionWeight="1" value="Rottura esterna CV" name="rotturaEsternaCV"/>
      <codingSetValue description="Rottura intravascolare CV" positionWeight="2" value="Rottura intravascolare CV" name="rotturaIntravascolareCV"/>
      <codingSetValue description="Occlusione CV" positionWeight="3" value="Occlusione CV" name="occlusioneCV"/>
      <codingSetValue description="Pinch-off CV" positionWeight="4" value="Pinch-off CV" name="pinchoffCV"/>
    </codingSet>
    
    <codingSet description="Codifica infezione da CVC al follow up" name="codificaInfezioneCVCFollowUp">
      <codingSetValue description="Infezione del foro cutaneo di emergenza del CV" positionWeight="0" value="Infezione del foro cutaneo di emergenza del CV" name="infezioneForoCutaneoEmergenzaCV" toolTip="Eritema o indurimento entro 2 cm dal foro di uscita del catetere, in assenza di concomitante infezione ematica (BSI) e assenza di pus.&#10;Centers for Disease Control and Prevention. Guidelines for the Prevention of Intravascular catheter-related infections. MMWR 2002; 51(No. RR-10): 1-29)."/>
      <codingSetValue description="Infezione tunnel CV" positionWeight="1" value="Infezione tunnel CV" name="infezioneTunnelCV" toolTip=" Tumefazione, eritema, o indurimento locale > 2 cm dal foro di uscita del catetere lungo il tratto sottocutaneo del tunnel, in assenza di concomitante BSI.&#10;Centers for Disease Control and Prevention. Guidelines for the Prevention of Intravascular catheter-related infections. MMWR 2002; 51(No. RR-10): 1-29)."/>
      <codingSetValue description="infezione della tasca cutanea del Port" positionWeight="2" value="infezione della tasca cutanea del Port" name="infezioneTascaCutaneaPort" toolTip="Presenza di pus nella tasca sottocutanea di un catetere totalmente impiantato con o senza rottura spontanea oppure necrosi della cute soprastante, in assenza di concomitante BSI.&#10;Centers for Disease Control and Prevention. Guidelines for the Prevention of Intravascular catheter-related infections. MMWR 2002; 51(No. RR-10): 1-29)."/>
      <codingSetValue description="Infezione correlata a CV" positionWeight="3" value="Infezione correlata a CV" toolTip="Batteriemia o fingemia in un paziente con un catetere venoso centrale a lunga permanenza e (tutte le tre condizioni seguenti:&#10;1. quadro clinico compatibile con infezione (febbre, brividi, e/o ipertensione, aumento degli indici infiammatori)&#10;2. nessun'altra sorgente di infezione evidente (oltre al catatere)&#10;3. almeno una delle seguenti condizioni:&#10;  - almeno due emocolture consecutive da vena periferica o da device con il medesimo isolamento;&#10;  - una emocoltura da sangue periferico + una emocoltura da device contemporanee con l'isolamento dello stesso microrganismo&#10;  - tempo differenziale alla positività (risultato positivo da emocoltura da catetere identificato almeno 2 h prima di un risultato positivo dell'emocoltura da sangue periferico) (per quei centri che sono in grado di farlo, sostituisce il punto precedente.&#10;Mermel LA, Allon M, Bouza E, et al. Clinical Practice Guidelines for the Diagnosis and Management of Intravascular Catheter-Related Infection: 2009 Update by the Infectious Diseases Society of America. Clinical Infectious Diseases 2009; 49:1–45" name="infezioneCorrelataCV"/>
      <codingSetValue description="Trombosi venosa profonda CV sintomatica" positionWeight="4" value="Trombosi venosa profonda CV sintomatica" name="trombosiVenosaProfondaCVSintomatica" toolTip="Trombosi della vena associata al catetere (si manifesta con edema e turgore delle vene superficiali del territorio drenato da quella vena)"/>
      <codingSetValue description="Trombosi venosa profonda CV asintomatica" positionWeight="5" value="Trombosi venosa profonda CV asintomatica" name="trombosiVenosaProfondaCVAsintomatica" toolTip="Trombosi della vena associata al catetere rilevata accidentalmente nel corso di Ecografia Color Doppler Duplex (ECDD)&#10;&#10;Criteri diagnostici di trombosi venosa all’ECDD:&#10;
- visualizzazione di un trombo intraluminale&#10;
- mancanza di flusso&#10;
- flusso ridotto, non pulsatile e non fasico"/>
      <codingSetValue description="Pneumotorace" positionWeight="6" value="Pneumotorace" name="pneumotorace"/>
      <codingSetValue description="Altro meccanica CV" positionWeight="7" value="Altro meccanica CV" name="altroMeccanicaCV"/>
    </codingSet>
    
<!-- Dati relativi al programma nutrizionale -->
    <codingSet description="Codifica tipo di alimentazione orale" name="codificaTipoAlimentazioneOrale">
      <codingSetValue description="Digiuno totale" positionWeight="0" value="Digiuno totale" name="digiunoTotale" />
      <codingSetValue description="Dieta idrica" positionWeight="1" value="Dieta idrica" name="dietaIdrica" />
      <codingSetValue description="Dieta liquida" positionWeight="2" value="Dieta liquida" name="dietaLiquida" />
      <codingSetValue description="Dieta creamosa" positionWeight="3" value="Dieta cremosa" name="dietaCremosa" />
      <codingSetValue description="Dieta regolare, ipolipidica" positionWeight="4" value="Dieta regolare, ipolipidica" name="dietaRegolareIpolipidica" />
      <codingSetValue description="Dieta regolare, povera di fibre" positionWeight="5" value="Dieta regolare, povera di fibre" name="dietaRegolarePoveraDiFibre" />
      <codingSetValue description="Dieta regolare, ipolipidica e povera di fibre e lattosio" positionWeight="6" value="Dieta regolare, ipolipidica e povera di fibre e lattosio" name="dietaRegolareIpolipidicaPoveraDiFibreLattosio" />
      <codingSetValue description="Dieta libera" positionWeight="7" value="Dieta libera" name="dietaLibera" />
    </codingSet>
    
    <codingSet description="Codifica energia totale con l'alimentazione orale +/- enterale (% di BEE)" name="codificaEnergiaTotale">
      <codingSetValue description="0%" positionWeight="0" value="0%" name="0" />
      <codingSetValue description="1 - 25%" positionWeight="1" value="0 - 25%" name="0-25" />
      <codingSetValue description="26 - 50%" positionWeight="2" value="26 - 50%" name="26-50" />
      <codingSetValue description="51 - 100%" positionWeight="3" value="51 - 100%" name="51-100" />
      <codingSetValue description="101 - 150%" positionWeight="4" value="101 - 150%" name="101-150" />
      <codingSetValue description="151 - 200%" positionWeight="5" value="151 - 200%" name="151-200" />
      <codingSetValue description="&gt; 200%" positionWeight="6" value="&gt; 200%" name=">200" />
    </codingSet>
    
    <codingSet description="Codifica Accesso venoso CV" name="codificaAccessoVenosoCV">
      <codingSetValue description="Giugulare interna" positionWeight="0" value="Giugulare interna" name="giugulareInterna" />
      <codingSetValue description="Succlavia" positionWeight="1" value="Succlavia" name="succlavia" />
      <codingSetValue description="Femorale interna" positionWeight="2" value="Femorale interna" name="femoraleInterna" />
      <codingSetValue description="Basilica" positionWeight="3" value="Basilica" name="basilica" />
      <codingSetValue description="Cefalica" positionWeight="4" value="Cefalica" name="cefalica" />
      <codingSetValue description="Giugulare esterna" positionWeight="5" value="Giugulare esterna" name="giugulareEsterna" />
      <codingSetValue description="Safena all'inguine" positionWeight="6" value="Safena all'inguine" name="safenaAllInguine" />
      <codingSetValue description="Superficiale del braccio" positionWeight="7" value="Superficiale del braccio" name="superficialeDelBraccio" />
    </codingSet>
    
    <codingSet description="Codifica lato accesso venoso CV" name="leftRightCodification">
      <codingSetValue description="Sinistro" positionWeight="0" value="Sinistro" name="sinistro" />
      <codingSetValue description="Destro" positionWeight="1" value="Destro" name="destro" />
    </codingSet>
    
    <codingSet description="Codifica tipo di miscela per NP" name="codificaTipoMiscelaPerNP">
      <codingSetValue description="Standard - registrata" positionWeight="0" value="Standard - registrata" name="standardRegistrata" />
      <codingSetValue description="Galenica - personalizzata" positionWeight="1" value="Galenica - personalizzata" name="galenicaPersonalizzata" />
    </codingSet>
    
    <codingSet description="Codifica gestione NPD" name="codificaGestioneNPD">
      <codingSetValue description="Centro ospedaliero" positionWeight="0" value="Centro ospedaliero" name="centroOspedaliero" />
      <codingSetValue description="Service industria" positionWeight="1" value="Service industria" name="serviceIndustria" />
    </codingSet>
    
    <codingSet description="Codifica unità di misura energia totale" name="codificaUnitaMisuraEnergiaTotale">
      <codingSetValue description="Kcal" positionWeight="0" value="Kcal" name="kcal" toolTip="Unità di misura per energia totale: Kcal"/>
      <codingSetValue description="KJ" positionWeight="1" value="KJ" name="kJ" toolTip="Unità di misura per energia totale: KJ"/>
    </codingSet>
    
<!-- Indicatori di esito -->
    <codingSet description="Codifica unita durata NED" name="codificaUnitaDurataNED">
      <codingSetValue description="giorni" positionWeight="0" value="giorni" name="giorni" />
      <codingSetValue description="settimane" positionWeight="1" value="settimane" name="settimane" />
      <codingSetValue description="mesi" positionWeight="2" value="mesi" name="mesi" />
    </codingSet>
    
    <codingSet description="Codifica complicanze della sonda" name="codificaComplicanzeSonda">
      <codingSetValue description="Deterioramento o rottura" positionWeight="0" value="Deterioramento o rottura" name="deterioramentoORottura" toolTip="Alterazione della struttura della sonda con presenza di estroflessioni e perdita di continuità della sonda fino alla rottura della stessa"/>
      <codingSetValue description="Infezione locale della stomia" positionWeight="1" value="Infezione locale della stomia" name="infezioneLocaleDellaStomia" toolTip="Infezione: presenza di eritema, essudato intorno alla stomia che risponde alla medicazione locale" />
      <codingSetValue description="Buried Bumper Sindrome" positionWeight="2" value="Buried Bumper Sindrome" name="BBS" toolTip="Il range di severità di questa complicanza è ampio e va da una semplice ulcerazione della parete gastrica alla penetrazione della placca di ancoraggio dentro la parete gastrica. I fattori predisponenti sono l'eccessiva trazione, la malnutrizione, l'incremento ponderale"/>
      <codingSetValue description="Dislocazione" positionWeight="3" value="Dislocazione" name="dislocazione" toolTip="Migrazione della sonda gastrica o digiunale all’interno dei visceri o  verso l’esterno in maniera totale. Migrazione del sondino nasale verso l’esterno in maniera parziale o totale" />
      <codingSetValue description="Occlusione" positionWeight="4" value="Occlusione" name="occlusione" toolTip="Quando sonda o sondino vengono rimossi e sostituiti dopo tentativi di disostruzione per impossibilità ad infondere la miscela" />
    </codingSet>
    
    <codingSet description="Codifica oncologic for NED type" name="codificaOncologicForNEDtype">
      <codingSetValue description="Trattamento attivo" positionWeight="0" value="trattamento attivo" name="trattamentoAttivo" />
      <codingSetValue description="Trattamento palliativo" positionWeight="1" value="Trattamento palliativo" name="trattamentoPalliativo" />
      <codingSetValue description="Libero da malattia, con esiti trattamento" positionWeight="2" value="Libero da malattia, con esiti trattamento" name="liberoDaMalattiaConEsitiTrattamento" />
    </codingSet>
    
<!-- -->
    <codingSet description="List of world countries" name="countryCodification">
      <codingSetValue description="Afghanistan" positionWeight="3" value="@@@9014@@@" name="Afghanistan"/>
      <codingSetValue description="&#197;land Islands" positionWeight="4" value="@@@9015@@@" name="landIslands"/>
      <codingSetValue description="Albania" positionWeight="5" value="@@@9016@@@" name="Albania"/>
      <codingSetValue description="Algeria" positionWeight="6" value="@@@9017@@@" name="Algeria"/>
      <codingSetValue description="American Samoa" positionWeight="7" value="@@@9018@@@" name="AmericanSamoa"/>
      <codingSetValue description="Andorra" positionWeight="8" value="@@@9019@@@" name="Andorra"/>
      <codingSetValue description="Angola" positionWeight="9" value="@@@9020@@@" name="Angola"/>
      <codingSetValue description="Anguilla" positionWeight="10" value="@@@9021@@@" name="Anguilla"/>
      <codingSetValue description="Antarctica" positionWeight="11" value="@@@9022@@@" name="Antarctica"/>
      <codingSetValue description="Antigua and Barbuda" positionWeight="12" value="@@@9023@@@" name="AntiguaandBarbuda"/>
      <codingSetValue description="Argentina" positionWeight="13" value="@@@9024@@@" name="Argentina"/>
      <codingSetValue description="Armenia" positionWeight="14" value="@@@9025@@@" name="Armenia"/>
      <codingSetValue description="Aruba" positionWeight="15" value="@@@9026@@@" name="Aruba"/>
      <codingSetValue description="Australia" positionWeight="16" value="@@@9027@@@" name="Australia"/>
      <codingSetValue description="Austria" positionWeight="17" value="@@@9028@@@" name="Austria"/>
      <codingSetValue description="Azerbaijan" positionWeight="18" value="@@@9029@@@" name="Azerbaijan"/>
      <codingSetValue description="Bahamas" positionWeight="19" value="@@@9030@@@" name="Bahamas"/>
      <codingSetValue description="Bahrain" positionWeight="20" value="@@@9031@@@" name="Bahrain"/>
      <codingSetValue description="Bangladesh" positionWeight="21" value="@@@9032@@@" name="Bangladesh"/>
      <codingSetValue description="Barbados" positionWeight="22" value="@@@9033@@@" name="Barbados"/>
      <codingSetValue description="Belarus" positionWeight="23" value="@@@9034@@@" name="Belarus"/>
      <codingSetValue description="Belgium" positionWeight="24" value="@@@9035@@@" name="Belgium"/>
      <codingSetValue description="Belize" positionWeight="25" value="@@@9036@@@" name="Belize"/>
      <codingSetValue description="Benin" positionWeight="26" value="@@@9037@@@" name="Benin"/>
      <codingSetValue description="Bermuda" positionWeight="27" value="@@@9038@@@" name="Bermuda"/>
      <codingSetValue description="Bhutan" positionWeight="28" value="@@@9039@@@" name="Bhutan"/>
      <codingSetValue description="Bolivia" positionWeight="29" value="@@@9040@@@" name="Bolivia"/>
      <codingSetValue description="Bosnia and Herzegovina" positionWeight="30" value="@@@9041@@@" name="BosniaandHerzegovina"/>
      <codingSetValue description="Botswana" positionWeight="31" value="@@@9042@@@" name="Botswana"/>
      <codingSetValue description="Bouvet Island" positionWeight="32" value="@@@9043@@@" name="BouvetIsland"/>
      <codingSetValue description="Brazil" positionWeight="33" value="@@@9044@@@" name="Brazil"/>
      <codingSetValue description="British Indian Ocean Territory" positionWeight="34" value="@@@9045@@@" name="BritishIndianOceanTerritory"/>
      <codingSetValue description="Brunei Darussalam" positionWeight="35" value="@@@9046@@@" name="BruneiDarussalam"/>
      <codingSetValue description="Bulgaria" positionWeight="36" value="@@@9047@@@" name="Bulgaria"/>
      <codingSetValue description="Burkina Faso" positionWeight="37" value="@@@9048@@@" name="BurkinaFaso"/>
      <codingSetValue description="Burundi" positionWeight="38" value="@@@9049@@@" name="Burundi"/>
      <codingSetValue description="Cambodia" positionWeight="39" value="@@@9050@@@" name="Cambodia"/>
      <codingSetValue description="Cameroon" positionWeight="40" value="@@@9051@@@" name="Cameroon"/>
      <codingSetValue description="Canada" positionWeight="41" value="@@@9052@@@" name="Canada"/>
      <codingSetValue description="Cape Verde" positionWeight="42" value="@@@9053@@@" name="CapeVerde"/>
      <codingSetValue description="Cayman Islands" positionWeight="43" value="@@@9054@@@" name="CaymanIslands"/>
      <codingSetValue description="Central African Republic" positionWeight="44" value="@@@9055@@@" name="CentralAfricanRepublic"/>
      <codingSetValue description="Chad" positionWeight="45" value="@@@9056@@@" name="Chad"/>
      <codingSetValue description="Chile" positionWeight="46" value="@@@9057@@@" name="Chile"/>
      <codingSetValue description="China" positionWeight="47" value="@@@9058@@@" name="China"/>
      <codingSetValue description="Christmas Island" positionWeight="48" value="@@@9059@@@" name="ChristmasIsland"/>
      <codingSetValue description="Cocos (Keeling) Islands" positionWeight="49" value="@@@9060@@@" name="CocosKeelingIslands"/>
      <codingSetValue description="Colombia" positionWeight="50" value="@@@9061@@@" name="Colombia"/>
      <codingSetValue description="Comoros" positionWeight="51" value="@@@9062@@@" name="Comoros"/>
      <codingSetValue description="Congo" positionWeight="52" value="@@@9063@@@" name="Congo"/>
      <codingSetValue description="Congo, the Democratic Republic of the" positionWeight="53" value="@@@9064@@@" name="CongotheDemocraticRepublicofthe"/>
      <codingSetValue description="Cook Islands" positionWeight="54" value="@@@9065@@@" name="CookIslands"/>
      <codingSetValue description="Costa Rica" positionWeight="55" value="@@@9066@@@" name="CostaRica"/>
      <codingSetValue description="Croatia" positionWeight="57" value="@@@9068@@@" name="Croatia"/>
      <codingSetValue description="Cuba" positionWeight="58" value="@@@9069@@@" name="Cuba"/> 
      <codingSetValue description="Cyprus" positionWeight="59" value="@@@9070@@@" name="Cyprus"/>
      <codingSetValue description="Czech Republic" positionWeight="60" value="@@@9071@@@" name="CzechRepublic"/>
      <codingSetValue description="Denmark" positionWeight="61" value="@@@9072@@@" name="Denmark"/>
      <codingSetValue description="Djibouti" positionWeight="62" value="@@@9073@@@" name="Djibouti"/>
      <codingSetValue description="Dominica" positionWeight="63" value="@@@9074@@@" name="Dominica"/>
      <codingSetValue description="Dominican Republic" positionWeight="64" value="@@@9075@@@" name="DominicanRepublic"/>
      <codingSetValue description="Ecuador" positionWeight="65" value="@@@9076@@@" name="Ecuador"/>
      <codingSetValue description="Egypt" positionWeight="66" value="@@@9077@@@" name="Egypt"/>
      <codingSetValue description="El Salvador" positionWeight="67" value="@@@9078@@@" name="ElSalvador"/>
      <codingSetValue description="Equatorial Guinea" positionWeight="68" value="@@@9079@@@" name="EquatorialGuinea"/>
      <codingSetValue description="Eritrea" positionWeight="69" value="@@@9080@@@" name="Eritrea"/>
      <codingSetValue description="Estonia" positionWeight="70" value="@@@9081@@@" name="Estonia"/>
      <codingSetValue description="Ethiopia" positionWeight="71" value="@@@9082@@@" name="Ethiopia"/>
      <codingSetValue description="Falkland Islands (Malvinas)" positionWeight="72" value="@@@9083@@@" name="FalklandIslandsMalvinas"/>
      <codingSetValue description="Faroe Islands" positionWeight="73" value="@@@9084@@@" name="FaroeIslands"/>
      <codingSetValue description="Fiji" positionWeight="74" value="@@@9085@@@" name="Fiji"/>
      <codingSetValue description="Finland" positionWeight="75" value="@@@9086@@@" name="Finland"/>
      <codingSetValue description="France" positionWeight="76" value="@@@9087@@@" name="France"/>
      <codingSetValue description="French Guiana" positionWeight="77" value="@@@9088@@@" name="FrenchGuiana"/>
      <codingSetValue description="French Polynesia" positionWeight="78" value="@@@9089@@@" name="FrenchPolynesia"/>
      <codingSetValue description="French Southern Territories" positionWeight="79" value="@@@9090@@@" name="FrenchSouthernTerritories"/>
      <codingSetValue description="Gabon" positionWeight="80" value="@@@9091@@@" name="Gabon"/>
      <codingSetValue description="Gambia" positionWeight="81" value="@@@9092@@@" name="Gambia"/>
      <codingSetValue description="Georgia" positionWeight="82" value="@@@9093@@@" name="Georgia"/>
      <codingSetValue description="Germany" positionWeight="83" value="@@@9094@@@" name="Germany"/>
      <codingSetValue description="Ghana" positionWeight="84" value="@@@9095@@@" name="Ghana"/>
      <codingSetValue description="Gibraltar" positionWeight="85" value="@@@9096@@@" name="Gibraltar"/>
      <codingSetValue description="Greece" positionWeight="86" value="@@@9097@@@" name="Greece"/>
      <codingSetValue description="Greenland" positionWeight="87" value="@@@9098@@@" name="Greenland"/>
      <codingSetValue description="Grenada" positionWeight="88" value="@@@9099@@@" name="Grenada"/>
      <codingSetValue description="Guadeloupe" positionWeight="89" value="@@@90100@@@" name="Guadeloupe"/>
      <codingSetValue description="Guam" positionWeight="90" value="@@@90101@@@" name="Guam"/>
      <codingSetValue description="Guatemala" positionWeight="91" value="@@@90102@@@" name="Guatemala"/>
      <codingSetValue description="Guernsey" positionWeight="92" value="@@@90103@@@" name="Guernsey"/>
      <codingSetValue description="Guinea" positionWeight="93" value="@@@90104@@@" name="Guinea"/>
      <codingSetValue description="Guinea-Bissau" positionWeight="94" value="@@@90105@@@" name="Guinea-Bissau"/>
      <codingSetValue description="Guyana" positionWeight="95" value="@@@90106@@@" name="Guyana"/>
      <codingSetValue description="Haiti" positionWeight="96" value="@@@90107@@@" name="Haiti"/>
      <codingSetValue description="Heard Island and McDonald Islands" positionWeight="97" value="@@@90108@@@" name="HeardIslandandMcDonaldIslands"/>
      <codingSetValue description="Holy See (Vatican City State)" positionWeight="98" value="@@@90109@@@" name="HolySeeVaticanCityState"/>
      <codingSetValue description="Honduras" positionWeight="99" value="@@@90110@@@" name="Honduras"/>
      <codingSetValue description="Hong Kong" positionWeight="100" value="@@@90111@@@" name="HongKong"/>
      <codingSetValue description="Hungary" positionWeight="101" value="@@@90112@@@" name="Hungary"/>
      <codingSetValue description="Iceland" positionWeight="102" value="@@@90113@@@" name="Iceland"/>
      <codingSetValue description="India" positionWeight="103" value="@@@90114@@@" name="India"/>
      <codingSetValue description="Indonesia" positionWeight="104" value="@@@90115@@@" name="Indonesia"/>
      <codingSetValue description="Iran, Islamic Republic of" positionWeight="105" value="@@@90116@@@" name="IranIslamicRepublicof"/>
      <codingSetValue description="Iraq" positionWeight="106" value="@@@90117@@@" name="Iraq"/>
      <codingSetValue description="Ireland" positionWeight="107" value="@@@90118@@@" name="Ireland"/>
      <codingSetValue description="Isle of Man" positionWeight="108" value="@@@90119@@@" name="IsleofMan"/>
      <codingSetValue description="Israel" positionWeight="109" value="@@@90120@@@" name="Israel"/>
      <codingSetValue description="Italy" positionWeight="0" value="@@@90121@@@" name="Italy"/>
      <codingSetValue description="Jamaica" positionWeight="111" value="@@@90122@@@" name="Jamaica"/>
      <codingSetValue description="Japan" positionWeight="112" value="@@@90123@@@" name="Japan"/>
      <codingSetValue description="Jersey" positionWeight="113" value="@@@90124@@@" name="Jersey"/>
      <codingSetValue description="Jordan" positionWeight="114" value="@@@90125@@@" name="Jordan"/>
      <codingSetValue description="Kazakhstan" positionWeight="115" value="@@@90126@@@" name="Kazakhstan"/>
      <codingSetValue description="Kenya" positionWeight="116" value="@@@90127@@@" name="Kenya"/>
      <codingSetValue description="Kiribati" positionWeight="117" value="@@@90128@@@" name="Kiribati"/>
      <codingSetValue description="Korea, Republic of" positionWeight="119" value="@@@90130@@@" name="KoreaRepublicof"/>
      <codingSetValue description="Kuwait" positionWeight="120" value="@@@90131@@@" name="Kuwait"/>
      <codingSetValue description="Kyrgyzstan" positionWeight="121" value="@@@90132@@@" name="Kyrgyzstan"/>
      <codingSetValue description="Latvia" positionWeight="123" value="@@@90134@@@" name="Latvia"/>
      <codingSetValue description="Lebanon" positionWeight="124" value="@@@90135@@@" name="Lebanon"/>
      <codingSetValue description="Lesotho" positionWeight="125" value="@@@90136@@@" name="Lesotho"/>
      <codingSetValue description="Liberia" positionWeight="126" value="@@@90137@@@" name="Liberia"/>
      <codingSetValue description="Libyan Arab Jamahiriya" positionWeight="127" value="@@@90138@@@" name="LibyanArabJamahiriya"/>
      <codingSetValue description="Liechtenstein" positionWeight="128" value="@@@90139@@@" name="Liechtenstein"/>
      <codingSetValue description="Lithuania" positionWeight="129" value="@@@90140@@@" name="Lithuania"/>
      <codingSetValue description="Luxembourg" positionWeight="130" value="@@@90141@@@" name="Luxembourg"/>
      <codingSetValue description="Macao" positionWeight="131" value="@@@90142@@@" name="Macao"/>
      <codingSetValue description="Macedonia, the Former Yugoslav Republic of" positionWeight="132" value="@@@90143@@@" name="MacedoniatheFormerYugoslavRepublicof"/>
      <codingSetValue description="Madagascar" positionWeight="133" value="@@@90144@@@" name="Madagascar"/>
      <codingSetValue description="Malawi" positionWeight="134" value="@@@90145@@@" name="Malawi"/>
      <codingSetValue description="Malaysia" positionWeight="135" value="@@@90146@@@" name="Malaysia"/>
      <codingSetValue description="Maldives" positionWeight="136" value="@@@90147@@@" name="Maldives"/>
      <codingSetValue description="Mali" positionWeight="137" value="@@@90148@@@" name="Mali"/>
      <codingSetValue description="Malta" positionWeight="138" value="@@@90149@@@" name="Malta"/>
      <codingSetValue description="Marshall Islands" positionWeight="139" value="@@@90150@@@" name="MarshallIslands"/>
      <codingSetValue description="Martinique" positionWeight="140" value="@@@90151@@@" name="Martinique"/>
      <codingSetValue description="Mauritania" positionWeight="141" value="@@@90152@@@" name="Mauritania"/>
      <codingSetValue description="Mauritius" positionWeight="142" value="@@@90153@@@" name="Mauritius"/>
      <codingSetValue description="Mayotte" positionWeight="143" value="@@@90154@@@" name="Mayotte"/>
      <codingSetValue description="Mexico" positionWeight="144" value="@@@90155@@@" name="Mexico"/>
      <codingSetValue description="Micronesia, Federated States of" positionWeight="145" value="@@@90156@@@" name="MicronesiaFederatedStatesof"/>
      <codingSetValue description="Moldova" positionWeight="146" value="@@@90157@@@" name="Moldova"/>
      <codingSetValue description="Monaco" positionWeight="147" value="@@@90158@@@" name="Monaco"/>
      <codingSetValue description="Mongolia" positionWeight="148" value="@@@90159@@@" name="Mongolia"/>
      <codingSetValue description="Montenegro" positionWeight="149" value="@@@90160@@@" name="Montenegro"/>
      <codingSetValue description="Montserrat" positionWeight="150" value="@@@90161@@@" name="Montserrat"/>
      <codingSetValue description="Morocco" positionWeight="151" value="@@@90162@@@" name="Morocco"/>
      <codingSetValue description="Mozambique" positionWeight="152" value="@@@90163@@@" name="Mozambique"/>
      <codingSetValue description="Myanmar" positionWeight="153" value="@@@90164@@@" name="Myanmar"/>
      <codingSetValue description="Namibia" positionWeight="154" value="@@@90165@@@" name="Namibia"/>
      <codingSetValue description="Nauru" positionWeight="155" value="@@@90166@@@" name="Nauru"/>
      <codingSetValue description="Nepal" positionWeight="156" value="@@@90167@@@" name="Nepal"/>
      <codingSetValue description="Netherlands" positionWeight="157" value="@@@90168@@@" name="Netherlands"/>
      <codingSetValue description="Netherlands Antilles" positionWeight="158" value="@@@90169@@@" name="NetherlandsAntilles"/>
      <codingSetValue description="New Caledonia" positionWeight="159" value="@@@90170@@@" name="NewCaledonia"/>
      <codingSetValue description="New Zealand" positionWeight="160" value="@@@90171@@@" name="NewZealand"/>
      <codingSetValue description="Nicaragua" positionWeight="161" value="@@@90172@@@" name="Nicaragua"/>
      <codingSetValue description="Niger" positionWeight="162" value="@@@90173@@@" name="Niger"/>
      <codingSetValue description="Nigeria" positionWeight="163" value="@@@90174@@@" name="Nigeria"/>
      <codingSetValue description="Niue" positionWeight="164" value="@@@90175@@@" name="Niue"/>
      <codingSetValue description="Norfolk Island" positionWeight="165" value="@@@90176@@@" name="NorfolkIsland"/>
      <codingSetValue description="Northern Mariana Islands" positionWeight="166" value="@@@90177@@@" name="NorthernMarianaIslands"/>
      <codingSetValue description="Norway" positionWeight="167" value="@@@90178@@@" name="Norway"/>
      <codingSetValue description="Oman" positionWeight="168" value="@@@90179@@@" name="Oman"/>
      <codingSetValue description="Pakistan" positionWeight="169" value="@@@90180@@@" name="Pakistan"/>
      <codingSetValue description="Palau" positionWeight="170" value="@@@90181@@@" name="Palau"/>
      <codingSetValue description="Palestinian Territory, Occupied" positionWeight="171" value="@@@90182@@@" name="PalestinianTerritoryOccupied"/>
      <codingSetValue description="Panama" positionWeight="172" value="@@@90183@@@" name="Panama"/>
      <codingSetValue description="Papua New Guinea" positionWeight="173" value="@@@90184@@@" name="PapuaNewGuinea"/>
      <codingSetValue description="Paraguay" positionWeight="174" value="@@@90185@@@" name="Paraguay"/>
      <codingSetValue description="Peru" positionWeight="175" value="@@@90186@@@" name="Peru"/>
      <codingSetValue description="Philippines" positionWeight="176" value="@@@90187@@@" name="Philippines"/>
      <codingSetValue description="Pitcairn" positionWeight="177" value="@@@90188@@@" name="Pitcairn"/>
      <codingSetValue description="Poland" positionWeight="178" value="@@@90189@@@" name="Poland"/>
      <codingSetValue description="Portugal" positionWeight="179" value="@@@90190@@@" name="Portugal"/>
      <codingSetValue description="Puerto Rico" positionWeight="180" value="@@@90191@@@" name="PuertoRico"/>
      <codingSetValue description="Qatar" positionWeight="181" value="@@@90192@@@" name="Qatar"/>
      <codingSetValue description="R&#233;union" positionWeight="182" value="@@@90193@@@" name="Runion"/>
      <codingSetValue description="Romania" positionWeight="183" value="@@@90194@@@" name="Romania"/>
      <codingSetValue description="Russian Federation" positionWeight="184" value="@@@90195@@@" name="RussianFederation"/>
      <codingSetValue description="Rwanda" positionWeight="185" value="@@@90196@@@" name="Rwanda"/>
      <codingSetValue description="Saint Barth&#233;lemy" positionWeight="186" value="@@@90197@@@" name="SaintBarthlemy"/>
      <codingSetValue description="Saint Helena" positionWeight="187" value="@@@90198@@@" name="SaintHelena"/>
      <codingSetValue description="Saint Kitts and Nevis" positionWeight="188" value="@@@90199@@@" name="SaintKittsandNevis"/>
      <codingSetValue description="Saint Lucia" positionWeight="189" value="@@@90200@@@" name="SaintLucia"/>
      <codingSetValue description="Saint Martin" positionWeight="190" value="@@@90201@@@" name="SaintMartin"/>
      <codingSetValue description="Saint Pierre and Miquelon" positionWeight="191" value="@@@90202@@@" name="SaintPierreandMiquelon"/>
      <codingSetValue description="Saint Vincent and the Grenadines" positionWeight="192" value="@@@90203@@@" name="SaintVincentandtheGrenadines"/>
      <codingSetValue description="Samoa" positionWeight="193" value="@@@90204@@@" name="Samoa"/>
      <codingSetValue description="San Marino" positionWeight="194" value="@@@90205@@@" name="SanMarino"/>
      <codingSetValue description="Sao Tome and Principe" positionWeight="195" value="@@@90206@@@" name="SaoTomeandPrincipe"/>
      <codingSetValue description="Saudi Arabia" positionWeight="196" value="@@@90207@@@" name="SaudiArabia"/>
      <codingSetValue description="Senegal" positionWeight="197" value="@@@90208@@@" name="Senegal"/>
      <codingSetValue description="Serbia" positionWeight="198" value="@@@90209@@@" name="Serbia"/>
      <codingSetValue description="Seychelles" positionWeight="199" value="@@@90210@@@" name="Seychelles"/>
      <codingSetValue description="Sierra Leone" positionWeight="200" value="@@@90211@@@" name="SierraLeone"/>
      <codingSetValue description="Singapore" positionWeight="201" value="@@@90212@@@" name="Singapore"/>
      <codingSetValue description="Slovakia" positionWeight="202" value="@@@90213@@@" name="Slovakia"/>
      <codingSetValue description="Slovenia" positionWeight="203" value="@@@90214@@@" name="Slovenia"/>
      <codingSetValue description="Solomon Islands" positionWeight="204" value="@@@90215@@@" name="SolomonIslands"/>
      <codingSetValue description="Somalia" positionWeight="205" value="@@@90216@@@" name="Somalia"/>
      <codingSetValue description="South Africa" positionWeight="206" value="@@@90217@@@" name="SouthAfrica"/>
      <codingSetValue description="South Georgia and the South Sandwich Islands" positionWeight="207" value="@@@90218@@@" name="SouthGeorgiaandtheSouthSandwichIslands"/>
      <codingSetValue description="Spain" positionWeight="208" value="@@@90219@@@" name="Spain"/>
      <codingSetValue description="Sri Lanka" positionWeight="209" value="@@@90220@@@" name="SriLanka"/>
      <codingSetValue description="Sudan" positionWeight="210" value="@@@90221@@@" name="Sudan"/>
      <codingSetValue description="Suriname" positionWeight="211" value="@@@90222@@@" name="Suriname"/>
      <codingSetValue description="Svalbard and Jan Mayen" positionWeight="212" value="@@@90223@@@" name="SvalbardandJanMayen"/>
      <codingSetValue description="Swaziland" positionWeight="213" value="@@@90224@@@" name="Swaziland"/>
      <codingSetValue description="Sweden" positionWeight="214" value="@@@90225@@@" name="Sweden"/>
      <codingSetValue description="Switzerland" positionWeight="215" value="@@@90226@@@" name="Switzerland"/>
      <codingSetValue description="Syrian Arab Republic" positionWeight="216" value="@@@90227@@@" name="SyrianArabRepublic"/>
      <codingSetValue description="Taiwan, Province of China" positionWeight="217" value="@@@90228@@@" name="TaiwanProvinceofChina"/>
      <codingSetValue description="Tajikistan" positionWeight="218" value="@@@90229@@@" name="Tajikistan"/>
      <codingSetValue description="Tanzania, United Republic of" positionWeight="219" value="@@@90230@@@" name="TanzaniaUnitedRepublicof"/>
      <codingSetValue description="Thailand" positionWeight="220" value="@@@90231@@@" name="Thailand"/>
      <codingSetValue description="Timor-Leste" positionWeight="221" value="@@@90232@@@" name="Timor-Leste"/>
      <codingSetValue description="Togo" positionWeight="222" value="@@@90233@@@" name="Togo"/>
      <codingSetValue description="Tokelau" positionWeight="223" value="@@@90234@@@" name="Tokelau"/>
      <codingSetValue description="Tonga" positionWeight="224" value="@@@90235@@@" name="Tonga"/>
      <codingSetValue description="Trinidad and Tobago" positionWeight="225" value="@@@90236@@@" name="TrinidadandTobago"/>
      <codingSetValue description="Tunisia" positionWeight="226" value="@@@90237@@@" name="Tunisia"/>
      <codingSetValue description="Turkey" positionWeight="227" value="@@@90238@@@" name="Turkey"/>
      <codingSetValue description="Turkmenistan" positionWeight="228" value="@@@90239@@@" name="Turkmenistan"/>
      <codingSetValue description="Turks and Caicos Islands" positionWeight="229" value="@@@90240@@@" name="TurksandCaicosIslands"/>
      <codingSetValue description="Tuvalu" positionWeight="230" value="@@@90241@@@" name="Tuvalu"/>
      <codingSetValue description="Uganda" positionWeight="231" value="@@@90242@@@" name="Uganda"/>
      <codingSetValue description="Ukraine" positionWeight="232" value="@@@90243@@@" name="Ukraine"/>
      <codingSetValue description="United Arab Emirates" positionWeight="233" value="@@@90244@@@" name="UnitedArabEmirates"/>
      <codingSetValue description="United Kingdom" positionWeight="234" value="@@@90245@@@" name="UnitedKingdom"/>
      <codingSetValue description="United States" positionWeight="235" value="@@@90246@@@" name="UnitedStates"/>
      <codingSetValue description="United States Minor Outlying Islands" positionWeight="236" value="@@@90247@@@" name="UnitedStatesMinorOutlyingIslands"/>
      <codingSetValue description="Uruguay" positionWeight="237" value="@@@90248@@@" name="Uruguay"/>
      <codingSetValue description="Uzbekistan" positionWeight="238" value="@@@90249@@@" name="Uzbekistan"/>
      <codingSetValue description="Vanuatu" positionWeight="239" value="@@@90250@@@" name="Vanuatu"/>
      <codingSetValue description="Venezuela" positionWeight="240" value="@@@90251@@@" name="Venezuela"/>
      <codingSetValue description="Viet Nam" positionWeight="241" value="@@@90252@@@" name="VietNam"/>
      <codingSetValue description="Virgin Islands, British" positionWeight="242" value="@@@90253@@@" name="VirginIslandsBritish"/>
      <codingSetValue description="Virgin Islands, U.S." positionWeight="243" value="@@@90254@@@" name="VirginIslandsUS"/>
      <codingSetValue description="Wallis and Futuna" positionWeight="244" value="@@@90255@@@" name="WallisandFutuna"/>
      <codingSetValue description="Western Sahara" positionWeight="245" value="@@@90256@@@" name="WesternSahara"/>
      <codingSetValue description="Yemen" positionWeight="246" value="@@@90257@@@" name="Yemen"/>
      <codingSetValue description="Zambia" positionWeight="247" value="@@@90258@@@" name="Zambia"/>
      <codingSetValue description="Zimbabwe" positionWeight="248" value="@@@90259@@@" name="Zimbabwe"/>
    </codingSet>
    
    
  </codingSets>

  <errors>
    <!--<error textId="1001" expression="'''
    if |domus.intestinalInsufficiency.intestinalInsufficiency| and |domus.intestinalInsufficiency.intestinalInsufficiency|[0] == 'domus.yesNoCodification.yes':
        result = False
    elif |domus.enteralNutritionIntolerance.enteralNutritionIntolerance| and |domus.enteralNutritionIntolerance.enteralNutritionIntolerance|[0] == 'domus.yesNoCodification.yes':
        result = False
    elif |domus.danOtherIndicationsDetail.danOtherIndicationsDetail|[0]:
        result = False
    elif not |domus.pdnPrescription.infusionsPerWeek|:
        result = False
    else:
        result = True
    '''" id="1"/>
    <error textId="1002" warning="1" expression="result = |domus.tumorStageNotAvailable.tumorStageNotAvailable| and |domus.tumorStageNotAvailable.tumorStageNotAvailable|[0]" id="2"/>
    <error textId="1003" warning="1" expression="'''
    result = |domus.albumin.albumin| and ((|domus.albumin.albuminUnits|[0] == 'domus.albuminUnitsCodification.gdL' and |domus.albumin.albumin|[0] < 3.5) or (|domus.albumin.albuminUnits|[0] == 'domus.albuminUnitsCodification.gL' and |domus.albumin.albumin|[0] < 35.0))
    '''" id="3"/>
    <error textId="1004" warning="1" expression="'''
    result = |domus.prealbumin.prealbumin| and ((|domus.prealbumin.prealbuminUnits|[0] == 'domus.prealbuminUnitsCodification.mgdL' and |domus.prealbumin.prealbumin|[0] < 22.0))
    '''" id="4"/>
    <error textId="1005" warning="1" expression="'''
    result = |domus.transferrin.transferrin| and ((|domus.transferrin.transferrinUnits|[0] == 'domus.transferrinUnitsCodification.mgdL' and (|domus.transferrin.transferrin|[0] < 200.0 or |domus.transferrin.transferrin|[0] > 350.0)) or (|domus.transferrin.transferrinUnits|[0] == 'domus.transferrinUnitsCodification.gL' and (|domus.transferrin.transferrin|[0] < 2.0 or |domus.transferrin.transferrin|[0] > 3.6)))
    '''" id="5"/>
    <error textId="1006" warning="1" expression="'''
    result = |domus.crp.crp| and ((|domus.crp.crpUnits|[0] == 'domus.crpUnitsCodification.mgdL' and (|domus.crp.crp|[0] < 0.0 or |domus.crp.crp|[0] > 0.75)) or (|domus.crp.crpUnits|[0] == 'domus.crpUnitsCodification.mgL' and (|domus.crp.crp|[0] < 0.0 or |domus.crp.crp|[0] > 10.0)))
    '''" id="6"/>
    
   <error textId="1003" warning="1" expression="'''
    result = |domus.albuminFollowUp.albuminFollowUp| and ((|domus.albuminFollowUp.albuminUnits|[0] == 'domus.albuminUnitsCodification.gdL' and |domus.albuminFollowUp.albuminFollowUp|[0] < 3.5) or (|domus.albuminFollowUp.albuminUnits|[0] == 'domus.albuminUnitsCodification.gL' and |domus.albuminFollowUp.albuminFollowUp|[0] < 35.0))
    '''" id="7"/>
    <error textId="1004" warning="1" expression="'''
    result = |domus.prealbuminFollowUp.prealbuminFollowUp| and ((|domus.prealbuminFollowUp.prealbuminUnits|[0] == 'domus.prealbuminUnitsCodification.mgdL' and |domus.prealbuminFollowUp.prealbuminFollowUp|[0] < 22.0))
    '''" id="8"/>
    <error textId="1005" warning="1" expression="'''
    result = |domus.transferrinFollowUp.transferrinFollowUp| and ((|domus.transferrinFollowUp.transferrinUnits|[0] == 'domus.transferrinUnitsCodification.mgdL' and (|domus.transferrinFollowUp.transferrinFollowUp|[0] < 200.0 or |domus.transferrinFollowUp.transferrinFollowUp|[0] > 350.0)) or (|domus.transferrinFollowUp.transferrinUnits|[0] == 'domus.transferrinUnitsCodification.gL' and (|domus.transferrinFollowUp.transferrinFollowUp|[0] < 2.0 or |domus.transferrinFollowUp.transferrinFollowUp|[0] > 3.6)))
    '''" id="9"/>
    <error textId="1006" warning="1" expression="'''
    result = |domus.crpFollowUp.crpFollowUp| and ((|domus.crpFollowUp.crpUnits|[0] == 'domus.crpUnitsCodification.mgdL' and (|domus.crpFollowUp.crpFollowUp|[0] < 0.0 or |domus.crpFollowUp.crpFollowUp|[0] > 0.75)) or (|domus.crpFollowUp.crpUnits|[0] == 'domus.crpUnitsCodification.mgL' and (|domus.crpFollowUp.crpFollowUp|[0] < 0.0 or |domus.crpFollowUp.crpFollowUp|[0] > 10.0)))
    '''" id="10"/>    
    
    <error textId="1011" warning="1" expression="'''
    result = |domus.oncologicPatientType.oncologicPatientType| and |domus.oncologicPatientType.oncologicPatientType|[0] in ['domus.oncologicPatientTypeCodification.AT','domus.oncologicPatientTypeCodification.PAL'] and |domus.tumorStage.tumorStage| and |domus.tumorStage.tumorStage| [0] in ['domus.tumorStageCodification.stage1','domus.tumorStageCodification.stage2']
    '''" id="11"/>-->
  </errors>

  <expressions>
    <expression name="foo" body="'''
    def foo(a,b):
        return a+b
    '''" dependencies="domus.name.firstName;domus.name.lastName" />
    <!-- this should go in a class like this
    <class dataStorage="admission" name="boo">
      <attribute dataType="int" name="boo" computedFormula="result = @domus.foo@(1,2)"/>
    </class>
    -->
  </expressions>
</crf>
 
